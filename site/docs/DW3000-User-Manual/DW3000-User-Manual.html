<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
 </head>
 <body>
  <p>
   <span id="page-0-0">
   </span>
   <img src="_page_0_Picture_0.jpeg"/>
  </p>
  <p block-type="Text">
   <b>
    DW3000 USER MANUAL
   </b>
  </p>
  <h1>
   <b>
    DW3000 FAMILY USER  MANUAL
   </b>
  </h1>
  <p block-type="Text">
   <b>
    HOW TO USE, CONFIGURE AND  CONTROL THE DW3000 UWB  TRANSCEIVER
   </b>
  </p>
  <p block-type="Text">
   <b>
    This document is subject to change without notice
   </b>
  </p>
  <h2>
   <b>
    Table of Contents
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th colspan="6">
      LIST OF FIGURES  4
     </th>
    </tr>
    <tr>
     <th colspan="7">
      LIST OF TABLES  5
     </th>
    </tr>
    <tr>
     <th>
      1
     </th>
     <th colspan="6">
      INTRODUCTION 7
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      1.1
     </th>
     <th>
      ABOUT THE DW3000  7
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      1.2
     </th>
     <th>
      ABOUT THIS DOCUMENT  8
     </th>
    </tr>
    <tr>
     <th>
      2
     </th>
     <th>
     </th>
     <th>
      OVERVIEW OF THE DW300010
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.1
     </th>
     <th>
      INTRODUCTION 10
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.2
     </th>
     <th>
      COMPARISON AND COMPATIBILITY WITH DW1000
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      10
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.3
     </th>
     <th>
      INTERFACING TO THE DW3000  11
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.4
     </th>
     <th>
      DW3000 OPERATIONAL STATES  18
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.5
     </th>
     <th>
      POWER ON RESET (POR) 21
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.6
     </th>
     <th>
      UWB CHANNELS AND PREAMBLE CODES  28
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.7
     </th>
     <th>
      DATA MODULATION SCHEME  28
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.8
     </th>
     <th>
      SYNCHRONISATION HEADER MODULATION SCHEME29
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.9
     </th>
     <th>
      PHY HEADER: STANDARD DATA FRAME LENGTH 30
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      2.10
     </th>
     <th>
      EXTENDED PHY HEADER: EXTENDED DATA FRAME
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      LENGTH
     </th>
     <th>
      31
     </th>
    </tr>
    <tr>
     <th>
      3
     </th>
     <th>
     </th>
     <th>
      MESSAGE TRANSMISSION33
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      3.1
     </th>
     <th>
      BASIC TRANSMISSION 33
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      3.2
     </th>
     <th>
      TRANSMISSION TIMESTAMP 34
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      3.3
     </th>
     <th>
      DELAYED TRANSMISSION 35
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      3.4
     </th>
     <th>
      EXTENDED LENGTH DATA FRAMES  36
     </th>
    </tr>
    <tr>
     <th>
      4
     </th>
     <th>
     </th>
     <th>
      MESSAGE RECEPTION38
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.1
     </th>
     <th>
      PHY RECEPTION 38
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.2
     </th>
     <th>
      TDOA AND PDOA SUPPORT 41
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.3
     </th>
     <th>
      DELAYED RECEIVE  41
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.4
     </th>
     <th>
      DOUBLE RECEIVE BUFFER  42
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.5
     </th>
     <th>
      LOW-POWER SNIFF MODE 45
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.6
     </th>
     <th>
      DIAGNOSTICS  46
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      4.7
     </th>
     <th>
      ASSESSING THE QUALITY OF RECEPTION AND THE RX
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      TIMESTAMP 47
     </th>
    </tr>
    <tr>
     <th>
      5
     </th>
     <th>
     </th>
     <th>
      MEDIA ACCESS CONTROL (MAC) HARDWARE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      FEATURES 50
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.1
     </th>
     <th>
      MAC LEVEL PROCESSING IN THE DW3000  50
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.2
     </th>
     <th>
      GENERAL MAC MESSAGE FORMAT  50
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.3
     </th>
     <th>
      CYCLIC REDUNDANCY CHECK  51
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.4
     </th>
     <th>
      FRAME FILTERING 51
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.5
     </th>
     <th>
      AUTOMATIC ACKNOWLEDGEMENT 53
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.6
     </th>
     <th>
      TRANSMIT AND AUTOMATICALLY WAIT FOR RESPONSE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      55
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5.7
     </th>
     <th>
      PSEUDO CLEAR CHANNEL ASSESSMENT (CCA)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
     </td>
     <td>
      MECHANISM 55
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      SECURE RANGING / TIMESTAMPING62
      <br/>
      OTHER FEATURES OF THE IC 66
      <br/>
      EXTERNAL SYNCHRONISATION 66
      <br/>
      EXTERNAL POWER AMPLIFICATION  67
      <br/>
      USING THE ON-CHIP OTP MEMORY 67
      <br/>
      MEASURING IC TEMPERATURE AND VOLTAGE 70
      <br/>
      THE BROWNOUT DETECTOR  70
      <br/>
      THE DW3000 REGISTER SET 71
      <br/>
      REGISTER MAP OVERVIEW  71
      <br/>
      DETAILED REGISTER DESCRIPTION 72
      <br/>
      FAST COMMANDS 238
      <br/>
      CMD_TXRXOFF  238
      <br/>
      CMD_TX  239
      <br/>
      CMD_RX 239
      <br/>
      CMD_DTX 239
      <br/>
      CMD_DRX  240
      <br/>
      CMD_DTX_TS 240
     </th>
    </tr>
    <tr>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_TS 240
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_RS 241
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_RS  241
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_REF 241
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_REF  241
     </td>
    </tr>
    <tr>
     <td>
      CMD_CCA_TX  241
     </td>
    </tr>
    <tr>
     <td>
      CMD_TX_W4R  241
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_W4R 241
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_TS_W4R  242
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_RS_W4R 242
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_REF_W4R  242
     </td>
    </tr>
    <tr>
     <td>
      CMD_CCA_TX_W4R 242
     </td>
    </tr>
    <tr>
     <td>
      CMD_CLR_IRQS  242
     </td>
    </tr>
    <tr>
     <td>
      CMD_DB_TOGGLE  242
     </td>
    </tr>
    <tr>
     <th>
      CALIBRATION 243
     </th>
    </tr>
    <tr>
     <td>
      IC CALIBRATION – CRYSTAL OSCILLATOR TRIM 243
     </td>
    </tr>
    <tr>
     <td>
      IC CALIBRATION – TRANSMIT POWER AND SPECTRUM
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      IC CALIBRATION – ANTENNA DELAY  244
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TEMPERATURE 245
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <th>
      LOCATION SCHEMES246
     </th>
    </tr>
    <tr>
     <td>
      APPENDIX 1: TWO-WAY RANGING 248
     </td>
    </tr>
    <tr>
     <td>
      INTRODUCTION  248
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      12.3
     </th>
     <th>
      DOUBLE-SIDED TWO-WAY RANGING 249
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      13
     </th>
     <th>
     </th>
     <th>
      APPENDIX 2: ABBREVIATIONS AND ACRONYMS
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      251
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      14
     </th>
     <th>
     </th>
     <th>
      APPENDIX 3: REFERENCES 254
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      15
     </th>
     <th>
     </th>
     <th>
      DOCUMENT HISTORY 254
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    ABOUT DECAWAVE
    <a href="#page-254-0">
     ........................................255
    </a>
   </b>
  </p>
  <p block-type="Text">
  </p>
  <h2>
   <b>
    List of Figures
   </b>
  </h2>
  <span id="page-3-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      FIGURE 1: SPI TRANSACTION HEADER AND TRANSACTION DATA 12
     </th>
    </tr>
    <tr>
     <td>
      FIGURE 2: SPI COMMAND FORMATTING 13
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 3: SINGLE OCTET FAST COMMAND (START TX) SPI
     </td>
    </tr>
    <tr>
     <td>
      TRANSACTION 14
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 4: READING FIRST OCTET FROM DEV_ID REGISTER OF THE
     </td>
    </tr>
    <tr>
     <td>
      IC  14
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 5: WRITING TWO OCTETS TO REGISTER 0X2 SUBADDRESS
     </td>
    </tr>
    <tr>
     <td>
      0X1C 15
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 6: SPI CRC POLYNOMIAL IMPLEMENTATION 16
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 7: DW3000 STATE DIAGRAM  18
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 8: TIMING DIAGRAM FOR COLD START POR 22
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 9: TIMING DIAGRAM FOR WARM START (@ VDD = 3V)23
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 10: BPM/BPSK DATA AND PHR MODULATION  29
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 11: PHR BIT ASSIGNMENT  31
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 12: PHR BIT ASSIGNMENT EXTENDED LENGTH FRAMES. 32
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 13: PACKET FORMATS 33
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 14: BASIC TRANSMIT SEQUENCE 34
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 14: PHR ENCODING EXTENDED LENGTH FRAMES  36
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 15: RECEIVE SEQUENCE 38
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 16: FLOW CHART FOR USING DOUBLE RX BUFFERING  44
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 17: STATE TRANSITIONS DURING SNIFF MODE  45
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 18 POWER PROFILE FOR SNIFF WHERE A PACKET IS NOT
     </td>
    </tr>
    <tr>
     <td>
      RECEIVED 46
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 19 POWER PROFILE FOR SNIFF WHERE A PACKET IS
     </td>
    </tr>
    <tr>
     <td>
      RECEIVED 46
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      FIGURE 20: ESTIMATED RX LEVEL VERSUS ACTUAL RX LEVEL  49
     </th>
    </tr>
    <tr>
     <td>
      FIGURE 21: GENERAL MAC MESSAGE FORMAT  51
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 22: AES ENGINE SOURCE/DESTINATION BUFFERS 57
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 23: STS STRUCTURE  62
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 24: AES IN COUNTER MODE BASED CPRNG 64
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 25: DW3000 EXTERNAL SYNCHRONISATION INTERFACE
     </td>
    </tr>
    <tr>
     <td>
      66
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 26: TYPICAL TX POWER VARIATION WITH COARSE AND
     </td>
    </tr>
    <tr>
     <td>
      FINE GAIN  109
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 27: FLOW CHART FOR DIRECT READ OF AON ADDRESS169
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 28: FLOW CHART FOR DIRECT WRITE OF AON ADDRESS
     </td>
    </tr>
    <tr>
     <td>
      171
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 29: TRANSMIT AND RECEIVE ANTENNA DELAY  245
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 30: SINGLE-SIDED TWO-WAY RANGING 248
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 31: DOUBLE-SIDED TWO-WAY RANGING WITH FOUR
     </td>
    </tr>
    <tr>
     <td>
      MESSAGES 249
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 32: DOUBLE-SIDED TWO-WAY RANGING WITH THREE
     </td>
    </tr>
    <tr>
     <td>
      MESSAGES 249
     </td>
    </tr>
    <tr>
     <td>
      FIGURE 33: RANGING TO 3 ANCHORS WITH JUST 5 MESSAGES
     </td>
    </tr>
    <tr>
     <td>
      WHERE EACH ANCHOR CALCULATES ITS OWN RANGE RESULT
     </td>
    </tr>
    <tr>
     <td>
      250
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    List of Tables
   </b>
  </h2>
  <span id="page-4-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      TABLE 1: DW3000 VARIANTS  7
     </th>
    </tr>
    <tr>
     <td>
      TABLE 2: BRIEF DESCRIPTION OF DOCUMENT SECTIONS  8
     </td>
    </tr>
    <tr>
     <td>
      TABLE 3: SPI TRANSACTION TYPES 12
     </td>
    </tr>
    <tr>
     <td>
      TABLE 4: MAIN DW3000 OPERATIONAL STATES / MODES  19
     </td>
    </tr>
    <tr>
     <td>
      TABLE 5: CONFIGURATIONS MAINTAINED IN THE AON MEMORY
     </td>
    </tr>
    <tr>
     <td>
      ARRAY 25
     </td>
    </tr>
    <tr>
     <td>
      TABLE 6: DEFAULT DW3000 OPERATIONAL CONFIGURATION  26
     </td>
    </tr>
    <tr>
     <td>
      TABLE 7: GPIO DEFAULT FUNCTIONS 27
     </td>
    </tr>
    <tr>
     <td>
      TABLE 8: DW3000 SUPPORTED UWB CHANNELS AND
     </td>
    </tr>
    <tr>
     <td>
      RECOMMENDED PREAMBLE CODES 28
     </td>
    </tr>
    <tr>
     <td>
      TABLE 9: PREAMBLE PARAMETERS  30
     </td>
    </tr>
    <tr>
     <td>
      TABLE 10: PREAMBLE DURATION FIELD VALUES IN EXTENDED
     </td>
    </tr>
    <tr>
     <td>
      LENGTH FRAME PHR 32
     </td>
    </tr>
    <tr>
     <td>
      TABLE 9: PREAMBLE DURATION FIELD VALUES IN EXTENDED
     </td>
    </tr>
    <tr>
     <td>
      LENGTH FRAME PHR 37
     </td>
    </tr>
    <tr>
     <td>
      TABLE 11: RECOMMENDED PAC SIZE  39
     </td>
    </tr>
    <tr>
     <td>
      TABLE 12: FRAME TYPE FIELD VALUES  51
     </td>
    </tr>
    <tr>
     <td>
      TABLE 13: DECRYPTED STS KEY BYTES (WITH BIG ENDIAN
     </td>
    </tr>
    <tr>
     <td>
      FORMAT) 59
     </td>
    </tr>
    <tr>
     <td>
      TABLE 14: DECRYPTED STS KEY BYTES (WITH LITTLE ENDIAN
     </td>
    </tr>
    <tr>
     <td>
      FORMAT) 60
     </td>
    </tr>
    <tr>
     <td>
      TABLE 15: DECRYPTED STS KEY BYTES (WITH LITTLE ENDIAN
     </td>
    </tr>
    <tr>
     <td>
      FORMAT AND SWAPPED BY SE PRIOR TO ENCYPTION)  60
     </td>
    </tr>
    <tr>
     <td>
      TABLE 16: OTP MEMORY MAP 68
     </td>
    </tr>
    <tr>
     <td>
      TABLE 17: REGISTER MAP OVERVIEW 71
     </td>
    </tr>
    <tr>
     <td>
      TABLE 18: REGISTER FILE: 0X00-0X1 – GENERAL CONFIGURATION
     </td>
    </tr>
    <tr>
     <td>
      REGISTERS OVERVIEW 73
     </td>
    </tr>
    <tr>
     <td>
      TABLE 19: PREAMBLE LENGTH SELECTION 86
     </td>
    </tr>
    <tr>
     <td>
      TABLE 20: PREAMBLE LENGTH REPORTING  101
     </td>
    </tr>
    <tr>
     <td>
      TABLE 21: SFD TYPES 110
     </td>
    </tr>
    <tr>
     <td>
      TABLE 22: REGISTER FILE: 0X02 – STS CONFIGURATION AND
     </td>
    </tr>
    <tr>
     <td>
      STATUS OVERVIEW 123
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TABLE 23: RECEIVER TUNING PARAMETERS  126
     </td>
    </tr>
    <tr>
     <td>
      TABLE 24: REGISTER FILE: 0X05 – GPIO CONTROL AND STATUS
     </td>
    </tr>
    <tr>
     <td>
      OVERVIEW  130
     </td>
    </tr>
    <tr>
     <td>
      TABLE 25: REGISTER FILE: 0X06 – DIGITAL RECEIVER
     </td>
    </tr>
    <tr>
     <td>
      CONFIGURATION OVERVIEW  145
     </td>
    </tr>
    <tr>
     <td>
      TABLE 26: CONSTANTS FOR FREQUENCY OFFSET CALCULATION 149
     </td>
    </tr>
    <tr>
     <td>
      TABLE 27: REGISTER FILE: 0X07 – ANALOG RF CONFIGURATION
     </td>
    </tr>
    <tr>
     <td>
      BLOCK OVERVIEW 149
     </td>
    </tr>
    <tr>
     <td>
      TABLE 28: RF_ENABLE AND RF_CTRL_MASK VALUES  150
     </td>
    </tr>
    <tr>
     <td>
      TABLE 29: RF_TX_CTRL_2 VALUES 152
     </td>
    </tr>
    <tr>
     <td>
      TABLE 30: PG_DELAY RECOMMENDED VALUES  152
     </td>
    </tr>
    <tr>
     <td>
      TABLE 31: REGISTER FILE: 0X08 – TRANSMITTER CALIBRATION
      <br/>
      BLOCK OVERVIEW 156
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      TABLE 32: SUB-REGISTER 0X08:18 – PG TEST VALUES  161
     </th>
    </tr>
    <tr>
     <td>
      TABLE 33: REGISTER FILE: 0X09 – FREQUENCY SYNTHESISER
     </td>
    </tr>
    <tr>
     <td>
      CONTROL BLOCK OVERVIEW 162
     </td>
    </tr>
    <tr>
     <td>
      TABLE 34: REFERENCE VALUES SUB-REGISTER 0X09:00 – PLL
     </td>
    </tr>
    <tr>
     <td>
      CONFIGURATION  163
     </td>
    </tr>
    <tr>
     <td>
      TABLE 35: REGISTER FILE: 0X0A – ALWAYS-ON SYSTEM CONTROL
     </td>
    </tr>
    <tr>
     <td>
      OVERVIEW 165
     </td>
    </tr>
    <tr>
     <td>
      TABLE 36: REGISTER FILE: 0X0B – OTP MEMORY INTERFACE
     </td>
    </tr>
    <tr>
     <td>
      OVERVIEW 174
     </td>
    </tr>
    <tr>
     <td>
      TABLE 37: RECEIVER OPERATING PARAMETER SETS  178
     </td>
    </tr>
    <tr>
     <td>
      TABLE 38: REGISTER FILES: 0X0C, 0X0D, 0X0E – CIA INTERFACE
     </td>
    </tr>
    <tr>
     <td>
      OVERVIEW 179
     </td>
    </tr>
    <tr>
     <td>
      TABLE 39: REGISTER FILE: 0X0F – DIGITAL DIAGNOSTICS
     </td>
    </tr>
    <tr>
     <td>
      INTERFACE OVERVIEW 205
     </td>
    </tr>
    <tr>
     <td>
      TABLE 40: REGISTER FILE: 0X11 – PMSC CONTROL AND STATUS
     </td>
    </tr>
    <tr>
     <td>
      OVERVIEW 218
     </td>
    </tr>
    <tr>
     <td>
      TABLE 41: EXAMPLE SPI INDEXED READ OF ACCUMULATOR CIR
     </td>
    </tr>
    <tr>
     <td>
      MEMORY  229
     </td>
    </tr>
    <tr>
     <td>
      TABLE 42: REGISTER FILE: 0X17 – AES KEY RAM OVERVIEW 230
     </td>
    </tr>
    <tr>
     <td>
      TABLE 43: REGISTER FILE: 0X18 – DOUBLE BUFFER DIAGNOSTIC
     </td>
    </tr>
    <tr>
     <td>
      REGISTER SET OVERVIEW  231
     </td>
    </tr>
    <tr>
     <td>
      TABLE 44: REGISTER FILE: 0X1F – FINT STATUS AND INDIRECT
     </td>
    </tr>
    <tr>
     <td>
      POINTER INTERFACE OVERVIEW  233
     </td>
    </tr>
    <tr>
     <td>
      TABLE 45: LIST OF SUPPORTED FAST COMMANDS  238
     </td>
    </tr>
    <tr>
     <td>
      TABLE 46: DOCUMENT HISTORY  254
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    DOCUMENT INFORMATION
   </b>
  </h4>
  <h4>
   <b>
    Disclaimer
   </b>
  </h4>
  <p block-type="Text">
   Decawave reserves the right to change product specifications without notice. As far as possible changes to functionality and  specifications will be issued in product specific errata sheets or in new versions of this document. Customers are advised to check  with Decawave for the most recent updates on this product.
  </p>
  <p block-type="Text">
   Copyright © 2019 Decawave Ltd
  </p>
  <h4>
   <b>
    LIFE SUPPORT POLICY
   </b>
  </h4>
  <p block-type="Text">
   Decawave products are not authorized for use in safety-critical applications (such as life support) where a failure of the Decawave product would reasonably be expected to cause severe personal injury or death. Decawave customers using or selling Decawave products in such a manner do so entirely at their own risk and agree to fully indemnify Decawave and its representatives against  any damages arising out of the use of Decawave products in such safety-critical applications.
  </p>
  <p>
   <img src="_page_5_Picture_8.jpeg"/>
  </p>
  <p block-type="Text">
   <b>
    Caution!
   </b>
   ESD sensitive device. Precaution should be used when handling the device in order to prevent  permanent damage.
  </p>
  <h4>
   <b>
    REGULATORY APPROVALS
   </b>
  </h4>
  <p block-type="Text">
   <b>
    The DW3000, as supplied from Decawave, has not been certified for use in any particular geographic region by the appropriate  regulatory body governing radio emissions in that region although it is capable of such certification depending on the region and the manner in which it is used.
   </b>
  </p>
  <p block-type="Text">
   <b>
    All products developed by the user incorporating the DW3000 must be approved by the relevant authority governing radio  emissions in any given jurisdiction prior to the marketing or sale of such products in that jurisdiction and user bears all  responsibility for obtaining such approval as needed from the appropriate authorities.
   </b>
  </p>
  <h2>
   <span id="page-6-0">
   </span>
   <b>
    1 Introduction
   </b>
  </h2>
  <h2>
   <span id="page-6-1">
   </span>
   <i>
    1.1 About the DW3000
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 is a family of fully integrated low power, single chip CMOS radio transceivers IC implementing  HRP UWB PHY as specified by the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1],
   </a>
   including the BPRF mode specified by the  IEEE802.15.4z amendment
   <a href="#page-253-4">
    [2].
   </a>
   There are currently two versions a non-PDoA and an PDoA device with  0xDECA0302 and 0xDECA0312 device identifiers respectively.
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Supports UWB channels 5 and 9 (6489.6 MHz and 7987.2 MHz)
    </li>
    <li block-type="ListItem">
     Supports 2-way ranging, TDoA and optionally PDoA location schemes
    </li>
    <li block-type="ListItem">
     Low external component count
    </li>
    <li block-type="ListItem">
     Supports enhanced Time-of-Flight security modes
    </li>
    <li block-type="ListItem">
     Integrated AES CCM* and AES GCM 128/192/256 functionality
    </li>
    <li block-type="ListItem">
     Worldwide UWB Radio Regulatory compliance
    </li>
    <li block-type="ListItem">
     Low power consumption (suitable for coin cell battery powered applications)
    </li>
    <li block-type="ListItem">
     Data rates of 850 kb/s, and 6.8 Mb/s.
    </li>
    <li block-type="ListItem">
     Packet length from zero to 1023 octets.
    </li>
    <li block-type="ListItem">
     Integrated MAC support features
    </li>
    <li block-type="ListItem">
     Up to 38 MHz SPI interface to host MCU
    </li>
    <li block-type="ListItem">
     Provides precision location and data transfer simultaneously
    </li>
    <li block-type="ListItem">
     Asset location to an accuracy of 10 cm
    </li>
    <li block-type="ListItem">
     High multipath fading immunity
    </li>
    <li block-type="ListItem">
     Supports high tag densities in RTLS
    </li>
    <li block-type="ListItem">
     <span id="page-6-2">
     </span>
     • QFN40 (5mm x 5 mm) and WLCSP52 (3.1 mm x 3.5 mm) package options
    </li>
   </ul>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      IC Variant
     </th>
     <th>
      Type of package
     </th>
     <th>
      PDoA support
     </th>
     <th>
      Operating
      <br/>
      Temperature
     </th>
    </tr>
    <tr>
     <td>
      DW3110
     </td>
     <td>
      WLCSP52
     </td>
     <td>
      No
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      DW3120
     </td>
     <td>
      WLCSP52
     </td>
     <td>
      Yes
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      DW3210
     </td>
     <td>
      QFN40
     </td>
     <td>
      No
     </td>
     <td>
      -40℃
      <br/>
      to +85℃
     </td>
    </tr>
    <tr>
     <td>
      DW3220
     </td>
     <td>
      QFN40
     </td>
     <td>
      Yes
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 1: DW3000 variants
   </b>
  </h2>
  <h2>
   <span id="page-7-0">
   </span>
   <i>
    1.2 About this document
   </i>
  </h2>
  <p block-type="Text">
   This user manual describes the operation and programming of the DW3000 and discusses some of the  design choices to be considered when implementing systems using it. Information already contained in the  DW3000 Datasheet is not reproduced here and it is intended that the reader should use this user manual in  conjunction with the DW3000 Datasheet. The document is divided into a number of sections each of which  deals with a particular aspect of the DW3000 as follows: -
  </p>
  <span id="page-7-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Section
     </th>
     <th>
      Section Name
     </th>
     <th>
      Information covered
     </th>
    </tr>
    <tr>
     <td>
      2
     </td>
     <td>
      Overview of the DW3000
     </td>
     <td>
      Gives an overview of the DW3000, describes how to
      <br/>
      interface to the device and details its various operating
      <br/>
      modes
     </td>
    </tr>
    <tr>
     <td>
      3
     </td>
     <td>
      Message transmission
     </td>
     <td>
      Describes the functionality and use of the transmitter
     </td>
    </tr>
    <tr>
     <td>
      4
     </td>
     <td>
      Message reception
     </td>
     <td>
      Describes the functionality and use of the receiver
     </td>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      Media Access Control (MAC)
      <br/>
      hardware features
     </td>
     <td>
      Describes the MAC level functionality provided by the IC.
     </td>
    </tr>
    <tr>
     <td>
      6
     </td>
     <td>
      Secure ranging / timestamping
     </td>
     <td>
      Describes the secure timestamping capability of the device
     </td>
    </tr>
    <tr>
     <td>
      7
     </td>
     <td>
      Other features of the IC
     </td>
     <td>
      Describes other features supported by the device
     </td>
    </tr>
    <tr>
     <td>
      8
     </td>
     <td>
      The DW3000 register set
     </td>
     <td>
      Describes the register set in detail, lists all user accessible bit
      <br/>
      fields in each register and their respective functions.
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      Fast Commands
     </td>
     <td>
      Describes the supported "fast commands". Single octet SPI
      <br/>
      transaction command to place device into TX or RX.
     </td>
    </tr>
    <tr>
     <td>
      10
     </td>
     <td>
      Calibration
     </td>
     <td>
      Describes the parameters of the DW3000 that require
      <br/>
      calibration; the methodology that should be used in
      <br/>
      calibrating them and how often they require calibration.
     </td>
    </tr>
    <tr>
     <td>
      11
     </td>
     <td>
      Location schemes
     </td>
     <td>
      Discusses some of the issues to be considered and trade-offs
      <br/>
      to be made when building systems based on the DW3000
     </td>
    </tr>
    <tr>
     <td>
      12
     </td>
     <td>
      APPENDIX 1: Two-way ranging
     </td>
     <td>
      Gives an introduction to the use of the DW3000 in two-way
      <br/>
      ranging proximity systems
     </td>
    </tr>
    <tr>
     <td>
      13
     </td>
     <td>
      APPENDIX 2: Abbreviations and
      <br/>
      acronyms
     </td>
     <td>
      Provides a list and explanation of abbreviations and
      <br/>
      acronyms used in the rest of the document
     </td>
    </tr>
    <tr>
     <td>
      14
     </td>
     <td>
      APPENDIX 3: References
     </td>
     <td>
      Lists the documents referred to in this user manual
     </td>
    </tr>
    <tr>
     <td>
      15
     </td>
     <td>
      Document History
     </td>
     <td>
      Gives the revision history of this document
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    Table 2: Brief description of document sections
   </b>
  </h3>
  <p block-type="Text">
   Decawave also provides DW3000 device driver software as source code. This source code includes a set of  API functions to initialise, configure and control the DW3000. It provides API functions for transmission and  reception, and for driving the functionalities of the IC. The DW3000 driver source code is targeted for the  ARM Cortex-M but is readily portable to other microprocessor systems. The API code comes with a number  of simple examples that exercise the API and show how to use various features of the DW3000, including an  example of two-way ranging
   <a href="#page-253-7">
    [3].
   </a>
  </p>
  <h2>
   <span id="page-9-0">
   </span>
   <b>
    2 Overview of the DW3000
   </b>
  </h2>
  <h2>
   <span id="page-9-1">
   </span>
   <i>
    2.1 Introduction
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 consists of an analog front-end (both RF and baseband) containing a receiver and transmitter  and a digital back-end. The latter interfaces to a host processor, controls the analog front-end, accepts data  from the host processor for transmission and provides received data to the host processor over an industry  standard SPI interface.
  </p>
  <h2>
   <span id="page-9-2">
   </span>
   <i>
    2.2 Comparison and compatibility with DW1000
   </i>
  </h2>
  <p block-type="Text">
   The main differences to DW1000 are that the DW3000 has:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Reduced peak and mean power consumption figures
    </li>
    <li block-type="ListItem">
     Addition of channel 9 (with 8 GHz centre frequency)
    </li>
    <li block-type="ListItem">
     Reduced bill of materials for the full UWB solution by integrating the balun and filters on die
    </li>
    <li block-type="ListItem">
     Reduced external component count
    </li>
    <li block-type="ListItem">
     Increased ease of use for the end user via simplified software interface
    </li>
    <li block-type="ListItem">
     A family variant that optionally allows for a single chip PDoA measurement
    </li>
    <li block-type="ListItem">
     Support for enhanced Time-of-Flight security modes using
     <a href="#page-252-0">
      STS
     </a>
    </li>
    <li block-type="ListItem">
     Integrated hardware AES (GCM and CCM*) 128/192/256 for data confidentiality and authenticity
    </li>
    <li block-type="ListItem">
     No support of the 110 kb/s data rate
    </li>
    <li block-type="ListItem">
     No support of channels 1, 2, 3, 4, 7
    </li>
    <li block-type="ListItem">
     No support for Smart Tx, this must be implemented on the host instead
    </li>
    <li block-type="ListItem">
     •
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Backwards compatibility with DW1000
   </b>
  </h2>
  <p block-type="Text">
   DW3000 is backwards compatible with DW1000 for a sub-set of use case configurations. As DW3000 has a  reduced channel set, the only common channel is channel 5 (6.5 GHz). Both 16 and 64 MHz
   <a href="#page-251-0">
    PRFs
   </a>
   are supported as well as the 850 kb/s and 6.81 Mb/s data rates.
  </p>
  <p block-type="Text">
   Although the DW3000 is operationally backwards compatible with DW1000 on channel 5, modified software  is needed since the DW3000 control register interface is different to that of the DW1000. Decawave provides  an easy-to adopt DW3000 device driver and API for backwards compatibilit
   <a href="#page-253-7">
    y [3].
   </a>
  </p>
  <h2>
   <span id="page-10-0">
   </span>
   <i>
    2.3 Interfacing to the DW3000
   </i>
  </h2>
  <h2>
   <span id="page-10-1">
   </span>
   <b>
    The SPI interface
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 host communications interface is a slave-only Serial Peripheral Interface (SPI) compliant with  the industry protocol. The host system must include a master SPI bus controller in order to communicate  with the DW3000.
  </p>
  <p block-type="Text">
   The host system controls the DW3000 via the SPI, reading and writing configuration and status registers,  data buffers and issuing commands. This section describes the general format of the SPI transactions. For  details of the SPI bus signals, their voltage levels, operational mode configuration and timing parameters  please refer to the DW3000 Datasheet
   <a href="#page-253-8">
    [5].
   </a>
   The SPI-accessible buffers and registers of the DW3000 are  detailed in section
   <i>
    <a href="#page-70-0">
     8
    </a>
    –
    <a href="#page-70-0">
     The DW3000
    </a>
    register set
   </i>
   , and the commands are detailed in section
   <i>
    <a href="#page-237-0">
     9
    </a>
    –
    <a href="#page-237-0">
     Fast
    </a>
    <a href="#page-237-0">
     Commands
    </a>
   </i>
   .
  </p>
  <h3>
   <b>
    2.3.1.1 SPI operating modes
   </b>
  </h3>
  <p block-type="Text">
   The operating mode of the SPI is determined when the DW3000 is initialised as a result of a device reset or is  woken up from a sleep state. At this time GPIO lines 5 and 6 are sampled, (see
   <a href="#page-21-0">
    Figure 8)
   </a>
   , and their values  used to select the SPI polarity and phase mode respectively. Please refer to the IC Datasheet
   <a href="#page-253-8">
    [5]
   </a>
   section "SPI  Operating Modes" for details of the operation resulting from this.
  </p>
  <p block-type="Text">
   It is possible to set the SPI mode within the DW3000's one-time programmable
   <a href="#page-251-1">
    (OTP)
   </a>
   configuration block to  avoid needing any external components and leave the GPIO free for alternative use. This is a one-time  activity and cannot be reversed thus care must be taken to ensure that the desired SPI mode is correctly set if this method is used. Please refer to section
   <i>
    <a href="#page-66-1">
     7.3
    </a>
    –
    <a href="#page-66-1">
     Using the on-chip OTP
    </a>
    memory
   </i>
   for more details of
   <a href="#page-251-1">
    OTP
   </a>
   configuration.
  </p>
  <p block-type="Text">
   For full details of the SPI operating modes and their configuration, please refer to the DW3000 Datasheet.
  </p>
  <h3>
   <span id="page-10-2">
   </span>
   <b>
    2.3.1.2 Transaction formats of the SPI interface
   </b>
  </h3>
  <p block-type="Text">
   Each SPI transaction starts with a one or two octet transaction header followed by a variable number of  octets making up the transaction data. The size of an SPI transfer is not limited, however when writing to  any of the DW3000 registers care must be taken not to write extra data beyond the published length of the  selected register (see section
   <a href="#page-70-0">
    8
   </a>
   <i>
    –
    <a href="#page-70-0">
     The DW3000
    </a>
    register set
   </i>
   ) as doing so may cause the IC to malfunction.
  </p>
  <p>
   <img src="_page_11_Figure_2.jpeg"/>
  </p>
  <h3>
   <b>
    Figure 1: SPI transaction header and transaction data
   </b>
  </h3>
  <p block-type="Text">
   <span id="page-11-0">
   </span>
   Physically the SPI interface is full duplex in that every transaction shifts bits both into and out of the  DW3000. Logically however each transaction is either reading data from the DW3000 or writing data to it.  All SPI communication shown here is from the SPI-Master (host microprocessor) point of view. Thus an SPI  read means reading data from DW3000 and an SPI write means writing data into DW3000. As shown in
   <a href="#page-11-0">
    Figure 1,
   </a>
   for a read transaction all octets beyond the transaction header are ignored by the DW3000, and for  a write transaction all octets output by the DW3000 should be ignored by the host system. The SPI  transaction header selects the SPI transaction format, shown i
   <a href="#page-12-0">
    n Figure 2:
   </a>
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   The octets are physically presented on the SPI interface data lines with the high-order bit sent first in  time (MSB first). The first bit in the transaction sequence determines the direction of the communication,  which is 0 for the SPI read and 1 for the SPI write operation.
  </p>
  <span id="page-11-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      SPI transaction type
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      Fast command transaction
     </td>
     <td>
      Write a single octet command specified by the "Fast Command" field
     </td>
    </tr>
    <tr>
     <td>
      Short addressed transaction
     </td>
     <td>
      Read or write any of the 32 register file (IDs) in the range 0x00 to 0x1f as
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      specified by the 5-bit base address field.
     </td>
    </tr>
    <tr>
     <td>
      Full addressed transaction
     </td>
     <td>
      Read or write any of the 32 register files, with a sub-address (an octet
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      offset index) in the range 0x00 to 0x7F as specified by the 7-bit sub
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      address field
     </td>
    </tr>
    <tr>
     <td>
      Masked write transaction
     </td>
     <td>
      A write only transaction allowing changes to sub-fields within any register
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      file with sub-address. This transaction includes an AND-ing mask to clear
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      selected bits in the destination register and an OR-ing mask to set selected
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bits in the destination register. This command removes the need for the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      host to do a read-modify-write when it needs to set a sub-field in a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      register.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: The masked write transaction should not be used on "write-1-to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      clear" event status bits.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 3: SPI transaction types
   </b>
  </h2>
  <p block-type="Text">
  </p>
  <p block-type="Text">
   SPI transactions are enveloped by the assertion of the active low chip select line, SPICSn. The high-to-low  assertion (low) of SPICSn initialises the SPI transaction handler so that the DW3000 interprets the next  octet(s) as a new transaction header. The low-to-high de-assertion of SPICSn ends the SPI transaction.
  </p>
  <p block-type="Text">
   The SPI accessible parameters of the DW3000 are organised into 32 separate register files which are further  detailed in sectio
   <a href="#page-70-0">
    n 8
   </a>
   <i>
    –
    <a href="#page-70-0">
     The DW3000
    </a>
    register set
   </i>
   . Every SPI read or write transaction header includes a 5-bit  register file ID –
   <i>
    5-bit base address
   </i>
   – as shown in
   <a href="#page-12-0">
    Figure 2,
   </a>
   that identifies the register file is being accessed  by the transaction. Sub-addressing within the selected register file allows efficient access to all the  parameters within the DW3000. Depending on the sub-addressing being used, the transaction header is  either one or two octets long. These three types of transaction are described in the sub-sections below.
  </p>
  <p>
   <img src="_page_12_Figure_5.jpeg"/>
  </p>
  <h4>
   <b>
    Figure 2: SPI command formatting
   </b>
  </h4>
  <h3>
   <span id="page-12-0">
   </span>
   <i>
    2.3.1.2.1 SPI transaction with a 1-octet header – fast command
   </i>
  </h3>
  <p block-type="Text">
   <a href="#page-13-0">
    Figure 3
   </a>
   shows the fields within the one octet transaction header of a fast command SPI transaction. The 5 bit fast command hex code is encapsulated by control bits which specify this SPI header as fast command  type. In
   <a href="#page-13-0">
    Figure 3
   </a>
   the fast command is a start transmission command (
   <a href="#page-237-3">
    CMD_TX
   </a>
   , hex code 0x1),
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="10">
      Bit count
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td colspan="9">
      2
      <br/>
      3
      <br/>
      4
      <br/>
      5
      <br/>
      6
     </td>
    </tr>
    <tr>
     <td colspan="10">
      CMD
      <br/>
      TX = 0x1
      <br/>
      _
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Figure 3: Single octet fast command (start TX) SPI transaction
   </b>
  </h4>
  <h4>
   <span id="page-13-0">
   </span>
   <i>
    2.3.1.2.2 SPI transaction with a 1-octet header
   </i>
  </h4>
  <p block-type="Text">
   <a href="#page-13-1">
    Figure 4
   </a>
   shows the fields within the one octet transaction header read/write command. The 5-bit register file  ID is encapsulated by control bits which specify this header as a read/write transaction with a single octet  header. This example is accessing th
   <a href="#page-73-0">
    e DEV_ID
   </a>
   register (0x00:00). Only the first octet read from the 32-bit
   <a href="#page-73-0">
    DEV_ID
   </a>
   register is shown with value of 0x12. Note this value may be different depending on the IC version  see §
   <a href="#page-73-1">
    8.2.2.1
   </a>
   –
   <a href="#page-73-1">
    Sub-register 0x00:00
   </a>
   – Device Identifier.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      Bit count
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      REG = 0x0
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      read/write data
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Figure 4: Reading first octet from DEV_ID register of the IC
   </b>
  </p>
  <h4>
   <span id="page-13-1">
   </span>
   <i>
    2.3.1.2.3 SPI write transaction with a two-octet header
   </i>
  </h4>
  <p block-type="Text">
   <a href="#page-14-0">
    Figure 5
   </a>
   shows the fields within the two-octet transaction header of an extended address write SPI  transaction. The 5-bit base address (0x2) and 7-bit sub address (0x1C) are encapsulated by control bits which  specify this SPI header as an extended address write type.
   <a href="#page-14-0">
    Figure 5
   </a>
   shows the octets sent to the device to  write 2 bytes to register
   <a href="#page-124-0">
    STS_IV
   </a>
   (reg ID 0x2 sub address 0x1C). As this is a write type the mode bits (M1 and  M0) are set to 0.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      Bit count
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      2
     </td>
     <td>
      3
     </td>
     <td>
      4
     </td>
     <td>
      5
     </td>
     <td>
      6
     </td>
     <td>
      7
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      REG = 0x2
      <br/>
      SUB ADD = 0x1C
      <br/>
      byte0 = 0x39
      <br/>
      byte1 = 0x45
      <br/>
      M1
      <br/>
      M0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Figure 5: Writing two octets to register 0x2 subaddress 0x1C
   </b>
  </h4>
  <h3>
   <span id="page-14-1">
   </span>
   <span id="page-14-0">
   </span>
   <b>
    2.3.1.3 SPI CRC mode
   </b>
  </h3>
  <p block-type="Text">
   The SPI CRC mode when enabled provides the ability for SPI transactions to have the added protection of a  Cyclic Redundancy Check sequence. This mode of operation is disabled by default, but may be enabled (and  disabled) via the
   <a href="#page-77-0">
    SPI_CRCEN
   </a>
   bit in the
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   The SPI interface is a local digital interface which should never experience error, so the enabling of SPI  CRC checking is generally unwarranted. While SPI CRC checking has a penalty in terms of the added software  overhead of the host microprocessor having to calculate a CRC for every SPI write and read transaction, it  may be useful for extra reliability reasons, for example where the design has long SPI lines with a possibility  of interference, or in the case of design debugging where SPI integrity has not been proven.
  </p>
  <p block-type="Text">
   When SPI CRC mode is enabled, the DW3000 behaves as follows:
  </p>
  <h3>
   <i>
    2.3.1.3.1 SPI writes in SPI CRC mode
   </i>
  </h3>
  <p block-type="Text">
   For SPI writes from the host to the DW3000 when SPI CRC mode is enabled, the IC assumes that each SPI  transaction ends with an 8-bit CRC calculated over all the preceding bytes written during the SPI transaction,  i.e. from the falling edge of SPICSn. When SPICSn is de-asserted the final CRC byte of the SPI transaction is  checked by the IC against a CRC it has generated for the transaction. If the CRC from the host does not  match a CRC the IC generates internally, then this is considered to be an error, and the error is signalled to  the host via the
   <a href="#page-93-0">
    SPICRCE
   </a>
   event bit in the system event status register,
   <a href="#page-91-0">
    SYS_STATUS.
   </a>
   This event flag may be  used to generate an interrupt if the event is unmasked via the
   <a href="#page-88-0">
    SPICRCE_EN
   </a>
   bit in the
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   register.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   The write command will complete irrespective of the CRC error check status, which means that the  data may be written to the wrong register location, and/or the data may be written incorrectly. The 8-bit  CRC itself is not written to the addressed location,
  </p>
  <p block-type="Text">
   The recommend recovery from a write CRC error is to reset the DW3000 completely, reinitialising and  reconfiguring it into the desired operating mode for the application.
  </p>
  <h3>
   <i>
    2.3.1.3.2 SPI reads in SPI CRC mode
   </i>
  </h3>
  <p block-type="Text">
   For host SPI reads of DW3000 registers when SPI CRC mode is enabled, the IC calculates an 8-bit CRC over  the whole the SPI transaction, i.e. from the falling edge of SPICSn at the start of reading to its de-assertion at  the end of the read. The CRC thus covers the 1 to 3 header bytes written by the host to initiate the read, and  all the subsequent bytes output as the host continues the read transaction. The resultant CRC value is  placed into th
   <a href="#page-83-0">
    e SPI_RD_CRC
   </a>
   register in
   <i>
    <a href="#page-83-1">
     Sub-register 0x00:18
    </a>
    – SPI CRC read status.
   </i>
  </p>
  <p block-type="Text">
   A host wishing to validate the CRC of an SPI read transaction, must calculate its own CRC value across the  header bytes it writes and all the data bytes it subsequently reads for the transaction, and then must read  the IC calculated CRC from the
   <a href="#page-83-0">
    SPI_RD_CRC
   </a>
   register, and compare it to the host calculated CRC. If these don't match then the host has detected an error in the SPI read.
  </p>
  <p block-type="Text">
   In the event of an SPI read error, the read can just be repeated, except in the unlikely case that the error  changed the read into a write. In that case a write CRC error will be triggered and this can be handled as  before by resetting the DW3000 and reinitialising/reconfiguring it into the desired operating mode.
  </p>
  <h2>
   <span id="page-15-1">
   </span>
   <i>
    2.3.1.3.3 The SPI CRC polynomial / implementation
   </i>
  </h2>
  <p block-type="Text">
   The CRC is 8-bits long, based on the CRC-8-ATM which has generator polynomial:
  </p>
  <p block-type="Equation">
   <math display="block">
    G(x) = x^8 + x^2 + x + 1
   </math>
  </p>
  <p block-type="Text">
   and has a typical implementation as shown in
   <a href="#page-15-0">
    Figure 6,
   </a>
   where the circle operator is an exclusive-OR.
  </p>
  <p>
   <img src="_page_15_Figure_8.jpeg"/>
  </p>
  <p>
   <b>
    Figure 6: SPI CRC polynomial implementation
   </b>
  </p>
  <p block-type="Text">
   <span id="page-15-0">
   </span>
   In the DW3000 the shift register (
   <i>
    r
    <sup>
     0
    </sup>
   </i>
   to
   <i>
    r7
   </i>
   ) is initialised, at the start of each read or write SPI, with the value  specified in th
   <a href="#page-217-1">
    e SPICRCINIT
   </a>
   register, which by default is all zeros.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   The source code of the DW3000 device driver and API
   <a href="#page-253-7">
    [3]
   </a>
   includes functions to generate and check the  SPI CRC along with a simple example that demonstrates their use. The maximum SPI rate supported by  DW3000 when the SPI CRC mode is enable is 20 MHz.
  </p>
  <h2>
   <b>
    Interrupts
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 can be configured to assert its IRQ pin on the occurrence of one or more status events. The  assertion of the IRQ pin can be used to interrupt the host controller and redirect program flow to handle the  event.
  </p>
  <p block-type="Text">
   The polarity of the IRQ pin may be configured via the
   <a href="#page-212-0">
    HIRQ_POL
   </a>
   bit in the
   <a href="#page-212-1">
    Sub-register
   </a>
   0x0F:24 – Digital
   <a href="#page-212-1">
    diagnostics test mode control.
   </a>
   By default, on power up the IRQ polarity is active high. This is the  recommended polarity to ensure lowest power operation of the DW3000 in
   <a href="#page-18-1">
    SLEEP
   </a>
   and
   <a href="#page-19-0">
    DEEPSLEEP
   </a>
   device  states. This pin will float in SLEEP and DEEPSLEEP states and may cause spurious interrupts unless pulled low.
  </p>
  <p block-type="Text">
   The occurrence of a status event in
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register may assert the IRQ pin depending on the setting of  the corresponding bit in the
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   register.
  </p>
  <p block-type="Text">
   By default, on power-up, the
   <a href="#page-96-0">
    SPIRDY
   </a>
   interrupt generating event enable
   <a href="#page-90-0">
    SPIRDY_EN
   </a>
   is set to 1 so that the  interrupt enabled.
  </p>
  <h2>
   <b>
    General purpose I/O
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 provides a number of GPIO pins as listed in the DW3000 Datasheet
   <a href="#page-253-8">
    [5].
   </a>
   These can be  individually configured at the user's discretion to be inputs or outputs. The state of any GPIO configured as  an input can be read by the host controller over the SPI interface. When configured as an output the host  controller can set the state of the GPIO to high or low. Some of the GPIO lines have multiple functions as  listed in the DW3000 Datasheet.
  </p>
  <p block-type="Text">
   The configuration and operation of the GPIO pins is controlled via
   <a href="#page-129-1">
    GPIO_CTRL
   </a>
   register. By default, on powerup, all GPIOs are configured as inputs.
  </p>
  <h2>
   <b>
    The SYNC pin
   </b>
  </h2>
  <p block-type="Text">
   This pin is used for external clock synchronisation purposes. See section
   <i>
    <a href="#page-65-1">
     7.1
    </a>
    –
    <a href="#page-65-1">
     External Synchronisation
    </a>
   </i>
   for  further details.
  </p>
  <h2>
   <span id="page-17-0">
   </span>
   <i>
    2.4 DW3000 operational states
   </i>
  </h2>
  <h2>
   <b>
    State diagram
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 has a number of different operational states. These are listed and described in
   <a href="#page-18-0">
    Table 4
   </a>
   <a href="#page-18-0">
    below
   </a>
   and the transitions between them are illustrated i
   <a href="#page-17-1">
    n Figure 7.
   </a>
  </p>
  <p>
   <img src="_page_17_Figure_5.jpeg"/>
  </p>
  <p>
   <span id="page-17-1">
   </span>
   <img src="_page_17_Figure_6.jpeg"/>
  </p>
  <h2>
   <span id="page-18-0">
   </span>
   <b>
    Overview of main operational states
   </b>
  </h2>
  <h4>
   <b>
    Table 4: Main DW3000 operational states / modes
   </b>
  </h4>
  <span id="page-18-7">
  </span>
  <span id="page-18-6">
  </span>
  <span id="page-18-5">
  </span>
  <span id="page-18-4">
  </span>
  <span id="page-18-3">
  </span>
  <span id="page-18-2">
  </span>
  <span id="page-18-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      State Name
     </th>
     <th>
      State Description
     </th>
    </tr>
    <tr>
     <th>
      OFF
     </th>
     <th>
      In the OFF state the DW3000 is completely powered off, with no voltages applied to
      <br/>
      any of its input pins. Power consumption = 0 µA. No I/O pins should be driven or
      <br/>
      power will leak through the I/O cells.
     </th>
    </tr>
    <tr>
     <th>
      WAKE_UP
     </th>
     <th>
      During the WAKE_UP state the AON sequencer starts up all of the primary power and
      <br/>
      clock blocks in order to achieve host comms in the INIT_RC state. The device will
      <br/>
      automatically transition from the WAKE_UP state to INIT_RC state.
     </th>
    </tr>
    <tr>
     <th>
      INIT_RC
     </th>
     <th>
      Lowest power state with SPI access, but limited to 7 MHz. System is clocked off a
      <br/>
      divide-by-four of the FAST_RC clock, i.e., the IC runs at approximately 30 MHz.
     </th>
    </tr>
    <tr>
     <th>
      IDLE_RC
     </th>
     <th>
      Lowest power state allowing full speed SPI access. The FAST_RC oscillator is used as
      <br/>
      the system clock source, i.e., the IC runs at approximately 120 MHz.
     </th>
    </tr>
    <tr>
     <th>
      IDLE_PLL/IDLE
     </th>
     <td colspan="6">
      In the IDLE_PLL state the DW3000 internal clock generator PLL is locked running at its
      <br/>
      nominal 125 MHz rate and ready for use but it is gated off to most circuitry to
      <br/>
      minimize power consumption. In the IDLE_PLL state SPI communications can operate
      <br/>
      at up to 38 MHz, the maximum SPICLK frequency. In the IDLE_PLL state the analog
      <br/>
      receive and transmit circuits are powered down.
      <br/>
      The external host can control the DW3000 to initiate a transmission or reception and
      <br/>
      thus cause the DW3000 to progress into TX or RX state respectively. If a delayed TX or
      <br/>
      RX operation is initiated (see section 3.3 – Delayed transmission and 4.3 - Delayed
      <br/>
      receive) then the DW3000 will enter the TX_WAIT or RX_WAIT (until the delayed time
      <br/>
      has elapsed) and then enter TX or RX state.
     </td>
    </tr>
    <tr>
     <th>
      SLEEP
     </th>
     <th>
      In the SLEEP state the IC consumes &lt; 1 µA from the external power supply inputs. All
      <br/>
      internal LDOs are turned off. In the SLEEP state the DW3000 internal low power
      <br/>
      oscillator is running and is used to clock the sleep counter whose expiry is
      <br/>
      programmed to "wake up" the DW3000 and progress into the WAKE_UP state. While
      <br/>
      the IC is in the SLEEP state, the external system should avoid applying power to GPIO,
      <br/>
      SPICLK or SPIMISO pins as this will cause an increase in the leakage current.
      <br/>
      While device is in the SLEEP state the SPI communication is not possible.
      <br/>
      Note: prior to entering SLEEP state AINIT2IDLE configuration bit in SEQ_CTRL
      <br/>
      register should be cleared. This will ensure that the device will remain in IDLE_RC
      <br/>
      state after wake up and the host can then load LDOTUNE_CAL values from OTP prior
      <br/>
      to changing into IDLE_PLL state.
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-19-3">
  </span>
  <span id="page-19-2">
  </span>
  <span id="page-19-1">
  </span>
  <span id="page-19-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      State Name
     </th>
     <th>
      State Description
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      With the exception of the OFF state, the DEEPSLEEP state is the lowest power state of
      <br/>
      the device. In this state the IC consumes &lt; 250 nA from the external power supply
      <br/>
      inputs.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      In DEEPSLEEP all internal circuitry is powered down with the exception of the always
      <br/>
      on memory which can be used to hold the device configuration for restoration on
      <br/>
      wake up
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      Once in DEEPSLEEP, the DW3000 remains in this state until the occurrence of a wake
      <br/>
      up event. This can be either:
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      1.
      <br/>
      the SPICSn line pulled low or
      <br/>
      2.
      <br/>
      the WAKEUP line driven high
     </td>
    </tr>
    <tr>
     <th>
      DEEPSLEEP
     </th>
     <td>
      for the duration quoted in the DW3000 Datasheet [5] (nominally 500 μs).
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      Once the DW3000 has detected a wake up event it progresses into the WAKE_UP
      <br/>
      state. While the IC is in DEEPSLEEP state, the external system should avoid applying
      <br/>
      power to GPIO, SPICLK or SPIMISO pins as this will cause an increase in leakage
      <br/>
      current.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      Note: Asserting the RSTn pin (hardware reset) will also take the device out of
      <br/>
      DEEPSLEEP, however device will be fully reset in that case.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      While device is in the DEEPSLEEP state the SPI communication is not possible.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      See Note: above (in SLEEP state) on clearing of AINIT2IDLE prior to entering
      <br/>
      DEEPSLEEP state.
     </td>
    </tr>
    <tr>
     <th>
      TX_WAIT
     </th>
     <th>
      This state is very like the IDLE_PLL state except the IC is implementing a delay prior to
      <br/>
      transmission, typically aiming to transmit the RMARKER at a specified time. At the
      <br/>
      apprioiate moment the TX analog blocks are turned on and the device transitions into
      <br/>
      the TX.
     </th>
    </tr>
    <tr>
     <th>
      RX_WAIT
     </th>
     <td>
      This state is very like the IDLE_PLL state except the IC is implementing a delay prior to
      <br/>
      turning on the receiver. At the apprioiate time the RX analog blocks are turned on
      <br/>
      and the device transitions into the RX state.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      In the TX the DW3000 actively transmits a packet (generally containing the contents
      <br/>
      of the transmit buffer) on the configured RF channel with the configured transmit
      <br/>
      parameters (PRF, data rate, preamble code etc.)
     </th>
    </tr>
    <tr>
     <th>
      TX state
     </th>
     <td>
      Once the transmission is complete the DW3000, will go back to the IDLE_PLL state,
      <br/>
      following which it may enter RX state (e.g. if using wait for response command) or go
      <br/>
      to a low-power state depending on the programmed configuration. If the ATX2SLP bit
      <br/>
      is set (in SEQ_CTRL) the DW3000 will enter the SLEEP or DEEPSLEEP state
      <br/>
      automatically, see "Auto-to-sleep" path in Figure 7 (as long as no host interrupts are
      <br/>
      pending).
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-20-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      State Name
     </th>
     <th>
      State Description
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      In the RX state, the receiver is active, either hunting for preamble or (once it has
      <br/>
      detected preamble) actively receiving preamble searching for the start of frame
      <br/>
      delimiter (SFD), and subsequently receiving the rest of the packet. In the RX state, the
      <br/>
      RF synthesizer and all RX blocks are active.
     </td>
    </tr>
    <tr>
     <td>
      RX state
     </td>
     <td>
      After an event that ends the reception, (either a good frame/packet reception, or some
      <br/>
      error or timeout event that aborts reception) the DW3000 will return to the IDLE_PLL
      <br/>
      state unless ARX2SLP bit is set (in SEQ_CTRL) in which case the IC will enter the SLEEP
      <br/>
      or DEEPSLEEP state automatically, see "Auto-to-sleep" path in Figure 7 (as long as no
      <br/>
      host interrupts are pending).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note that it is not possible to be in the RX and TX states simultaneously – the DW3000
      <br/>
      is a half-duplex transceiver device.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Clock periods and frequencies
   </b>
  </h2>
  <p block-type="Text">
   The chipping rate specified for the HRP UWB PHY by the IEEE 802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   is 499.2 MHz, and all IC  system clocks are referenced to this frequency. Where the system clock frequency is quoted as 125 MHz,  this is an approximation to the actual 124.8 MHz system clock frequency (crystal 38.4 MHz × 13 ÷ 4).  Similarly, where the system clock period is quoted as 8 ns, this is an approximation to the actual period of  1/(124.8×10
   <sup>
    6
   </sup>
   ) seconds.
  </p>
  <p block-type="Text">
   The 1 GHz PLL clock, where referenced, is an approximation to its actual frequency of 998.4 MHz.
  </p>
  <p block-type="Text">
   A 63.8976 GHz sampling clock is associated with ranging for the IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1],
   </a>
   where a 15.65  picosecond time period is referred to, it is an approximation to the period of this clock.
  </p>
  <h2>
   <b>
    Pulse repetition frequency (PRF)
   </b>
  </h2>
  <p block-type="Text">
   The
   <a href="#page-251-0">
    PRF
   </a>
   values of 16 MHz and 64 MHz quoted in this document are approximations to the values dictated by the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1].
   </a>
   <a href="#page-251-0">
    PRF
   </a>
   mean values are slightly higher fo
   <a href="#page-252-2">
    r SHR
   </a>
   compared to the
   <a href="#page-251-2">
    PHR
   </a>
   and data  parts of the packet. Please refer t
   <a href="#page-253-3">
    o [1]
   </a>
   for full details of peak and mea
   <a href="#page-251-0">
    n PRFs
   </a>
   .
  </p>
  <h2>
   <b>
    Data rate
   </b>
  </h2>
  <p block-type="Text">
   Where a data rate of 6.8 Mb/s is referred to, this is equivalent to the 6.81 Mb/s data rate in
   <a href="#page-253-3">
    [1].
   </a>
   Note that  the data rates quoted are (rounded) nominal values based on the data symbol rate multiplied by the Reed-Solomon (RS) coding rate, 0.87 which is 330/378 because the RS coding adds 48 parity bits for every 330 bits  data (or part thereof). Please refer t
   <a href="#page-253-3">
    o [1]
   </a>
   for more details.
  </p>
  <h2>
   <span id="page-20-0">
   </span>
   <i>
    2.5 Power On Reset (POR)
   </i>
  </h2>
  <p block-type="Text">
   When the external power source is applied to the DW3000 for the first time (cold power up), the internal  Power On Reset (POR) circuit compares the externally applied supply voltage (VDD1) to an internal power-on  threshold (approximately 1.5 V), and once this threshold is passed the AON block is released from reset and  the external device enable pin EXTON is asserted. This is shown in
   <a href="#page-21-0">
    Figure 8.
   </a>
  </p>
  <p block-type="Text">
   Then the VDD2a and VDD3 supplies are monitored and once they are above the required voltage as specified  in the Datasheet (2.2 V and 1.4 V respectively), the fast RC oscillator
   <a href="#page-250-2">
    (FAST_RC)
   </a>
   and crystal (XTAL Oscillator)  will come on within 500 µs and 1 ms respectively.
   <b>
    However if time for VDD2a or VDD3 exceeds 10 ms then  the device will need to be reset once these supplies are up.
   </b>
   Please refer to the Datasheet
   <a href="#page-253-8">
    [5]
   </a>
   for more details.
  </p>
  <p block-type="Text">
   The DW3000 digital core will be held in reset until the crystal oscillator is stable. Once the digital reset is deasserted the digital core wakes up and enters the
   <b>
    <a href="#page-18-7">
     INIT_RC
    </a>
   </b>
   state, (see
   <a href="#page-17-1">
    Figure 7
   </a>
   an
   <a href="#page-21-0">
    d Figure 8)
   </a>
   . Then once the  configurations stored in AON and OTP have been restored (into the configuration registers) the device will  enter the
   <b>
    <a href="#page-18-5">
     IDLE_RC
    </a>
   </b>
   state
   <b>
    <a href="#page-18-5">
     IDLE_RC
    </a>
   </b>
   . Then the host can set the AINIT2IDLE configuration bit i
   <a href="#page-221-0">
    n SEQ_CTRL
   </a>
   and the  IC will enable the CLKPLL and wait for it to lock before entering the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state.
  </p>
  <p>
   <img src="_page_21_Figure_4.jpeg"/>
  </p>
  <p>
   <b>
    Figure 8: Timing diagram for cold start POR
   </b>
  </p>
  <h2>
   <span id="page-21-1">
   </span>
   <span id="page-21-0">
   </span>
   <b>
    SLEEP and DEEPSLEEP
   </b>
  </h2>
  <p block-type="Text">
   In the very low power
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   state, the IC is almost completely powered down except for a small  amount of "always-on" memory necessary to maintain IC configurations. This is the lowest power mode of  the IC where the power drain is approximately 200 nA. To wake the IC from
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   state requires an  external agent to assert the
   <b>
    <a href="#page-18-3">
     WAKE_UP
    </a>
   </b>
   input line or the external host microprocessor to initiate an SPI  transaction to assert the SPICSn input.
  </p>
  <p block-type="Text">
   The DW3000 also includes a low power
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   state where the IC can wake itself from sleeping as a result of  the elapsing of a sleep timer (see
   <a href="#page-172-0">
    8.2.11.6.1
   </a>
   for sleep timer configuration) that is running from a lowpowered oscillator internal to the DW3000 IC. In this
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   state the power drain is approximately 1 µA.  The IC will wake from the
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   state when the sleep timer elapses, or the
   <b>
    <a href="#page-18-3">
     WAKE_UP
    </a>
   </b>
   or
   <b>
    SPICSn
   </b>
   inputs may  be used to wake the device before the timer elapses.
  </p>
  <p block-type="Text">
   The frequency of the low power oscillator is dependent on process variations within the IC, but is typically  around 20 kHz. There are facilities within the IC to measure the frequency of this LP oscillator and also to  trim it.
  </p>
  <p>
   <img src="_page_22_Figure_4.jpeg"/>
  </p>
  <p>
   <b>
    Figure 9: Timing diagram for warm start (@ VDD = 3V)
   </b>
  </p>
  <h2>
   <span id="page-22-1">
   </span>
   <span id="page-22-0">
   </span>
   <b>
    2.5.1.1 Waking from sleep
   </b>
  </h2>
  <p block-type="Text">
   Waking from
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   and
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states can happen in following ways:
  </p>
  <p block-type="Text">
   • Driving the
   <b>
    WAKEUP
   </b>
   pin high for approximately 500 μs, (assuming
   <a href="#page-172-1">
    WAKE_WUP
   </a>
   configuration bit is  set in
   <a href="#page-171-0">
    AON_CFG)
   </a>
   .
  </p>
  <p block-type="Text">
   • Driving the
   <b>
    SPICSn
   </b>
   pin low for approximately 500 μs, (assuming th
   <a href="#page-171-1">
    e WAKE_CSN
   </a>
   configuration bit is  set i
   <a href="#page-171-0">
    n AON_CFG)
   </a>
   . This can be achieved by doing a dummy SPI read of sufficient length.
  </p>
  <p block-type="Text">
   <b>
    Note: When using the SPICSn pin to wake up the device it is important that the SPIMOSI line is  held low for the duration of the SPICSn to ensure that a spurious write operation does not occur.
   </b>
  </p>
  <p block-type="Text">
   In addition return from
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   also occurs when
  </p>
  <p block-type="Text">
   • The internal sleep timer counter expires, (assuming the
   <a href="#page-171-2">
    WAKE_CNT
   </a>
   configuration bit is set in
   <a href="#page-171-0">
    AON_CFG
   </a>
   along with an appropriate
   <a href="#page-172-2">
    SLEEP_TIM
   </a>
   value).
  </p>
  <p block-type="Text">
   In all three wake up cases the device is returned to the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state if the AINIT2IDLE configuration bit in
   <a href="#page-221-0">
    SEQ_CTRL
   </a>
   register was set when the device configuration was uploaded prior to entering sleep state,  otherwise the device will stay in
   <b>
    <a href="#page-18-5">
     IDLE_RC
    </a>
   </b>
   . Additional state transitions can be automatically enacted  thereafter depending on configurations.
  </p>
  <p block-type="Text">
   Asserting the RSTn pin (hardware reset) will also take the IC out of
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states, however  device will be fully reset in that case.
  </p>
  <h2>
   <b>
    2.5.1.2 Configuration register preservation
   </b>
  </h2>
  <p block-type="Text">
   Prior to entering the
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states the main DW3000 configuration register values are saved  (copied) into the Always-On (AON) memory, and upon waking, prior to exiting the
   <b>
    <a href="#page-18-7">
     INIT_RC
    </a>
   </b>
   state the saved  values are restored from the AON memory.
  </p>
  <p block-type="Text">
   Power is maintained to the AON memory at all times, even in
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   and
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states. The copying of  configuration data (saving or restoring) and boot up time of the OTP takes ~85 µs to complete (when  restoring from
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   and
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states, se
   <a href="#page-22-0">
    e Figure
   </a>
   9). Restoration of configurations during the
   <b>
    <a href="#page-18-3">
     WAKE_UP
    </a>
   </b>
   state is only done if the
   <a href="#page-165-0">
    ONW_AON_DLD
   </a>
   configuration bit is set in
   <a href="#page-164-1">
    AON_DIG_CFG.
   </a>
  </p>
  <p block-type="Text">
   <b>
    Note: The host should wait for the restoration of configurations to be completed before using SPI to avoid  internal IC conflicts that may lead to the corruption of the configuration values. The preffered option is to  wait for the assertion of the
    <a href="#page-96-0">
     SPIRDY
    </a>
    interrupt.
   </b>
  </p>
  <span id="page-24-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Configuration Register
     </th>
     <th>
      Configuration Register
     </th>
    </tr>
    <tr>
     <td>
      AON_DIG_CFG [23:0]
     </td>
     <td>
      GPIO_MODE [31:0]
     </td>
    </tr>
    <tr>
     <td>
      XTAL [7:0]
     </td>
     <td>
      DTUNE0 [15:0]
     </td>
    </tr>
    <tr>
     <td>
      PLL_CAL [7:0]
     </td>
     <td>
      RX_SFD_TOC [15:0]
     </td>
    </tr>
    <tr>
     <td>
      PANADR [31:0]
     </td>
     <td>
      PRE_TOC [15:0]
     </td>
    </tr>
    <tr>
     <td>
      SYS_CFG [31:0]
     </td>
     <td>
      DTUNE3 [31:0]
     </td>
    </tr>
    <tr>
     <td>
      FF_CFG [15:0]
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TX_FCTRL [47:0]
     </td>
     <td>
      PLL_CFG [15:0]
     </td>
    </tr>
    <tr>
     <td>
      DREF_TIME [31:0]
     </td>
     <td>
      CIA_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      RX_FWTO [23:0]
     </td>
     <td>
      FP_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      SYS_ENABLE [47:0]
     </td>
     <td>
      IP_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      TX_ANTD [15:0]
     </td>
     <td>
      STS_CONF_0 [31:0]
     </td>
    </tr>
    <tr>
     <td>
      ACK_RESP_T [31:0]
     </td>
     <td>
      STS_CONF_1 [31:0]
     </td>
    </tr>
    <tr>
     <td>
      TX_POWER [31:0]
     </td>
     <td>
      SEQ_CTRL [31:0]
     </td>
    </tr>
    <tr>
     <td>
      CHAN_CTRL [15:0]
     </td>
     <td>
      TXFSEQ [31:0]
     </td>
    </tr>
    <tr>
     <td>
      AES_IV0 [31:0]
     </td>
     <td>
      LED_CTRL [15:0]
     </td>
    </tr>
    <tr>
     <td>
      AES_IV1 [31:0]
     </td>
     <td>
      RX_SNIFF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      AES_IV2 [31:0]
     </td>
     <td>
      DGC_CFG [15:0]
     </td>
    </tr>
    <tr>
     <td>
      AES_IV3 [31:0]
     </td>
     <td>
      RF_SWITCH [31:0]
     </td>
    </tr>
    <tr>
     <td>
      DMA_CFG [31:0]
     </td>
     <td>
      GPIO_PULL_EN [15:0]
     </td>
    </tr>
    <tr>
     <td>
      AES_KEY [127:0]
     </td>
     <td>
      CIA_ADJUST [15:0]
     </td>
    </tr>
    <tr>
     <td>
      STS_CFG [15:0]
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      STS_KEY [127:0]
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      STS_IV [127:0]
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Table 5: Configurations maintained in the AON memory array
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th colspan="8">
      <b>
       Configuration Register
      </b>
     </th>
    </tr>
    <tr>
     <td>
      GPIO_MODE [31:0]
     </td>
    </tr>
    <tr>
     <td>
      DTUNE0 [15:0]
     </td>
    </tr>
    <tr>
     <td>
      RX_SFD_TOC [15:0]
     </td>
    </tr>
    <tr>
     <td>
      PRE_TOC [15:0]
     </td>
    </tr>
    <tr>
     <td>
      DTUNE3 [31:0]
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      PLL_CFG [15:0]
     </td>
    </tr>
    <tr>
     <td>
      CIA_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      FP_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      IP_CONF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      STS_CONF_0 [31:0]
     </td>
    </tr>
    <tr>
     <td>
      STS_CONF_1 [31:0]
     </td>
    </tr>
    <tr>
     <td>
      SEQ_CTRL [31:0]
     </td>
    </tr>
    <tr>
     <td>
      TXFSEQ [31:0]
     </td>
    </tr>
    <tr>
     <td>
      LED_CTRL [15:0]
     </td>
    </tr>
    <tr>
     <td>
      RX_SNIFF [31:0]
     </td>
    </tr>
    <tr>
     <td>
      DGC_CFG [15:0]
     </td>
    </tr>
    <tr>
     <td>
      RF_SWITCH [31:0]
     </td>
    </tr>
    <tr>
     <td>
      GPIO_PULL_EN [15:0]
     </td>
    </tr>
    <tr>
     <td>
      CIA_ADJUST [15:0]
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    2.5.1.3 Loading LDO calibration data from the OTP
   </b>
  </h2>
  <p block-type="Text">
   When waking from
   <b>
    SLEEP
   </b>
   or
   <b>
    DEEPSLEEP
   </b>
   it is necessary to load the
   <i>
    <a href="#page-66-2">
     LDOTUNE_CAL
    </a>
   </i>
   value that is programmed  into OTP during IC production test calibration.Default configuration on power up and after a reset
  </p>
  <p block-type="Text">
   <span id="page-25-0">
   </span>
   DW3000 is a highly configurable transceiver with many features. The register default (reset) values have  been selected with the intention of minimising the amount of user configuration required. The default  configuration is summarised in
   <a href="#page-25-0">
    Table 6.
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Parameter
     </th>
     <th colspan="7">
      Default Value
     </th>
    </tr>
    <tr>
     <td>
      Channel
     </td>
     <td>
      5 (CF is 6489.6 MHz)
     </td>
    </tr>
    <tr>
     <td>
      Data Rate
     </td>
     <td>
      6.8 Mb/s
     </td>
    </tr>
    <tr>
     <td>
      PHR Rate
     </td>
     <td>
      850 kb/s
     </td>
    </tr>
    <tr>
     <td>
      PRF
     </td>
     <td>
      64 MHz
     </td>
    </tr>
    <tr>
     <td>
      Preamble Length
     </td>
     <td>
      64 symbols
     </td>
    </tr>
    <tr>
     <td>
      Preamble Code
     </td>
     <td>
      9
     </td>
    </tr>
    <tr>
     <td>
      Scrambled Timestamp
      <br/>
      Sequence (STS)
     </td>
     <td>
      off
     </td>
    </tr>
    <tr>
     <td>
      STS Sequence Length
     </td>
     <td>
      n/a
     </td>
    </tr>
    <tr>
     <td>
      SFD
     </td>
     <td>
      IEEE802.15.4z [2] length 8
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    Table 6: Default DW3000 operational configuration
   </b>
  </h3>
  <p block-type="Text">
   Channel numbers and preamble codes are as specified in the standard, IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1].
   </a>
   Some  further details are given below on the specifics of the default device configuration. For full details please refer to the register map where the default value of each register is given,
   <i>
    §
    <a href="#page-70-0">
     8
    </a>
    –
    <a href="#page-70-0">
     The DW3000
    </a>
    register set
   </i>
   .
  </p>
  <p block-type="Text">
   <b>
    Note: the above default configuration needs to be modified in oder for the DW3000 to correctly  interoperate with the DW1000 on CH5.
   </b>
  </p>
  <h2>
   <b>
    Default system configuration
   </b>
  </h2>
  <p block-type="Text">
   Much of the system configuration is configured in the
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register, please see section
   <i>
    <a href="#page-76-1">
     Sub-register
    </a>
    0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   for a full description of the register contents and defaults.
  </p>
  <p block-type="Text">
   By default, interrupt polarity is active high and all interrupts are disabled, see
   <a href="#page-212-0">
    HIRQ_POL
   </a>
   in th
   <a href="#page-212-2">
    e DIAG_TMC
   </a>
   register for interrupt polarity and the
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   and
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   registers for interrupt configuration and  information, see sections
   <i>
    Sub-register 0x00:3C –
    <a href="#page-87-2">
     System event enable
    </a>
   </i>
   mask and
   <i>
    <a href="#page-91-1">
     Sub-register 0x00:44
    </a>
    –
    <a href="#page-91-1">
     System event status
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   GPIOs are all set to mode 0 (as defined in the
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   register), their default function is shown i
   <a href="#page-26-0">
    n Table
   </a>
   <a href="#page-26-0">
    7.
   </a>
  </p>
  <span id="page-26-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      GPIO Pin
     </th>
     <th>
      Default Function
     </th>
    </tr>
    <tr>
     <td>
      GPIO0/RXOKLED
     </td>
     <td>
      GPIO0
     </td>
    </tr>
    <tr>
     <td>
      GPIO1/SFDLED
     </td>
     <td>
      GPIO1
     </td>
    </tr>
    <tr>
     <td>
      GPIO2/RXLED
     </td>
     <td>
      GPIO2
     </td>
    </tr>
    <tr>
     <td>
      GPIO3/TXLED
     </td>
     <td>
      GPIO3
     </td>
    </tr>
    <tr>
     <td>
      GPIO4/EXTPA
     </td>
     <td>
      GPIO4
     </td>
    </tr>
    <tr>
     <td>
      GPIO5/EXTTXE/SPIPOL
     </td>
     <td>
      GPIO5
     </td>
    </tr>
    <tr>
     <td>
      GPIO6/EXTRXE/SPIPHA
     </td>
     <td>
      GPIO6
     </td>
    </tr>
    <tr>
     <td>
      SYNC/GPIO7
     </td>
     <td>
      SYNC
     </td>
    </tr>
    <tr>
     <td>
      IRQ/GPIO8
     </td>
     <td>
      IRQ
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 7: GPIO default functions
   </b>
  </h2>
  <p block-type="Text">
   Frame wait timeout (see
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register bi
   <a href="#page-78-0">
    t RXWTOE
   </a>
   and
   <i>
    <a href="#page-87-3">
     Sub-register 0x00:34
    </a>
    – Receive frame wait
    <a href="#page-87-3">
     timeout period
    </a>
   </i>
   ) and preamble detection timeout (see
   <i>
    Sub-register 0x06:04 –
    <a href="#page-146-2">
     Preamble detection
    </a>
   </i>
   timeout
   <a href="#page-146-2">
    count)
   </a>
   are off, whilst SFD detection timeout (see
   <i>
    Sub-register 0x06:02 –
    <a href="#page-145-1">
     SFD detection
    </a>
   </i>
   timout count) is on.
  </p>
  <p block-type="Text">
   Othe
   <a href="#page-76-0">
    r SYS_CFG
   </a>
   register settings such as automatic receiver re-enable
   <a href="#page-79-0">
    (RXAUTR)
   </a>
   and MAC functions such as  frame filtering
   <a href="#page-76-2">
    (FFEN)
   </a>
   , double buffering
   <a href="#page-77-1">
    (DIS_DRXB)
   </a>
   and automatic acknowledgement
   <a href="#page-79-1">
    (AUTO_ACK)
   </a>
   are all off  by default. Automatic CRC generation in the MAC frame data is on
   <a href="#page-77-2">
    (DIS_FCS_TX)
   </a>
   .
  </p>
  <p block-type="Text">
   External synchronisation and the use of external power amplifiers are deactivated by default, see sections
   <i>
    <a href="#page-65-1">
     7.1
    </a>
    –
    <a href="#page-65-1">
     External Synchronisation
    </a>
   </i>
   and
   <i>
    <a href="#page-66-0">
     7.2
    </a>
    –
    <a href="#page-66-0">
     External power amplification
    </a>
   </i>
   .
  </p>
  <h2>
   <b>
    Default channel configuration
   </b>
  </h2>
  <p block-type="Text">
   Channel 5, preamble code 9 and 64 MHz PRF are set by default in th
   <a href="#page-109-1">
    e CHAN_CTRL
   </a>
   register, see
   <i>
    <a href="#page-109-2">
     Sub-register
    </a>
    0x01:14 –
    <a href="#page-109-2">
     Channel control
    </a>
   </i>
   for more information.
  </p>
  <p block-type="Text">
   The transmit data rate is set to 6.8 Mb/s in the
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   register, see
   <a href="#page-84-0">
    TXBR
   </a>
   field in
   <i>
    <a href="#page-83-3">
     Sub-register 0x00:24
    </a>
    –
    <a href="#page-83-3">
     Transmit frame control
    </a>
   </i>
   . The receive data rate is never set it can be decoded from the PHR bits.
  </p>
  <h2>
   <b>
    Default transmitter configuration
   </b>
  </h2>
  <p block-type="Text">
   Transmit RF channel configurations are set for channel 5 by default – see
   <a href="#page-151-2">
    Sub-register 0x07:1C
   </a>
   – RF TX
   <a href="#page-151-2">
    control register 2.
   </a>
   The transmit preamble symbol repetition length is 64 symbols, see
   <i>
    <a href="#page-83-3">
     Sub-register 0x00:24
    </a>
    –
    <a href="#page-83-3">
     Transmit frame control,
    </a>
   </i>
   <a href="#page-85-1">
    TXPSR
   </a>
   field for configuration details.
  </p>
  <h2>
   <b>
    Default receiver configuration
   </b>
  </h2>
  <p block-type="Text">
   Receiver RF channel configurations are set for channel 5 by default, to match the transmitter.
  </p>
  <p block-type="Text">
   Digital receiver tuning registers are configured by default for 64 MHz PRF, 6.8 Mb/s data rate and a preamble  symbol repetition of length 64. See
   <i>
    Sub-register 0x06:00 – Digital
   </i>
   <a href="#page-144-2">
    RX tuning register
   </a>
   for programming details.
  </p>
  <pre></pre>
  <p block-type="Text">
   The
   <a href="#page-222-2">
    CIARUNE
   </a>
   bit
   <a href="#page-250-3">
    (CIA
   </a>
   run enable) is enabled by default, which means that th
   <a href="#page-250-3">
    e CIA
   </a>
   algorithm will execute on  every packet reception, which in turn will calculate accurate time-of-arrival. If the running the
   <a href="#page-250-3">
    CIA
   </a>
   is not  required then th
   <a href="#page-222-2">
    e CIARUNE
   </a>
   control in
   <i>
    Sub-register 0x11:08 –
    <a href="#page-221-1">
     Sequencing control
    </a>
   </i>
   can be turned off (set to  zero). This may be useful in a data communications only application, to save power and time.
  </p>
  <h2>
   <span id="page-27-0">
   </span>
   <i>
    2.6 UWB channels and preamble codes
   </i>
  </h2>
  <p block-type="Text">
   The IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   has 16 defined channel/bands for the HRP UWB PHY. The DW3000 supports  the subset of these listed i
   <a href="#page-27-2">
    n Table 8
   </a>
   below. Depending on the channel and the pulse repetition frequency  (PRF) the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   HRP UWB PHY defines a choice of two or four preamble codes. The  standard defined preamble code options are also listed i
   <a href="#page-27-2">
    n Table 8.
   </a>
   The combination of channel number and  preamble code is what the standard terms a
   <i>
    complex channel
   </i>
   .
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Channel
      <br/>
      number
     </th>
     <th>
      Centre
      <br/>
      frequency
      <br/>
      (MHz)
     </th>
     <th>
      Bandwidth
      <br/>
      (MHz)
     </th>
     <th>
      Preamble Codes
      <br/>
      (16 MHz PRF)
     </th>
     <th colspan="4">
      Preamble Codes
      <br/>
      (64 MHz PRF)
     </th>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      6489.6
     </td>
     <td>
      499.2
     </td>
     <td>
      3, 4
     </td>
     <td>
      9, 10, 11, 12
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      7987.2
     </td>
     <td>
      499.2
     </td>
     <td>
      3, 4
     </td>
     <td>
      9, 10, 11, 12
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-27-2">
   </span>
   <b>
    Table 8: DW3000 supported UWB channels and recommended preamble codes
   </b>
  </h2>
  <p block-type="Text">
   The preamble codes specified by the standard for use on a particular channel were chosen to have a low  cross correlation factor with each other with the intention that the complex channels could to operate  independently from each other as separate networks. In practice, as there is still some cross correlation,  there will be some break-through between different codes especially in conditions of close proximity with  long preambles.
  </p>
  <p block-type="Text">
   The IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   includes a feature called dynamic preamble select
   <a href="#page-250-4">
    (DPS)
   </a>
   , where devices switch  to using one of th
   <a href="#page-250-4">
    e DPS
   </a>
   specific preamble codes for the ranging exchange, and perhaps a different one for  each direction of communication. The idea is to make it more difficult to eavesdrop or spoof, by randomly  changing the
   <a href="#page-250-4">
    DPS
   </a>
   preamble codes in a mutually agreed sequence only known to the valid participants. This  is supported by the DW3000 where at 64 MHz PRF the preamble codes additionally available for
   <a href="#page-250-4">
    DPS
   </a>
   are: 13,  14, 15, 16, 21, 22, 23 and 24.
  </p>
  <h2>
   <span id="page-27-1">
   </span>
   <i>
    2.7 Data modulation scheme
   </i>
  </h2>
  <p block-type="Text">
   The UWB specified in the IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   is sometimes called impulse radio UWB because it is  based on high speed pulses of RF energy. During the PHR and Data parts of the packet, information bits are  signalled by the position of the burst, in a modulation scheme termed burst position modulation (BPM).
  </p>
  <p block-type="Text">
   Each data bit passes through a convolution encoder to generate a "parity" bit used to set the phase of the  burst as either positive or negative, this component of the modulation is termed binary phase-shift keying  (BPSK).
   <a href="#page-28-1">
    Figure 10
   </a>
   shows how the convolutional encoder contributes to this BPM/BPSK modulation. A  coherent receiver (i.e. one tracking carrier timing and phase) such as the one in the DW3000 can determine  this burst phase and use it in a Viterbi decoder to get an additional 3 dB of coding gain, thereby extending  the operational range of the modulation.
  </p>
  <p>
   <img src="_page_28_Figure_2.jpeg"/>
  </p>
  <p>
   <b>
    Figure 10: BPM/BPSK data and PHR modulation
   </b>
  </p>
  <p block-type="Text">
   <span id="page-28-1">
   </span>
   In addition the quarter symbol interval is sub-divided into 2, 4, or 8 sub-intervals and a pseudo random  sequence used to determine both the burst shape and which of the sub-intervals are actually used for the  burst transmission. This gives more immunity to interference and whitens the output spectrum allowing a  higher signal power to be used in the transmitter.
  </p>
  <p block-type="Text">
   Forward error correction (FEC) is also included in the PHR and Data parts of the packet. The 19-bit PHR  includes a 6-bit single-error-correct double-error-detect
   <a href="#page-252-3">
    (SECDED)
   </a>
   code and the data part of the packet has a  Reed Solomon (RS) code applied. Both
   <a href="#page-252-3">
    SECDED
   </a>
   and RS codes are termed "systematic" meaning that the data  can be recovered without using the codes (and of course not benefitting from them in that case), e.g. by a  non-coherent receiver. The 850 kb/s and 6.8 Mb/s user data rates quoted, include allowance for the 0.87  average RS coding rate. The PHR is not RS coded so for example at the 850 kb/s nominal rate the PHR is  actually sent at 975 kb/s.
  </p>
  <h2>
   <span id="page-28-0">
   </span>
   <i>
    2.8 Synchronisation header modulation scheme
   </i>
  </h2>
  <p block-type="Text">
   The Synchronisation Header (SHR) consists of the preamble sequence and the SFD (start of frame delimiter).  In contrast to the BPM/BPSK modulation used for the PHR and data, the synchronisation header is made up  of single pulses. The preamble symbol period is divided into approximately 500 "chip" time intervals,  (496/508 depending on 16/64 MHz
   <a href="#page-251-0">
    PRF
   </a>
   <sup>
    1
   </sup>
   ), in which either a negative or a positive pulse may be sent, or no  pulse. The "chip" interval is 499.2 MHz, a fundamental frequency within the UWB PHY, and so the resultant  symbol times are thus
   <sup>
    496
   </sup>
   /499.2 µs for 16 MHz PRF, and
   <sup>
    508
   </sup>
   /499.2 µs for 64 MHz PRF, (see
   <a href="#page-29-1">
    Table 9
   </a>
   below).
  </p>
  <p block-type="Text">
   The sequence of pulses sent during the preamble symbol interval is determined by the preamble code. The  standard defines 8 preamble codes of length-31 for use at 16 MHz PRF and 16 preamble codes of length-127  for use at 64 MHz PRF. The standard nominates particular codes for particular channels so that at 16 MHz  PRF there are just two to choose from per channel, while at 64 MHz PRF there is a choice of four codes per  channel. The length-31 codes are spread by inserting 15 zeros after each pulse to give the 496 chip times  per symbol while the length-127 codes are spread by inserting 3 zeros after each pulse to give the 508 chip  times per symbol. The preamble length and duration is defined by how many times (i.e. for how many
  </p>
  <p>
   <sup>
    1
   </sup>
   The DW3000 supports average pulse repetition frequencies of 16 MHz and 64 MHz
  </p>
  <p>
   <sup>
    ©
   </sup>
   Decawave Ltd 2019 Version 1.1 Page 29 of 255
  </p>
  <p block-type="Text">
   <span id="page-29-1">
   </span>
   symbols) the sequence is repeated. This is determined by the configuration of the number of preamble  symbol repetitions (PSR).
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Mean PRF (MHz)
     </th>
     <th>
      #Chips Per Symbol
     </th>
     <th>
      Preamble Symbol Duration (ns)
     </th>
    </tr>
    <tr>
     <td>
      16 nominal
     </td>
     <td>
      496
     </td>
     <td>
      993.59
     </td>
    </tr>
    <tr>
     <td>
      64 nominal
     </td>
     <td>
      508
     </td>
     <td>
      1017.63
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 9: Preamble parameters
   </b>
  </h4>
  <p block-type="Text">
   The standard defines PSR settings of 16, 64, 1024 and 4096. The DW3000 supports these (although it will  not receive packets with preamble length below 32 symbols) and in addition supports PSR settings of 128,  256, 512, 1536 and 2048.
  </p>
  <p block-type="Text">
   The preamble sequence has a property of perfect periodic autocorrelation
   <sup>
    2
   </sup>
   which in essence allows a  coherent receiver to determine the exact impulse response of the RF channel between transmitter and  receiver. This brings two important benefits. Firstly, it allows the receiver make use of the received energy  from multiple paths, turning multipath from an interference source into a positive affect extending operating  range. Secondly, it lets the receiver resolve the channel in detail and determine the arrival time of the first  (most direct) path, even when attenuated, which brings precision advantages for RTLS applications.
  </p>
  <p block-type="Text">
   Note: The DW3000 includes a packet format specified by new IEEE802.15.4z amendment [2] which  incorporates a cryptographically generated scrambled timestamp sequence (STS) that can be used to obtain  an RX timestamp that has improved integrity in terms of its robust to accidental or deliberate interference,  e.g. as a result of packet collisions, for more details of this please refer to sectio
   <a href="#page-61-0">
    n 6 below.
   </a>
   The SFD marks the end of the preamble and the precise start of the switch into the BPM/BPSK modulation of  the PHR. The time-stamping of this event is deterministic in terms of symbol times and it is this in  conjunction with determining the first arriving ray within that symbol time that allows the accurate timestamping needed for precision RTLS applications. The standard specifies the SFD, which consists of the  preamble symbols either not sent, or sent as normal or sent inverted (i.e. positive and negative pulses  reversed) in a defined pattern 8 symbol times long for 850 kb/s and 6.81 Mb/s data rates. The length-8 SFD  sequence is: 0, +1, 0, -1, +1, 0, 0, -1. The IEEE802.15.4z amendment also specifies length-8 SDF without  zeros, ( -1, -1, -1, +1, -1, -1, +1, -1), which gives improved performance in a coherent receiver such as the  DW3000 that supports it.
  </p>
  <h2>
   <span id="page-29-2">
   </span>
   <span id="page-29-0">
   </span>
   <i>
    2.9 PHY header: standard data frame length
   </i>
  </h2>
  <p block-type="Text">
   The
   <a href="#page-251-3">
    PHY
   </a>
   header
   <a href="#page-251-2">
    (PHR)
   </a>
   is modulated using the BPM/BPSK modulation scheme defined in section
   <a href="#page-27-1">
    2.7 above,
   </a>
   but it does not employ the Reed Solomon code used for data, instead is employs a 6-bit
   <a href="#page-252-3">
    SECDED
   </a>
   parity check  sequence as part of its 19-bit length.
  </p>
  <p>
   <sup>
    2
   </sup>
   V. P. Ipatov, "Ternary sequences with ideal autocorrelation properties," Radio Eng. Electron. Phys., vol. 24, pp. 75–79, 1979
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Bit 0
     </th>
     <th>
      1
     </th>
     <th>
      2
     </th>
     <th>
      3
     </th>
     <th>
      4
     </th>
     <th>
      5
     </th>
     <th>
      6
     </th>
     <th>
      7
     </th>
     <th>
      8
     </th>
     <th>
      9
     </th>
     <th>
      10
     </th>
     <th>
      11
     </th>
     <th>
      12
     </th>
     <th>
      13
     </th>
     <th>
      14
     </th>
     <th>
      15
     </th>
     <th>
      16
     </th>
     <th>
      17
     </th>
     <th>
      18
     </th>
    </tr>
    <tr>
     <td>
      R1
     </td>
     <td>
      R0
     </td>
     <td>
      L6
     </td>
     <td>
      L5
     </td>
     <td>
      L4
     </td>
     <td>
      L3
     </td>
     <td>
      L2
     </td>
     <td>
      L1
     </td>
     <td>
      L0
     </td>
     <td>
      RNG
     </td>
     <td>
      EXT
     </td>
     <td>
      P1
     </td>
     <td>
      P0
     </td>
     <td>
      C5
     </td>
     <td>
      C4
     </td>
     <td>
      C3
     </td>
     <td>
      C2
     </td>
     <td>
      C1
     </td>
     <td>
      C0
     </td>
    </tr>
    <tr>
     <td>
      Data Rate
     </td>
     <td>
     </td>
     <td colspan="5">
      Frame Length
     </td>
     <td>
      Ra
      <br/>
      fra
      <br/>
      ng
      <br/>
      me
      <br/>
      ing
     </td>
     <td>
      Ex
      <br/>
      He
      <br/>
      te
      <br/>
      ad
      <br/>
      ns
      <br/>
      er
      <br/>
      ion
     </td>
     <td>
      Duration
     </td>
     <td>
      Preamble
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      SECDED Check Bits
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    Figure 11: PHR bit assignment
   </b>
  </h3>
  <p block-type="Text">
   <span id="page-30-1">
   </span>
   <a href="#page-30-1">
    Figure 11
   </a>
   <a href="#page-30-1">
    above
   </a>
   shows the bits of the PHR. These are transmitted bit-0 first in time. The DW3000 fills in the  Data Rate, Frame Length, Ranging frame, and Preamble Duration fields of the PHR based on the user  configuration of the appropriate parameters in
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   and generates th
   <a href="#page-252-3">
    e SECDED
   </a>
   sequence accordingly.  The Header Extension bit of the PHR is always zero and is reserved by IEEE for future extensions.
  </p>
  <h2>
   <span id="page-30-0">
   </span>
   <i>
    2.10 Extended PHY header: extended data frame length
   </i>
  </h2>
  <p block-type="Text">
   Standard IEEE 802.15.4-2020 UWB packets can carry up to 127 bytes of payload, se
   <a href="#page-30-1">
    e Figure 11: PHR bit
   </a>
   <a href="#page-30-1">
    assignment.
   </a>
   The DW3000 also supports a mode of operation with frame lengths up to 1023 bytes. This  mode of operation is enabled via the
   <a href="#page-77-3">
    PHR_MODE
   </a>
   selection bits of
   <i>
    <a href="#page-76-1">
     Sub-register 0x00:10
    </a>
    – System
    <a href="#page-76-1">
     configuration
    </a>
   </i>
   , which changes the defifinition of the PHR bits. While this makes the PHR non-compliant with  IEEE 802.15.4 this PHR format is actually defined as an option in the IEEE 802.15.8 standard.
  </p>
  <p block-type="Text">
   In this mode the PHY header
   <a href="#page-251-2">
    (PHR)
   </a>
   is redefined to carry the 3 extra bits of frame length. In order to  communicate extended length frames between two DW3000 devices both ends must be set to the long  frame PHY header mode via the
   <a href="#page-77-3">
    PHR_MODE
   </a>
   selection bits of
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   . If  the setting is only at one end of a link any attempt at communication will fail with PHR errors being  reported. When this long frame mode is selected, the DW3000 will be unable to successfully communicate  with any device operating with the IEEE 802.15.4 standard frame encoding, and because the
   <a href="#page-252-3">
    SECDED
   </a>
   error  check sequence of the
   <a href="#page-251-2">
    PHR
   </a>
   in this long frame mode is inverted this will cause PHR error events in advance of  any attempt to receive the payload.
  </p>
  <p block-type="Text">
   Note that the probability of an error occurring within a frame increases as the frame length is increased, and  as a result of this increasing the frame length may or may not improve system throughput depending on the  error rate and the need to retransmit frames when there is an error.
  </p>
  <p block-type="Text">
   In long frame mode only the high order bit of the
   <a href="#page-85-1">
    TXPSR
   </a>
   value from
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   is sent in the
   <a href="#page-251-2">
    PHR
   </a>
   and  reported in the
   <a href="#page-101-0">
    RXPSR
   </a>
   value in
   <a href="#page-99-0">
    RX_FINFO.
   </a>
  </p>
  <p block-type="Text">
   The PHR encoding for the extended length frames is shown below i
   <a href="#page-35-1">
    n Figure 15:
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Bit
      <br/>
      0
     </th>
     <th>
      1
     </th>
     <th>
      2
     </th>
     <th>
      3
     </th>
     <th>
      4
     </th>
     <th>
      5
     </th>
     <th>
      6
     </th>
     <th>
      7
     </th>
     <th>
      8
     </th>
     <th>
      9
     </th>
     <th>
      10
     </th>
     <th>
      11
     </th>
     <th>
      12
     </th>
     <th>
      13
     </th>
     <th>
      14
     </th>
     <th>
      14
     </th>
     <th>
      16
     </th>
     <th>
      17
     </th>
     <th>
      18
     </th>
    </tr>
    <tr>
     <td>
      R1
     </td>
     <td>
      R0
     </td>
     <td>
      L9
     </td>
     <td>
      L8
     </td>
     <td>
      L7
     </td>
     <td>
      L6
     </td>
     <td>
      L5
     </td>
     <td>
      L4
     </td>
     <td>
      L3
     </td>
     <td>
      L2
     </td>
     <td>
      L1
     </td>
     <td>
      L0
     </td>
     <td>
      P0
     </td>
     <td>
      S5
     </td>
     <td>
      S4
     </td>
     <td>
      S3
     </td>
     <td>
      S2
     </td>
     <td>
      S1
     </td>
     <td>
      S0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="8">
      Data
      <br/>
      Frame Length
      <br/>
      Rate
     </td>
     <td>
     </td>
     <td>
      Du
      <br/>
      Pre
      <br/>
      rat
      <br/>
      am
      <br/>
      ion
      <br/>
      ble
     </td>
     <td colspan="5">
      SECDED Check Bits
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Figure 12: PHR bit assignment extended length frames
   </b>
  </h4>
  <p block-type="Text">
   <span id="page-31-0">
   </span>
   The Data Rate field has the same encoding as used for the IEEE802.15.4 standard PHR.
  </p>
  <p block-type="Text">
   The frame length field L9-L0 is an unsigned 10-bit integer number that indicates the number of octets in the  PSDU from the MAC sub-layer. Note that the high order bit of the length is transmitted first in time.
  </p>
  <p block-type="Text">
   <span id="page-31-1">
   </span>
   A single bit, P0, provides the Preamble Duration field, indicating the length of the SYNC portion of the SHR  shown in
   <a href="#page-36-0">
    Table 11.
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      Table 10: Preamble duration field values in extended length frame PHR
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      P0
     </th>
     <th colspan="7">
      Preamble length for
      <br/>
      BPM-BPSK modulation
      <br/>
      mode
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      64 to 1024 symbols
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      1536 to 4096 symbols
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The preamble duration field,
   <a href="#page-85-1">
    TXPSR,
   </a>
   may be used by a receiver to set the value of the preamble duration for  an ACK frame to 64, 128, 256, 512, 1024, 1536, 2048 and 4096 symbols. Alternatively, the
   <a href="#page-86-1">
    FINE_PLEN
   </a>
   field  may be used to set any multiple of 8 as a preamble length from 32 to 2048. The application may use the  count of received preamble symbols, as reported i
   <a href="#page-187-0">
    n IP_DIAG12
   </a>
   register, to additionally inform the choice of  preamble length for any response frames.
  </p>
  <p block-type="Text">
   The
   <a href="#page-252-3">
    SECDED
   </a>
   field, S5–S0, is a set of six parity check bits that are used to protect the PHR from errors caused  by noise and channel impairments. The
   <a href="#page-252-3">
    SECDED
   </a>
   calculation is the same as that defined in IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   except the bits C5–C0 are inverted to get S5–S0 as follows:
  </p>
  <p block-type="TextInlineMath">
   S0 =
   <i>
    NOT
   </i>
   (C0), S1 =
   <i>
    NOT
   </i>
   (C1), S2 =
   <i>
    NOT (
   </i>
   C2), S3 =
   <i>
    NOT
   </i>
   (C3), S4 =
   <i>
    NOT
   </i>
   (C4) and S5 =
   <i>
    NOT
   </i>
   (C5) This is as specified in the IEEE 802.15.8 standard for frames up to 1023 octets.
  </p>
  <h2>
   <span id="page-32-0">
   </span>
   <b>
    3 Message transmission
   </b>
  </h2>
  <h2>
   <span id="page-32-1">
   </span>
   <i>
    3.1 Basic transmission
   </i>
  </h2>
  <p block-type="Text">
   The transmission of packets is one of the basic functions of the DW3000 transceiver. The packets can be sent  both with and without data payload. The DW3000 supports four packet formats, the IEEE802.15.4 standard  [1] packet format, and three new IEEE802.15.4z amendment [2] defined formats where a scrambled  timestamp sequence
   <a href="#page-252-0">
    (STS)
   </a>
   is introduced into the packet as shown in
   <a href="#page-32-2">
    Figure 13.
   </a>
   When the STS modes are  enabled the DW3000 transmitter will insert the STS in the position shown, and the receiver will expect it to  be present accordingly. The packet begins with a synchronisation header consisting of the preamble and the  SFD (start of frame delimiter). The PHY header (PHR) defines the length (and data rate) of the data payload  part of the packet. The STS when inserted allows for secure timestamping, and ranging, see §
   <a href="#page-61-0">
    6.
   </a>
  </p>
  <p>
   <img src="_page_32_Figure_5.jpeg"/>
  </p>
  <p>
   <img src="_page_32_Figure_6.jpeg"/>
  </p>
  <p block-type="Text">
   <span id="page-32-2">
   </span>
   The DW3000 basic transmit sequence is as shown in
   <a href="#page-33-1">
    Figure 14,
   </a>
   beginning in the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state awaiting  instruction from the host controller.
  </p>
  <p block-type="Text">
   In order to transmit, the host controller must write data for transmission to
   <a href="#page-226-0">
    TX_BUFFER,
   </a>
   and select the  preamble length, frame length, data rate and PRF in the Transmit Frame Control and Channel Control  registers,
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   and
   <a href="#page-109-1">
    CHAN_CTRL.
   </a>
   The PRF will be set according to the chosen preamble code
   <a href="#page-110-0">
    (TX_PCODE)
   </a>
   . Assuming all other relevant configurations have already been made, the host controller  initiates the transmission by issuing a TX command (e.g.
   <a href="#page-237-3">
    CMD_TX
   </a>
   ). Once transmission is initiated, the  DW3000 sends the complete packet of preamble
   <a href="#page-252-1">
    , SFD,
   </a>
   PHR and the PHY Payload (MAC Frame). The STS will  be included optionally depending on the configured packet format (se
   <a href="#page-32-2">
    e Figure 13)
   </a>
   . In the STS packet  configuration 3 (SP3) the PHR and PHY Payload is omitted.
  </p>
  <p block-type="Text">
   As an aid to MAC layer framing, the IC calculates the
   <a href="#page-250-5">
    FCS
   </a>
   <a href="#page-250-6">
    (CRC)
   </a>
   during the transmission of the (MAC) data  from th
   <a href="#page-226-0">
    e TX_BUFFER
   </a>
   based on the frame length
   <a href="#page-84-1">
    (TXFLEN)
   </a>
   and automatically appends it.
  </p>
  <p block-type="Text">
   The end of transmission is signalled to the host via the
   <a href="#page-93-1">
    TXFRS
   </a>
   event status bit in
   <a href="#page-91-0">
    SYS_STATUS,
   </a>
   and the  DW3000 returns to
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   mode to await new instructions.
  </p>
  <p>
   <img src="_page_33_Figure_3.jpeg"/>
  </p>
  <p>
   <b>
    Figure 14: Basic transmit sequence
   </b>
  </p>
  <p block-type="Text">
   <span id="page-33-1">
   </span>
   Further transmission features are described in the following sections:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Transmit message time-stamping  see section
     <i>
      <a href="#page-33-0">
       3.2
      </a>
      –
      <a href="#page-33-0">
       Transmission timestamp
      </a>
     </i>
     .
    </li>
    <li block-type="ListItem">
     Delayed transmission  see section
     <i>
      <a href="#page-34-0">
       3.3
      </a>
      –
      <a href="#page-34-0">
       Delayed transmission
      </a>
     </i>
     .
    </li>
    <li block-type="ListItem">
     Long transmit frames  see section
     <b>
      <a href="#page-35-0">
       3.4
      </a>
     </b>
     <i>
      –
     </i>
     <b>
      <a href="#page-35-0">
       Extended length data frames
      </a>
     </b>
     .
    </li>
   </ul>
  </p>
  <h2>
   <span id="page-33-0">
   </span>
   <i>
    3.2 Transmission timestamp
   </i>
  </h2>
  <p block-type="Text">
   During packet transmission the event nominated to time-stamp termed the
   <a href="#page-251-4">
    RMARKER,
   </a>
   where the
   <a href="#page-251-4">
    RMARKER
   </a>
   is defined in the IEEE standard to be the time when the beginning of the first symbol following th
   <a href="#page-252-1">
    e SFD
   </a>
   is at  the local antenna, or more precisely the peak pulse location associated with the first chip following the
   <a href="#page-252-1">
    SFD.
   </a>
  </p>
  <p block-type="Text">
   The DW3000 digital transmit circuitry takes note of the system clock counter as the RAW transmit  timestamp at the point when it begins sending the first chip following th
   <a href="#page-252-1">
    e SFD.
   </a>
   It then adds to this the  transmit antenna delay (configured in
   <a href="#page-103-0">
    TX_ANTD)
   </a>
   to get the antenna adjusted transmit time-stamp that it  writes to th
   <a href="#page-103-1">
    e TX_STAMP
   </a>
   field of
   <a href="#page-102-0">
    TX_TIME.
   </a>
  </p>
  <p block-type="Text">
   See also section
   <i>
    <a href="#page-243-1">
     10.3
    </a>
    – IC calibration –
    <a href="#page-243-1">
     antenna delay.
    </a>
   </i>
  </p>
  <h2>
   <span id="page-34-0">
   </span>
   <i>
    3.3 Delayed transmission
   </i>
  </h2>
  <p block-type="Text">
   For delayed transmission, the transmit time is programmed into
   <a href="#page-86-2">
    DX_TIME
   </a>
   and then the delayed transmission  is initiated by issuing the
   <a href="#page-237-4">
    CMD_DTX
   </a>
   command. Alternatively a delayed transmission can be achieved by  programming a "reference time" into the
   <a href="#page-86-0">
    DREF_TIME
   </a>
   and an offset into th
   <a href="#page-86-2">
    e DX_TIME,
   </a>
   after which delayed  transmission command
   <a href="#page-237-5">
    , CMD_DTX_REF,
   </a>
   is issued instead.
  </p>
  <p block-type="Text">
   One of the design goals of delayed transmission was that the specified transmission time would be  predictable and aligned with the transmit timestamp. This was achieved in that the transmission time  specified is the time of transmission of the
   <a href="#page-251-4">
    RMARKER
   </a>
   (not including the TX antenna delay), that is the raw TX  time,
   <a href="#page-103-2">
    TX_RAWST
   </a>
   before the antenna delay is added. This allows for the time of transmission of a message  to be pre-calculated and embedded in the message being transmitted.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   The value programmed into
   <a href="#page-86-2">
    DX_TIME
   </a>
   (and in
   <a href="#page-86-0">
    DREF_TIME)
   </a>
   is in time units of 4 ns, or more precisely  2 ÷ (499.2×10
   <sup>
    6
   </sup>
   ). To calculate the time of transmission of th
   <a href="#page-251-4">
    e RMARKER
   </a>
   at the antenna, the low 9 bits of the  delayed TX time should be zeroed before adding the TX antenna delay, and the high 32-bits of the 40-bit  result written int
   <a href="#page-86-2">
    o DX_TIME,
   </a>
   (or a reference time programmed into
   <a href="#page-86-0">
    DREF_TIME
   </a>
   and an offset into the
   <a href="#page-86-2">
    DX_TIME)
   </a>
   . Note: the least significant bit of
   <a href="#page-86-2">
    DX_TIME
   </a>
   is ignored so its effective resolution of is really  4 ÷ (499.2×10
   <sup>
    6
   </sup>
   ) or approximately 8 ns.
  </p>
  <p block-type="Text">
   In performing a delayed transmission, i.e., after the
   <a href="#page-237-4">
    CMD_DTX
   </a>
   is issued, the DW3000 calculates an
   <i>
    internal  start time
   </i>
   for when to begin sending the preamble to make the
   <a href="#page-251-4">
    RMARKER
   </a>
   raw timestamp agree with the  programmed transmit time. The DW3000 then remains in
   <b>
    <a href="#page-19-2">
     TX_WAIT
    </a>
   </b>
   state until the system time
   <a href="#page-83-4">
    (SYS_TIME)
   </a>
   reaches the correct point to turn on the transmitter and begin preamble.
  </p>
  <p block-type="Text">
   One use of delayed transmission (and reception), is to control the response times in two-way ranging,  (described in
   <i>
    <a href="#page-247-4">
     APPENDIX 1: Two-way
    </a>
   </i>
   ranging), and especially to allow the prediction and embedding of the  TX timestamp (or response delay) into the transmitted message to reduce the number of messages  necessary for a ToF measurement. Delayed transmission (and reception) also helps to minimise the  response times to save power, however in working towards this the host microprocessor may sometimes be  late invoking the delayed TX, i.e., where the system clock has passed the specified start time (i.e.
   <i>
    internal  start time
   </i>
   mentioned above) and then the IC would have to complete almost a whole clock count period  before the start time is reached. The
   <a href="#page-97-0">
    HPDWARN
   </a>
   event status flag in
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   warns of this "lateness"  condition so that during application development the delay may be chosen large enough to generally avoid  this lateness. The
   <a href="#page-97-0">
    HPDWARN
   </a>
   status flag also serves to facilitate detection of this late invocation condition so  that recovery measures may be taken should it ever occur in deployed product. For delayed transmission it  is the
   <i>
    internal start time
   </i>
   mentioned above that is used when deciding whether to set the
   <a href="#page-97-0">
    HPDWARN
   </a>
   event  for the delayed transmit. As long as the preamble start time is in the near future, the
   <a href="#page-97-0">
    HPDWARN
   </a>
   event flag  will not be set. If a long delay was intended then
   <a href="#page-97-0">
    HPDWARN
   </a>
   flag can be ignored and the transmission will  begin at the allotted time. If a long delay was not intended then the transmission can be stopped by issuing  transceiver off command
   <a href="#page-237-6">
    CMD_TXRXOFF
   </a>
   .
  </p>
  <h2>
   <span id="page-35-0">
   </span>
   <i>
    3.4 Extended length data frames
   </i>
  </h2>
  <p block-type="Text">
   Standard IEEE 802.15.4-2015 UWB packets can carry up to 127 bytes of payload. The DW3000 also supports  a mode of operation with frame lengths up to 1023 bytes. This mode of operation is enabled via the
   <a href="#page-77-3">
    PHR_MODE
   </a>
   selection bits of
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   , which changes the defifinition of  the PHR bits. While this makes the PHR non-compliant with IEEE 802.15.4 this PHR format is actually defined  as an option in the IEEE 802.15.8 standard.
  </p>
  <p block-type="Text">
   In this mode the PHY header
   <a href="#page-251-2">
    (PHR)
   </a>
   is redefined to carry the 3 extra bits of frame length. In order to  communicate extended length frames between two DW3000 devices both ends must be set to the long  frame PHY header mode via the
   <a href="#page-77-3">
    PHR_MODE
   </a>
   selection bits of
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   . If  the setting is only at one end of a link any attempt at communication will fail with PHR errors being  reported. When this long frame mode is selected, the DW3000 will be unable to successfully communicate  with any device operating with the IEEE 802.15.4 standard frame encoding, and because the
   <a href="#page-252-3">
    SECDED
   </a>
   error  check sequence of the
   <a href="#page-251-2">
    PHR
   </a>
   in this long frame mode is inverted this will cause PHR error events in advance of  any attempt to receive the data payload.
  </p>
  <p block-type="Text">
   Note that the probability of an error occurring within a frame increases as the frame length is increased, and  as a result of this increasing the frame length may or may not improve system throughput depending on the  error rate and the need to retransmit frames when there is an error.
  </p>
  <p block-type="Text">
   In long frame mode only the high order bit of the
   <a href="#page-85-1">
    TXPSR
   </a>
   value from
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   is sent in the
   <a href="#page-251-2">
    PHR
   </a>
   and  reported in the
   <a href="#page-101-0">
    RXPSR
   </a>
   value in
   <a href="#page-99-0">
    RX_FINFO.
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Bit
      <br/>
      0
     </th>
     <th>
      1
     </th>
     <th>
      2
     </th>
     <th>
      3
     </th>
     <th>
      4
     </th>
     <th>
      5
     </th>
     <th>
      6
     </th>
     <th>
      7
     </th>
     <th>
      8
     </th>
     <th>
      9
     </th>
     <th>
      10
     </th>
     <th>
      11
     </th>
     <th>
      12
     </th>
     <th>
      13
     </th>
     <th>
      14
     </th>
     <th>
      14
     </th>
     <th>
      16
     </th>
     <th>
      17
     </th>
     <th>
      18
     </th>
    </tr>
    <tr>
     <td>
      R1
     </td>
     <td>
      R0
     </td>
     <td>
      L9
     </td>
     <td>
      L8
     </td>
     <td>
      L7
     </td>
     <td>
      L6
     </td>
     <td>
      L5
     </td>
     <td>
      L4
     </td>
     <td>
      L3
     </td>
     <td>
      L2
     </td>
     <td>
      L1
     </td>
     <td>
      L0
     </td>
     <td>
      P0
     </td>
     <td>
      S5
     </td>
     <td>
      S4
     </td>
     <td>
      S3
     </td>
     <td>
      S2
     </td>
     <td>
      S1
     </td>
     <td>
      S0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="8">
      Data
      <br/>
      Frame Length
      <br/>
      Rate
     </td>
     <td>
     </td>
     <td>
      Du
      <br/>
      Pre
      <br/>
      rat
      <br/>
      am
      <br/>
      ion
      <br/>
      ble
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      SECDED Check Bits
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The PHR encoding for the extended length frames is shown below i
   <a href="#page-35-1">
    n Figure 15:
   </a>
  </p>
  <h2>
   <b>
    Figure 15: PHR encoding extended length frames
   </b>
  </h2>
  <p block-type="Text">
   <span id="page-35-1">
   </span>
   The Data Rate field has the same encoding as used for the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   PHR.
  </p>
  <p block-type="Text">
   The frame length field L9-L0 is an unsigned 10-bit integer number that indicates the number of octets in the  PSDU from the MAC sub-layer. Note that the high order bit of the length is transmitted first in time.
  </p>
  <p block-type="Text">
   A single bit, P0, provides the Preamble Duration field, indicating the length of the SYNC portion of the SHR  shown in
   <a href="#page-36-0">
    Table 11.
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      P0
     </th>
     <th>
      Preamble length for
      <br/>
      BPM-BPSK modulation
      <br/>
      mode
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      64 to 1024 symbols
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      1536 to 4096 symbols
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-36-0">
   </span>
   <b>
    Table 11: Preamble duration field values in extended length frame PHR
   </b>
  </h2>
  <p block-type="Text">
   The preamble duration field,
   <a href="#page-85-1">
    TXPSR,
   </a>
   may be used by a receiver to set the value of the preamble duration for  an ACK frame to 64, 128, 256, 512, 1024, 1536, 2048 and 4096 symbols. Alternatively, the
   <a href="#page-86-1">
    FINE_PLEN
   </a>
   field  may be used to set any multiple of 8 as a preamble length from 32 to 2048. The application may use the  count of received preamble symbols, as reported i
   <a href="#page-187-0">
    n IP_DIAG12
   </a>
   register, to additionally inform the choice of  preamble length for any response frames.
  </p>
  <p block-type="Text">
   The
   <a href="#page-252-3">
    SECDED
   </a>
   field, S5–S0, is a set of six parity check bits that are used to protect the PHR from errors caused  by noise and channel impairments. The
   <a href="#page-252-3">
    SECDED
   </a>
   calculation is the same as that defined in IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   except the bits C5–C0 are inverted to get S5–S0 as follows:
  </p>
  <p block-type="TextInlineMath">
   S0 =
   <i>
    NOT
   </i>
   (C0), S1 =
   <i>
    NOT
   </i>
   (C1), S2 =
   <i>
    NOT (
   </i>
   C2), S3 =
   <i>
    NOT
   </i>
   (C3), S4 =
   <i>
    NOT
   </i>
   (C4) and S5 =
   <i>
    NOT
   </i>
   (C5) This is as specified in the IEEE 802.15.8 standard for frames up to 1023 octets.
  </p>
  <h2>
   <span id="page-37-0">
   </span>
   <b>
    4 Message reception
   </b>
  </h2>
  <h2>
   <span id="page-37-1">
   </span>
   <i>
    4.1 PHY reception
   </i>
  </h2>
  <p block-type="Text">
   The reception of a packet is enabled by a host request enabling of the receiver. This can be done while the  device is in either IDLE_RC or
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state. If the device was in IDLE_RC it will firstly clalibrate, enable PLL  and switch to
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state and then goin into
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   state. However, prior to the first RX enable following  device power up, the receiver needs to be calibrated. This is done by performing RX calibration, for more  details on this see the dwt_pgf_cal() API
   <a href="#page-253-7">
    [3]
   </a>
   an
   <a href="#page-127-0">
    d RX_CAL
   </a>
   register. The RX calibration is automatically done on  wakeup as long a
   <a href="#page-165-1">
    s ONW_PGFCAL
   </a>
   bit is set. It is also recommended that the receiver is re-calibrated if the  operating temperature changes by 20 °C.
  </p>
  <p>
   <img src="_page_37_Figure_5.jpeg"/>
  </p>
  <p>
   <b>
    Figure 16: Receive sequence
   </b>
  </p>
  <p block-type="Text">
   <span id="page-37-3">
   </span>
   <span id="page-37-2">
   </span>
   To enable the receiver, the host issues an RX start command (see section on
   <a href="#page-237-0">
    Fast Commands)
   </a>
   . The receiver  will start by searching for preamble continually until preamble has been detected or acquired, then a  demodulation will be attempted. A preamble detection timeout may be set to allow the receiver to stop  searching for preamble after a desired period (which is programmable i
   <a href="#page-146-0">
    n PRE_TOC)
   </a>
   . A receive sequence is  shown in
   <a href="#page-37-2">
    Figure 16.
   </a>
  </p>
  <h2>
   <span id="page-38-1">
   </span>
   <b>
    Preamble detection
   </b>
  </h2>
  <p block-type="Text">
   <span id="page-38-0">
   </span>
   The preamble sequence is detected by cross-correlating in preamble acquisition chunks
   <a href="#page-251-5">
    (PACs
   </a>
   ) which are a  number of preamble symbols long. The size of chunk used is selected by the
   <a href="#page-251-5">
    PAC
   </a>
   configuration in
   <a href="#page-144-1">
    DTUNE0.
   </a>
   The
   <a href="#page-251-5">
    PAC
   </a>
   size should be selected depending on the expected preamble size. A larger PAC size gives better  performance when the preamble is long enough to allow it, but if the PAC is too large for the preamble  length the receiver performance will be impaired, or fail to work at the extremes – (e.g. a PAC of 32 will  never receive packets with just 32 preamble symbols).
   <a href="#page-38-0">
    Table 12
   </a>
   gives the recommended PAC size  configuration to use in the receiver depending on the preamble length being used in the transmitter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Expected preamble
      <br/>
      length of packets being
      <br/>
      received
     </th>
     <th>
      Data Rate
     </th>
     <th colspan="4">
      Recommended
      <br/>
      PAC size
     </th>
    </tr>
    <tr>
     <td>
      32
     </td>
     <td>
      6.81 Mb/s
     </td>
     <td>
      4
     </td>
    </tr>
    <tr>
     <td>
      ≥ 64
     </td>
     <td>
      6.81 Mb/s
     </td>
     <td>
      8
     </td>
    </tr>
    <tr>
     <td>
      ≥ 128
     </td>
     <td>
      850 kb/s
     </td>
     <td>
      16
     </td>
    </tr>
   </tbody>
  </table>
  <p>
  </p>
  <p block-type="Text">
   Aborting reception with use of preamble detection timeout
   <a href="#page-146-0">
    (PRE_TOC)
   </a>
   is very useful following sending a  message where a response is being awaited. Here if the preamble is not detected then the awaited  response is not coming. The preamble detection time-out can be used to abandon the reception at the  earliest possible time, saving power.
  </p>
  <h2>
   <b>
    Preamble accumulation
   </b>
  </h2>
  <p block-type="Text">
   Once the preamble sequence is detected, the receiver begins accumulating correlated preamble symbols and building a channel impulse response
   <a href="#page-250-7">
    (CIR)
   </a>
   , while in parallel looking for th
   <a href="#page-252-1">
    e SFD
   </a>
   sequence (a particular  sequence of preamble symbols, see §
   <i>
    <a href="#page-28-0">
     2.8
    </a>
    –
    <a href="#page-28-0">
     Synchronisation header modulation scheme
    </a>
   </i>
   for details).
  </p>
  <h2>
   <b>
    <a href="#page-252-1">
     SFD
    </a>
    detection
   </b>
  </h2>
  <p block-type="Text">
   The detection of
   <a href="#page-252-1">
    SFD
   </a>
   is a key event in the reception of a packet, because it marks th
   <a href="#page-251-4">
    e RMARKER,
   </a>
   which is  time-stamped (see section
   <i>
    <a href="#page-40-2">
     4.1.7
    </a>
    –
    <a href="#page-40-2">
     RX message timestamp
    </a>
   </i>
   ), and it marks the change from preamble  demodulation to the
   <a href="#page-250-8">
    BPM
   </a>
   <a href="#page-250-9">
    /BPSK
   </a>
   demodulation of th
   <a href="#page-251-2">
    e PHR
   </a>
   and data or STS demodulation if enabled.
  </p>
  <p block-type="Text">
   It is possible to abort reception if the
   <a href="#page-252-1">
    SFD
   </a>
   is not detected within a certain time after preamble is detected.  This functionality is configured via
   <a href="#page-145-0">
    DRX_SFDTOC.
   </a>
   This
   <a href="#page-252-1">
    SFD
   </a>
   detection timeout guards against false detection  of preamble (which has a finite chance of happening) that could otherwise lead to a prolonged period  receiving nothing. By default, the
   <a href="#page-252-1">
    SFD
   </a>
   detection timeout is 65 symbol times (to match the default preamble  length of 64 symbols and a PAC size of 8). It is not recommended to disable the
   <a href="#page-252-1">
    SFD
   </a>
   detection timeout.
  </p>
  <p block-type="Text">
   The
   <a href="#page-252-1">
    SFD
   </a>
   sequence is either 8 or 16 symbols long for the supported data rates of 6.8 Mb/s or 850 kb/s. The  type of the SFD sequence used is defined by
   <a href="#page-109-3">
    SFD_TYPE
   </a>
   configuration bits i
   <a href="#page-109-1">
    n CHAN_CTRL
   </a>
   register, and are  described in
   <a href="#page-109-0">
    Table 22.
   </a>
  </p>
  <h2>
   <b>
    STS reception
   </b>
  </h2>
  <p block-type="Text">
   If the STS is enabled, see
   <a href="#page-32-2">
    Figure 13,
   </a>
   the receiver will construct another
   <a href="#page-250-7">
    CIR
   </a>
   from that. The time-of-arrival
   <a href="#page-252-4">
    (ToA)
   </a>
   can also be derived from this CIR estimate.
  </p>
  <p block-type="Text">
   The STS itself consists of a series of equally spaced pulses whose polarity is derived from an AES128 based  cryptographically secure pseudo random number generator as specified in the IEEE802.15.4z amendment.
  </p>
  <p block-type="Text">
   This can help when constructing a secure ranging environment (see
   <a href="#page-61-0">
    6
   </a>
   <a href="#page-61-0">
    Secure ranging / timestamping)
   </a>
   and it  also improves immunity to packet collisions on the air.
  </p>
  <h2>
   <b>
    <a href="#page-251-2">
     PHR
    </a>
    demodulation
   </b>
  </h2>
  <p block-type="Text">
   The main role of the PHY Header
   <a href="#page-251-2">
    (PHR)
   </a>
   is to convey the length of the data portion of the packet, and to  indicate the data rate being employed for data demodulation. See paragraph
   <a href="#page-29-0">
    2.9
   </a>
   -
   <a href="#page-29-0">
    PHY header
   </a>
   and  paragrap
   <a href="#page-30-0">
    h 2.10
   </a>
   for details of the PHY header. For data rates of 850 kb/s and 6.8 Mb/s th
   <a href="#page-251-2">
    e PHR
   </a>
   is modulated / demodulated as per the 850 kb/s data rate (note that because Reed Solomon encoding is not applied to  the
   <a href="#page-251-2">
    PHR,
   </a>
   its bit rate is approximately 1 Mb/s). If th
   <a href="#page-251-2">
    e PHR
   </a>
   is indicating 850 kb/s then the data demodulation  continues at this rate, but if th
   <a href="#page-251-2">
    e PHR
   </a>
   is indicating 6.8 Mb/s then the demodulation changes to this rate at the  end of the PHR as data demodulation begins.
  </p>
  <p block-type="Text">
   It is also possible to configure the
   <a href="#page-251-2">
    PHR
   </a>
   rate to be the same as the data rate, i.e. to use 6.8 Mbit/s with
   <a href="#page-77-4">
    PHR_6M8
   </a>
   configuration bit i
   <a href="#page-76-0">
    n SYS_CFG,
   </a>
   <a href="#page-76-1">
    8.2.2.4.
   </a>
  </p>
  <h2>
   <b>
    Data demodulation
   </b>
  </h2>
  <p block-type="Text">
   Section
   <i>
    <a href="#page-27-1">
     2.7
    </a>
    –
    <a href="#page-27-1">
     Data modulation scheme
    </a>
   </i>
   describes the modulation scheme. In the receiver a Viterbi decoder is  used to recover the data bits (this is also used for
   <a href="#page-251-2">
    PHR
   </a>
   reception) which are then passed through the Reed  Solomon decoder to apply, if it can, any further corrections. Every octet thus received is passed through a
   <a href="#page-250-6">
    CRC
   </a>
   checker that checks the frame against the transmitte
   <a href="#page-250-5">
    d FCS.
   </a>
  </p>
  <p block-type="Text">
   As the data octets are received they may also be parsed by the frame filtering function if enabled, see  section
   <i>
    <a href="#page-50-1">
     5.4
    </a>
    –
    <a href="#page-50-1">
     Frame filtering
    </a>
   </i>
   for more details.
  </p>
  <p block-type="Text">
   Successful reception of a frame is signalled to the host via th
   <a href="#page-94-0">
    e RXFR
   </a>
   an
   <a href="#page-94-1">
    d RXFCG
   </a>
   event status bits in
   <a href="#page-91-0">
    SYS_STATUS.
   </a>
   Other status bits in this register may be used to flag reception of other parts of the frame or,  events indicating failure, i.e.
   <a href="#page-96-1">
    RXPTO
   </a>
   (Preamble detection Timeout),
   <a href="#page-97-1">
    RXSTO
   </a>
   (SFD timeout)
   <a href="#page-94-2">
    , RXPHE
   </a>
   (PHY  Header Error),
   <a href="#page-95-0">
    RXFSL
   </a>
   (Reed Solomon error),
   <a href="#page-95-1">
    RXFTO
   </a>
   (Frame wait timeout), etc.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Features related to reception
     </th>
     <th>
      Section
     </th>
    </tr>
    <tr>
     <td>
      Receive message time-stamping
     </td>
     <td>
      4.1.7 – RX message timestamp.
     </td>
    </tr>
    <tr>
     <td>
      Delayed reception
     </td>
     <td>
      4.3 - Delayed receive
     </td>
    </tr>
    <tr>
     <td>
      Receiving long frames
     </td>
     <td>
      02.10 – Extended PHY header
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-40-2">
   </span>
   <b>
    RX message timestamp
   </b>
  </h2>
  <p block-type="Text">
   The IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   nominates the time when the
   <a href="#page-251-4">
    RMARKER
   </a>
   arrives at the antenna as the  significant event that is time-stamped, also shown i
   <a href="#page-32-2">
    n Figure 13.
   </a>
  </p>
  <p block-type="Text">
   The DW3000 digital receiver circuitry takes a coarse timestamp of the symbol in which th
   <a href="#page-251-4">
    e RMARKER
   </a>
   event  occurs and adds in various correction factors to give a resultant adjusted time stamp value, which is the time  at which the
   <a href="#page-251-4">
    RMARKER
   </a>
   arrived at the antenna. This includes subtracting the receive antenna delay as  configured in the
   <a href="#page-198-1">
    RXANTD
   </a>
   register (i
   <a href="#page-198-0">
    n CIA_CONF)
   </a>
   and adding the correction factor determined by the first  path (leading edge) detection algorithm embedded in the DW3000. The resulting fully adjusted RX  timestamp is written into
   <a href="#page-102-1">
    RX_STAMP,
   </a>
   <a href="#page-179-0">
    IP_TOA
   </a>
   an
   <a href="#page-180-0">
    d STS_TOA
   </a>
   registers
   <i>
    .
   </i>
  </p>
  <p block-type="Text">
   See also section
   <i>
    <a href="#page-243-1">
     10.3
    </a>
    – IC calibration –
    <a href="#page-243-1">
     antenna delay
    </a>
   </i>
   , and section
   <i>
    <a href="#page-61-0">
     6
    </a>
    –
    <a href="#page-61-0">
     Secure ranging / timestamping
    </a>
   </i>
   .
  </p>
  <h2>
   <span id="page-40-0">
   </span>
   <i>
    4.2 TDoA and PDoA support
   </i>
  </h2>
  <p block-type="Text">
   The two-antenna port variants of DW3000 chip can measure the phase of incoming signal. This information  can be used to help determine the direction of arrival and location of the transmission when combined with  knowledge of the antenna response. More details of how this is performed will be given in an associated  application note. This section will focus on the information provided by the device itself.
  </p>
  <p block-type="Text">
   Depending on the variant of th
   <a href="#page-73-0">
    e device
   </a>
   there will be one or two antenna ports. Devices with two antenna  ports are referred to as PDoA parts while the others are non-PDoA parts (see
   <a href="#page-6-2">
    Table 1)
   </a>
   . The two variants  have different capabilities when it comes to Phase Difference of Arrival (PDoA) support.
  </p>
  <p block-type="Text">
   <span id="page-40-3">
   </span>
   For the "PDoA" parts, if the packet contains an STS then, depending on the configured mode, the device can  compute the PDoA. There are two methods for computing the PDoA: PDoA Mode 1 and PDoA Mode 3.
  </p>
  <p block-type="Text">
   PDoA Mode 1 functions with any packet containing an STS but is less accurate than PDoA Mode 3. On  another side PDoA Mode 3 requires the STS length (in units of 512 chips, ~1 μs) to be an integer multiple of  128 (128, 256, 512). It is more accurate than Mode 1 but the packets will be longer (se
   <a href="#page-79-2">
    e PDOA_MODE
   </a>
   in
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register on how to configure the required mode).
  </p>
  <p block-type="Text">
   In either of the PDoA modes the chip will also compute the Time Difference Of Arrival (TDoA) between the  two channel estimates that are used to determine the PDoA. If this TDoA is large, e.g. greater than 1 ns, then the PDoA should be considered to be untrustworthy. This is probably due to harsh channel conditions  resulting in an ambiguous first ray estimate.
  </p>
  <h2>
   <span id="page-40-1">
   </span>
   <i>
    4.3 Delayed receive
   </i>
  </h2>
  <p block-type="Text">
   In delayed receive operation the receiver turn-on time is programmed into
   <a href="#page-86-2">
    DX_TIME
   </a>
   and then the delayed  receiving is initiated by issuing
   <a href="#page-237-7">
    CMD_DRX
   </a>
   command. . Otherwise a delayed reception can be achieved by  programming a "reference time" into the
   <a href="#page-86-0">
    DREF_TIME
   </a>
   and an offset into th
   <a href="#page-86-2">
    e DX_TIME,
   </a>
   after which delayed  reception command,
   <a href="#page-237-8">
    CMD_DRX_REF,
   </a>
   is issued instead.
  </p>
  <p block-type="Text">
   The DW3000 remains in
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state until the system time
   <a href="#page-83-4">
    (SYS_TIME)
   </a>
   reaches the value programmed in
   <a href="#page-86-2">
    DX_TIME
   </a>
   (or time programmed into
   <a href="#page-86-0">
    DREF_TIME
   </a>
   plus an offset into th
   <a href="#page-86-2">
    e DX_TIME)
   </a>
   and then the IC receiver is  turned on. This point marks the start time for any programmed timeouts that apply to the reception
  </p>
  <p block-type="TextInlineMath">
   process, i.e. the preamble detection timeout (which is set and enabled b
   <a href="#page-146-0">
    y PRE_TOC)
   </a>
   and the frame wait  timeout (which is enabled by the
   <a href="#page-78-0">
    RXWTOE
   </a>
   configuration bit in
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   ,  and whose period is programmed in
   <a href="#page-87-1">
    RX_FWTO)
   </a>
   .
  </p>
  <p block-type="Text">
   The benefit of delayed receive is that the receiver can be turned on at just the right moment to receive an  expected response, especially when that response is coming from a DW3000 employing delayed transmit to  send the response message at a precise time. This saves power because the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state power  consumption while counting down to the time to perform the RX enable is significantly less than the
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   state  power consumption while waiting and searching for the preamble of a packet reception.
  </p>
  <p block-type="Text">
   One use of delayed receive, and especially delayed transmission, is in two-way ranging, (described i
   <a href="#page-247-4">
    n
   </a>
   <i>
    <a href="#page-247-4">
     APPENDIX 1: Two-way
    </a>
   </i>
   ranging), to control the response times. On the receive side turning on the receiver  just in time to receive the response message helps save power since the IC will remain in
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state until  it is time to turn on the receiver. Minimising the response time and time spent in
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state also saves  power. It is possible for the host microprocessor to be late invoking the delayed TX or RX, so that the system  clock is beyond the specified start time and then the IC would have to complete almost a whole clock count  period before the specified start time is reached. The
   <a href="#page-97-0">
    HPDWARN
   </a>
   event status flag in
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   warns of  this "lateness" condition so that during development a delay may be chosen large enough to generally avoid  this lateness. The
   <a href="#page-97-0">
    HPDWARN
   </a>
   status flag also serves to facilitate detection of this late invocation condition so  that recovery measures may be taken should it ever occur in deployed product.
  </p>
  <h2>
   <span id="page-41-0">
   </span>
   <i>
    4.4 Double receive buffer
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 has a pair of receive buffers
   <a href="#page-226-1">
    (RX_BUFFER_0
   </a>
   an
   <a href="#page-226-2">
    d RX_BUFFER_1)
   </a>
   offering the capability to  receive into one of the pair while the host system is reading previously received data from the other buffer  of the pair. For example, this is useful in a TDoA RTLS anchor node application where it is desired to have  the receiver turned on for as much time as possible to avoid missing any tag blink messages. A number of  ancillary registers (timestamps, quality indicators and status bits) are also doubly-buffered. The registers  that are part of this "RX double-buffered swinging-set"
   <a href="#page-230-1">
    (SET_1
   </a>
   and
   <a href="#page-230-2">
    SET_2)
   </a>
   and are listed in
   <a href="#page-230-0">
    Table 44.
   </a>
   To  enable logging of data to these diagnostic sets
   <a href="#page-115-0">
    , RDB_DMODE
   </a>
   must be set to at least 1 to log minimal set of registers.
  </p>
  <p block-type="Text">
   Note that double buffering can also be used with th
   <a href="#page-252-5">
    e SP3
   </a>
   packets, configured via the
   <a href="#page-79-3">
    CP_SPC
   </a>
   field in
   <i>
    <a href="#page-76-1">
     Sub
    </a>
    register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   , where even though the packet contains no payload, the receive  timestamp and other diagnostic information is doubly buffered.
  </p>
  <h2>
   <b>
    Enabling double-buffered operation
   </b>
  </h2>
  <p block-type="Text">
   By default the DW3000 operates in a single buffered mode that is appropriate for many applications.  Double-buffered receiving is enabled by setting th
   <a href="#page-77-1">
    e DIS_DRXB
   </a>
   bit to zero, (in
   <i>
    <a href="#page-76-1">
     Sub-register 0x00:10
    </a>
    – System
    <a href="#page-76-1">
     configuration
    </a>
   </i>
   ).
  </p>
  <p block-type="Text">
   The DW3000 is operated in double buffered mode without possibility of the automatic re-enabling of the  receiver, in which case the host needs to manually re-enable the receiver. However the receiver can be  enabled in advance of processing the previously received frame. This operation reduces the amount of time  for which the receiver is actively listening for frames on the air, but prevents both buffers being full (at the
  </p>
  <p block-type="Text">
   same time) and prevents overflows. This simplifies the double-buffer operation, see sections
   <a href="#page-42-0">
    4.4.2
   </a>
   and
   <a href="#page-42-1">
    4.4.3
   </a>
   and, with a combination with a high-speed SPI enables reception of back-to-back frames.
  </p>
  <h2>
   <span id="page-42-0">
   </span>
   <b>
    Operation of double buffering
   </b>
  </h2>
  <p block-type="Text">
   In non-double buffer mode the DW3000 will write the received frame data into
   <a href="#page-226-1">
    RX_BUFFER_0.
   </a>
   When the  double buffer mode is enabled the DW3000 will alternate writing frames t
   <a href="#page-226-1">
    o RX_BUFFER_0
   </a>
   and
   <a href="#page-226-2">
    RX_BUFFER_1.
   </a>
   The associated RX_FINFO and diagnostic data is stored in two register sets
   <a href="#page-230-1">
    : SET_1
   </a>
   and
   <a href="#page-230-2">
    SET_2
   </a>
   as listed in
   <a href="#page-230-0">
    Table 44.
   </a>
   The
   <a href="#page-112-0">
    RDB_STATUS
   </a>
   register informs the host which register set is ready and available. For  example, whe
   <a href="#page-226-1">
    n RX_BUFFER_0
   </a>
   frame reception is complete the IC will set the RXFR0 with RXFCG0 in
   <a href="#page-112-0">
    RDB_STATUS
   </a>
   register interrupting the host and the IC will move on to receive into the other buffer of the  double-buffered swinging-set. Once the host has finished accessing a register set is should issue toggle  buffer command,
   <a href="#page-237-9">
    CMD_DB_TOGGLE
   </a>
   , to let the IC know that the particular buffer is "free" again and that it can  be used for the next received frame. The host should also clear th
   <a href="#page-112-0">
    e RDB_STATUS
   </a>
   register bits relating to the  processed buffer.
   <a href="#page-43-0">
    Figure 17
   </a>
   below is a flow chart showing the operation of double buffering in the receiver.
  </p>
  <p block-type="Text">
   Reception of a frame with good CRC will set the relevan
   <a href="#page-112-0">
    t RDB_STATUS
   </a>
   register bits. The host will need to  respond to the RX error events as usual (by reading the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register and clearing any events) and reenable the receiver.
  </p>
  <h2>
   <span id="page-42-1">
   </span>
   <b>
    Overrun
   </b>
  </h2>
  <p block-type="Text">
   As in the DW3000 the double buffered mode is used without the automatic re-enabling of the receiver, in  which case the overrun should never happen. The host needs manually re-enables the receiver, it should  process the previously received frame before enabling receiver following the reception of the current frame.
  </p>
  <p block-type="Text">
   In case of the overrun condition, it will be cleared as soon as the host issues the
   <a href="#page-237-9">
    CMD_DB_TOGGLE
   </a>
   command.  Following which the host should clear the
   <a href="#page-96-2">
    RXOVRR
   </a>
   status bit. Receiver overrun events are also counted in
   <i>
    Sub-register 0x0F:0E –
   </i>
   <a href="#page-208-0">
    RX overrun error counter,
   </a>
   assuming that counting is enabled by the
   <a href="#page-205-0">
    EVC_EN
   </a>
   bit in
   <i>
    Sub-register 0x0F:00 –
    <a href="#page-205-1">
     Event counter control
    </a>
   </i>
   .
  </p>
  <p>
   <img src="_page_43_Figure_2.jpeg"/>
  </p>
  <p>
   <span id="page-43-0">
   </span>
   <img src="_page_43_Figure_3.jpeg"/>
  </p>
  <h2>
   <span id="page-44-0">
   </span>
   <i>
    4.5 Low-Power SNIFF mode
   </i>
  </h2>
  <p block-type="Text">
   <a href="#page-44-0">
    Low-Power SNIFF mode
   </a>
   is a lower power preamble hunt mode, also known as pulsed preamble detection  mode (PPDM), where the receiver (RF and digital) is sequenced on and off rather than being on all the time.  These on and off times are configurable in
   <a href="#page-224-1">
    8.2.15.6
   </a>
   <a href="#page-224-1">
    Sub-register
   </a>
   0x11:1A – SNIFF mode and have default  values of zero, disabling the feature. Using SNIFF mode causes a reduction in sensitivity depending on the  ratio and durations of the on and off periods.
  </p>
  <p block-type="Text">
   In
   <a href="#page-44-2">
    SNIFF
   </a>
   mode the DW3000 alternates between the
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   state (on) and the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   (off) stat
   <a href="#page-44-1">
    e Figure 18
   </a>
   shows a simplified view of the state transitions during SNIFF mode.
  </p>
  <p>
   <img src="_page_44_Figure_5.jpeg"/>
  </p>
  <p>
   <b>
    Figure 18: State transitions during SNIFF mode
   </b>
  </p>
  <h2>
   <span id="page-44-2">
   </span>
   <span id="page-44-1">
   </span>
   <b>
    SNIFF mode power profiles
   </b>
  </h2>
  <p block-type="Text">
   In
   <a href="#page-44-2">
    SNIFF
   </a>
   mode the DW3000 alternates between the
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   (on) and the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   (off) states. To enable
   <a href="#page-44-2">
    SNIFF
   </a>
   mode two parameters
   <a href="#page-225-0">
    SNIFF_ON
   </a>
   (sniff on time) an
   <a href="#page-225-1">
    d SNIFF_OFF
   </a>
   (the off time) need to be configured in
   <a href="#page-224-1">
    Sub
   </a>
   register
   <a href="#page-224-1">
    0x11:1A
   </a>
   – SNIFF mode. The on duration is programmed in units of
   <a href="#page-251-5">
    PAC,
   </a>
   (these are described in  section
   <a href="#page-38-1">
    4.1.1
   </a>
   - Preamble
   <a href="#page-38-1">
    detection)
   </a>
   , and must be set to at a minimum value of 2 for functional preamble  detection. Th
   <a href="#page-225-0">
    e SNIFF_ON
   </a>
   counter automatically adds 1 PAC unit to the total PAC count so the programmed  value should always be 1 less than the desired total. The off duration is programmed in units of 1 µs. When  both on and off durations are programmed with non-zero values
   <a href="#page-44-2">
    SNIFF
   </a>
   will be operational from the next RX  enable.
  </p>
  <p block-type="Text">
   As an example if the
   <a href="#page-251-5">
    PAC
   </a>
   size is 8 symbols, (this is approximately 8 µs), and we want to have a 50:50 on-off  duty cycle, then we could set
   <a href="#page-225-0">
    SNIFF_ON
   </a>
   to its minimum of
   <a href="#page-251-5">
    2 PAC
   </a>
   intervals (by programming the counter with  a value of 1) and the
   <a href="#page-225-1">
    SNIFF_OFF
   </a>
   to a value of 16 µs.
  </p>
  <p block-type="Text">
   Figure 19 below shows the power profile associated wit
   <a href="#page-44-2">
    h SNIFF
   </a>
   mode where the IC wakes up from
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   and  progress into the repeated
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   -
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   -
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   -
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   … duty-cycle of the pulsed preamble detection mode. A  timeout ends this and the DW3000 is returned to
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   .
  </p>
  <p>
   <img src="_page_45_Figure_4.jpeg"/>
  </p>
  <p>
   <b>
    Figure 19 Power profile for SNIFF where a packet is not received
   </b>
  </p>
  <p block-type="Text">
   <span id="page-45-1">
   </span>
   Figure 20 below, shows a power profile fo
   <a href="#page-44-2">
    r SNIFF
   </a>
   mode, similar to figure 19 except in this case preamble is  detected on the second period of RX sampling, and the DW3000 completes the reception of the packet.
  </p>
  <p>
   <img src="_page_45_Figure_7.jpeg"/>
  </p>
  <p>
   <img src="_page_45_Figure_8.jpeg"/>
  </p>
  <h2>
   <span id="page-45-2">
   </span>
   <span id="page-45-0">
   </span>
   <i>
    4.6 Diagnostics
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 includes the following diagnostic aids: -
  </p>
  <p block-type="Text">
   • The ability to drive LEDs to show TX and RX activity, which may be useful during product  development and in non-battery powered devices. The LED driving feature is an option on GPIO  lines, and is configurable via Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status.
   </a>
   Please refer to the  register description for details of the supported functionality.
  </p>
  <p block-type="Text">
   Access to accumulator – of use during product development diagnostics. This is provided via:
  </p>
  <p block-type="Text">
   • Register file: 0x15 –
   <a href="#page-227-0">
    Accumulator CIR memory.
   </a>
   Please refer to its description for details.
  </p>
  <p block-type="Text">
   • RX packet quality indications – of use for both product development diagnostics and for working  diagnostics, e.g. for network management or for deciding on confidence level for an RTLS or ranging  measurement. These are available through the diagnostics registers of
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D,
   </a>
   0x0E –
   <a href="#page-177-1">
    CIA Interface.
   </a>
   Please refer to section
   <i>
    <a href="#page-46-0">
     4.7
    </a>
    –
    <a href="#page-46-0">
     Assessing the quality of reception and the RX
    </a>
    <a href="#page-46-0">
     timestamp
    </a>
   </i>
   for details.
  </p>
  <h2>
   <span id="page-46-0">
   </span>
   <i>
    4.7 Assessing the quality of reception and the RX timestamp
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 receiver is capable of receiving messages under many different conditions. In some  circumstances it can be useful to assess the quality of the received signals and any timestamp data based on  them.
  </p>
  <p block-type="Text">
   The following details the elements of receive status reported by the DW3000 that may be used to assess the  quality of a received message and any related timestamp.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   These items use diagnostics provided by the channel impulse analyser
   <a href="#page-250-3">
    (CIA)
   </a>
   algorithm, which operates  on the accumulated correlation of the repeated symbols preamble sequence and/or the accumulated  correlation of the scrambled timestamp sequence
   <a href="#page-252-0">
    (STS)
   </a>
   used for secure timestamping, see
   <i>
    §
    <a href="#page-61-0">
     6
    </a>
    –
    <a href="#page-61-0">
     Secure
    </a>
    <a href="#page-61-0">
     ranging / timestamping
    </a>
   </i>
   . The timestamps based on preamble and
   <a href="#page-252-0">
    STS
   </a>
   sequences can be assessed following  these rules:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Each ToA has an associated status word, see section
     <a href="#page-177-1">
      8.2.13.
     </a>
     This word contains the results of several  confidence tests on the first path estimate. If any of the bits in the status word is set, then the  corresponding confidence test has failed and so the conditions may have resulted in lower  confidence in the ToA.
    </li>
    <li block-type="ListItem">
     It is possible to compute an estimated receive power figure  for the purposes of this discussion this  will be called RX_POWER (see section
     <a href="#page-47-0">
      4.7.2)
     </a>
     . It is also possible to compute an estimated power for  just the first path signal – for the purposes of this discussion this will be called FP_POWER (see  sectio
     <a href="#page-46-1">
      n 4.7.1)
     </a>
     . Using these two calculations it may be possible to say whether the channel is line-ofsight
     <a href="#page-251-6">
      (LOS)
     </a>
     or non-line-of-sight signal
     <a href="#page-251-7">
      (NLOS)
     </a>
     .
    </li>
    <li block-type="ListItem">
     It is possible to compare the locations of the first path and the peak path in the
     <a href="#page-250-7">
      CIR
     </a>
     estimate. In LOS  channels the peak path will be close to the first path.
    </li>
    <li block-type="ListItem">
     Where possible the system should use a scrambled time sequence (STS). This allows the DW3000  produce at least 2 estimates of the
     <a href="#page-250-7">
      CIR
     </a>
     and so compute 2 independent ToA estimates. As both are  measuring the same physical parameter, they should be very close to each other. The CIA algorithm  will compute the difference between these estimates and test it against a predefined threshold. If  the difference is too great, then an error flag will be raised, and the ToA should not be trusted.
    </li>
   </ul>
  </p>
  <h2>
   <span id="page-46-1">
   </span>
   <b>
    Estimating the signal power in the first path
   </b>
  </h2>
  <p block-type="Text">
   An estimate of the power in the first path signal may be calculated (in dBm). Depending on the receiver  configuration two different formulae are used to do this.
  </p>
  <p block-type="Text">
   If the
   <a href="#page-125-2">
    RX_TUNE_EN
   </a>
   bit is set in
   <a href="#page-125-1">
    DGC_CFG
   </a>
   register, described in
   <a href="#page-125-3">
    8.2.4.1
   </a>
   (DGC):
  </p>
  <p block-type="Equation">
   First Path Power Level =
   <math display="block">
    10 \times \log_{10} \left( \frac{F_1^2 + F_2^2 + F_3^2}{N^2} \right) + (6 \times D) - A \, dBm
   </math>
  </p>
  <p block-type="TextInlineMath">
   If the
   <a href="#page-125-2">
    RX_TUNE_EN
   </a>
   bit is not set in
   <a href="#page-125-1">
    DGC_CFG
   </a>
   register, described i
   <a href="#page-125-3">
    n 8.2.4.1
   </a>
   (No DGC):
  </p>
  <p block-type="Equation">
   First Path Power Level =
   <math display="block">
    10 \times \log_{10} \left( \frac{F_1^2 + F_2^2 + F_3^2}{N^2} \right) - A \ dBm
   </math>
  </p>
  <p block-type="Text">
   Where:
  </p>
  <p block-type="TextInlineMath">
   <i>
    F
    <sup>
     1
    </sup>
   </i>
   = the
   <i>
    First Path Amplitude (point 1)
   </i>
   magnitude value (it has 2 fractional bits),
  </p>
  <p block-type="Text">
   <i>
    F
    <sup>
     2
    </sup>
   </i>
   = the
   <i>
    First Path Amplitude (point 2)
   </i>
   magnitude value (it has 2 fractional bits),
  </p>
  <p block-type="Text">
   <i>
    F
    <sup>
     3
    </sup>
   </i>
   = the
   <i>
    First Path Amplitude (point 3)
   </i>
   magnitude value (it has 2 fractional bits),
  </p>
  <p block-type="Text">
   <i>
    N
   </i>
   = the number of preamble symbols accumulated, or accumulated STS length
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     <i>
      D
     </i>
     = th
     <a href="#page-126-0">
      e DGC_DECISION,
     </a>
     treated as an unsigned integer in range 0 to 7
    </li>
    <li block-type="ListItem">
     <i>
      A
     </i>
     = is the constant:
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       113.8 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 16 MHz, or
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       121.7 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 64 MHz Ipatov preamble or
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       120.7 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 64 MHz STS.
      </li>
     </ul>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   The values for F1, F2, F3 and N can be read from the register file described i
   <a href="#page-177-1">
    n 8.2.13.
   </a>
   F1, F2 and F3 can be  read from
   <a href="#page-185-0">
    IP_DIAG_2,
   </a>
   <a href="#page-185-1">
    IP_DIAG_3,
   </a>
   <a href="#page-186-0">
    IP_DIAG_4,
   </a>
   o
   <a href="#page-189-0">
    r STS_DIAG_2,
   </a>
   <a href="#page-190-0">
    STS_DIAG_3,
   </a>
   <a href="#page-190-1">
    STS_DIAG_4,
   </a>
   or
   <a href="#page-194-0">
    STS1_DIAG_2,
   </a>
   <a href="#page-195-0">
    STS1_DIAG_3,
   </a>
   <a href="#page-195-1">
    STS1_DIAG_4,
   </a>
   and N can be read from:
   <a href="#page-187-0">
    IP_DIAG_12
   </a>
   <a href="#page-192-0">
    , STS_DIAG_12
   </a>
   or
   <a href="#page-197-0">
    STS1_DIAG_12,
   </a>
   depending on th
   <a href="#page-250-7">
    e CIR
   </a>
   used. D is read from
   <a href="#page-126-0">
    DGC_DECISION
   </a>
   described in DGC_DBG register, see section
   <a href="#page-126-1">
    8.2.4.2.
   </a>
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   These readings will not be available if the CIA is configured to compute minimal diagnostics, see
   <a href="#page-198-2">
    MINDIAG
   </a>
   bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   register.
  </p>
  <h2>
   <span id="page-47-0">
   </span>
   <b>
    Estimating the receive signal power
   </b>
  </h2>
  <p block-type="Text">
   It is possible to calculate an estimate of the receive power level (in dBm). Depending on the receiver  configuration two different formulae are used to do this.
  </p>
  <p block-type="Text">
   If the
   <a href="#page-125-2">
    RX_TUNE_EN
   </a>
   bit is set in
   <a href="#page-125-1">
    DGC_CFG
   </a>
   register, described in
   <a href="#page-125-3">
    8.2.4.1
   </a>
   (DGC):
  </p>
  <p block-type="Equation">
   <math display="block">
    RX \text{ Level} = 10 \times \log_{10} \left( \frac{C \times 2^{21}}{N^2} \right) + (6 \times D) - A \text{ dBm}
   </math>
  </p>
  <p block-type="TextInlineMath">
   If the
   <a href="#page-125-2">
    RX_TUNE_EN
   </a>
   bit is not set in
   <a href="#page-125-1">
    DGC_CFG
   </a>
   register, described i
   <a href="#page-125-3">
    n 8.2.4.1
   </a>
   (no DGC):
  </p>
  <p block-type="Equation">
   <math display="block">
    RX \text{ Level} = 10 \times \log_{10} \left( \frac{C \times 2^{21}}{N^2} \right) - A \text{ dBm}
   </math>
  </p>
  <p block-type="Text">
   Where:
  </p>
  <p block-type="TextInlineMath">
   <i>
    C
   </i>
   = the
   <i>
    Channel Impulse Response Power
   </i>
   value,
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     <i>
      N
     </i>
     = the
     <i>
      Preamble Accumulation Count
     </i>
     value,
    </li>
    <li block-type="ListItem">
     <i>
      D
     </i>
     = th
     <a href="#page-126-0">
      e DGC_DECISION,
     </a>
     treated as an unsigned integer in range 0 to 7
    </li>
    <li block-type="ListItem">
     <i>
      A
     </i>
     = is the constant:
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       113.8 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 16 MHz, or
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       121.7 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 64 MHz Ipatov preamble or
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       120.7 for a
       <a href="#page-251-0">
        PRF
       </a>
       of 64 MHz STS.
      </li>
     </ul>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   The values for C and N can be read from the register file described in
   <a href="#page-177-1">
    8.2.13.
   </a>
   C can be found in
   <a href="#page-184-0">
    : IP_DIAG_1,
   </a>
   <a href="#page-189-1">
    STS_DIAG_1,
   </a>
   or
   <a href="#page-194-1">
    STS1_DIAG_1,
   </a>
   and N can be read from:
   <a href="#page-187-0">
    IP_DIAG_12
   </a>
   <a href="#page-192-0">
    , STS_DIAG_12
   </a>
   or
   <a href="#page-197-0">
    STS1_DIAG_12,
   </a>
   depending on th
   <a href="#page-250-7">
    e CIR
   </a>
   used. D is read from
   <a href="#page-126-0">
    DGC_DECISION
   </a>
   described in DGC_DBG register, see section
   <a href="#page-126-1">
    8.2.4.2.
   </a>
  </p>
  <p block-type="Text">
   <a href="#page-48-0">
    Figure 21
   </a>
   shows the typical relationship between the actual receive power and the power estimated by this  technique.
  </p>
  <p block-type="Text">
   Note: Received signal power is sometimes referred by the term received signal strength indication
   <a href="#page-252-6">
    (RSSI)
   </a>
  </p>
  <p>
   <img src="_page_48_Figure_5.jpeg"/>
  </p>
  <p>
   <span id="page-48-0">
   </span>
   <b>
    Figure 21: Estimated RX level versus actual RX level
   </b>
  </p>
  <h2>
   <span id="page-49-0">
   </span>
   <b>
    5 Media Access Control (MAC) hardware features
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 has an incorporated MAC features on a transmitter and a receiver side to free the host  processor from unnecessary interrupts. This helps to increase the overall performance of the system built  with DW3000. The sections below describe the features for media access control (MAC) that have been  implemented in the DW3000.
  </p>
  <h2>
   <span id="page-49-1">
   </span>
   <i>
    5.1 MAC level processing in the DW3000
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 transmits data from the
   <a href="#page-226-0">
    TX_BUFFER
   </a>
   in a frame with data length as specified in the
   <a href="#page-84-1">
    TXFLEN
   </a>
   field  of the
   <a href="#page-83-2">
    TX_FCTRL,
   </a>
   inserting the 2-octe
   <a href="#page-250-5">
    t FCS
   </a>
   as the last two octets of the data payload. The DW3000 will not  do any other MAC level transmit processing. It is up to the host system software to prepare the correctly  formatted frame conforming to the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   MAC if this is required.
  </p>
  <p block-type="Text">
   On the receive side, the DW3000 will validate the
   <a href="#page-250-5">
    FCS
   </a>
   of the received frame, and can parse frames  complying with IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   to validate and accept only those as configured by the frame  filtering configuration bits in the
   <a href="#page-80-0">
    FF_CFG
   </a>
   register (as described in sectio
   <a href="#page-50-1">
    n 5.4
   </a>
   below). The DW3000 can also  optionally respond to the acknowledgement request bit set in the frame control field, of correctly addressed  Data Frames or MAC Command frames, by sending an IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   acknowledgement frame (as described in section
   <a href="#page-52-0">
    5.5
   </a>
   below). Note: This only applies to the immediate acknowledgment (Imm-Ack) used to acknowledge Data frames or MAC command frames with the Frame Version field set to 0b00 or  0b01.
  </p>
  <p block-type="Text">
   The DW3000 will deliver the received data frame in th
   <a href="#page-226-1">
    e RX_BUFFER_0
   </a>
   with its data length reported by the
   <a href="#page-99-1">
    RXFLEN
   </a>
   field of the
   <a href="#page-99-0">
    RX_FINFO,
   </a>
   and other than the RX activities mentioned in the paragraph above the  DW3000 will not do any additional MAC level receive processing. It is up to the host system software to  correctly parse the received frame according to the IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   MAC definition and take  whatever additional action is prescribed by the standard, if this is required.
  </p>
  <h2>
   <span id="page-49-2">
   </span>
   <i>
    5.2 General MAC message format
   </i>
  </h2>
  <p block-type="Text">
   The MAC message occupies the
   <i>
    PHY Payload
   </i>
   portion of the UWB packet as shown in
   <a href="#page-32-2">
    Figure 13.
   </a>
   This may be  up to 127 octets in length according to the standard, and up to 1023 octets when employing the DW3000's  long frame mode, see section
   <b>
    <a href="#page-35-0">
     3.4
    </a>
   </b>
   <i>
    –
   </i>
   <b>
    <a href="#page-35-0">
     Extended length data frames
    </a>
   </b>
   . The general structure of a MAC message  consists of a header that identifies the frame, followed by a variable length (possibly zero) payload typically  from the upper layers but sometimes (as in the case of MAC command frames) generated within the MAC  itself, and finally ended by the MAC footer which is th
   <a href="#page-250-5">
    e FCS
   </a>
   (Frame Checking Sequence
   <a href="#page-250-6">
    ) CRC
   </a>
   used to detect  transmission errors.
   <a href="#page-50-2">
    Figure 22
   </a>
   shows the components of the MAC message frame in more detail, indicating  the number of octets in each component.
  </p>
  <p block-type="Text">
   The MAC header is parsed by the DW3000 as part of the frame filtering function to determine if the destination address matches the IC's address information programmed in
   <i>
    <a href="#page-74-0">
     Sub-register 0x00:04
    </a>
    – Extended
   </i>
   <a href="#page-74-0">
    Unique Identifier
   </a>
   and
   <i>
    Sub-register 0x00:0C – PAN Identifier
    <a href="#page-75-1">
     and Short Address
    </a>
   </i>
   (or if the frame is a broadcast  message). This parsing of receive frame is based on the contents of the Frame Control field (at the start of  the MAC header).
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="8">
      PHY Payload
     </th>
    </tr>
    <tr>
     <td colspan="5">
      MAC Header (MHR)
     </td>
     <td>
      MAC Payload
     </td>
     <td>
      MAC Footer
      <br/>
      (MFR)
     </td>
    </tr>
    <tr>
     <td>
      Frame
      <br/>
      Control
     </td>
     <td>
      Sequence
      <br/>
      Number
     </td>
     <td>
      Destination
      <br/>
      PAN Identifier
     </td>
     <td>
      Destination
      <br/>
      Address
     </td>
     <td>
      Source PAN
      <br/>
      Identifier
     </td>
     <td>
      Source
      <br/>
      Address
     </td>
     <td>
      Aux Security
      <br/>
      Header
     </td>
     <td>
      Frame Payload
     </td>
     <td>
      FCS
     </td>
    </tr>
    <tr>
     <td>
      2
      <br/>
      octets
     </td>
     <td>
      1
      <br/>
      octet
     </td>
     <td>
      0 or 2
      <br/>
      octets
     </td>
     <td>
      0, 2 or 8
      <br/>
      octets
     </td>
     <td>
      0 or 2
      <br/>
      octets
     </td>
     <td>
      0, 2 or 8
      <br/>
      octets
     </td>
     <td>
      0, 5, 6 10 or 14
      <br/>
      octets
     </td>
     <td>
      Variable number of
      <br/>
      octets
     </td>
     <td>
      2
      <br/>
      octets
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Figure 22: General MAC message format
   </b>
  </h4>
  <h2>
   <span id="page-50-2">
   </span>
   <span id="page-50-0">
   </span>
   <i>
    5.3 Cyclic redundancy check
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 includes
   <a href="#page-250-6">
    a CRC
   </a>
   generation function capable of automatically calculating and appending the 16 bi
   <a href="#page-250-6">
    t CRC
   </a>
   frame check sequence
   <a href="#page-250-5">
    (FCS)
   </a>
   at the end of each transmitted frame.
  </p>
  <p block-type="Text">
   The DW3000 also includes a
   <a href="#page-250-6">
    CRC
   </a>
   checking function capable of automatically calculating the 16-bi
   <a href="#page-250-6">
    t CRC
   </a>
   frame  check sequence
   <a href="#page-250-5">
    (FCS)
   </a>
   during frame reception and comparing this calculate
   <a href="#page-250-6">
    d CRC
   </a>
   with the final two octets of  the received frame to check that the calculate
   <a href="#page-250-6">
    d CRC
   </a>
   matches wit
   <a href="#page-250-6">
    h CRC
   </a>
   transmitted by the frame's originator.  A mismatch between received and calculated
   <a href="#page-250-6">
    CRC
   </a>
   typically indicates that the received frame contains errors  (generally handled by discarding the received frame). At the end of the frame reception as reported via the
   <a href="#page-94-0">
    RXFR
   </a>
   event status bit, the result of th
   <a href="#page-250-6">
    e CRC
   </a>
   comparison is reported by eithe
   <a href="#page-94-1">
    r RXFCG
   </a>
   or the
   <a href="#page-95-2">
    RXFCE
   </a>
   status bit  being set, i.e. depending on whether or not th
   <a href="#page-250-6">
    e CRCs
   </a>
   matched. These three status bits are
   <a href="#page-91-0">
    SYS_STATUS.
   </a>
  </p>
  <p block-type="Text">
   Where
   <a href="#page-250-6">
    a CRC
   </a>
   is not required it is possible to disable the
   <a href="#page-250-6">
    CRC
   </a>
   transmission by employing the setting
   <a href="#page-77-2">
    DIS_FCS_TX
   </a>
   (disable FCS transmission) bit in
   <a href="#page-76-0">
    SYS_CFG.
   </a>
   This might be done when using a different MAC layer  protocol.
  </p>
  <h2>
   <span id="page-50-1">
   </span>
   <i>
    5.4 Frame filtering
   </i>
  </h2>
  <p block-type="Text">
   <span id="page-50-3">
   </span>
   Frame filtering is a feature of the DW3000 IC that can parse the received data of frame types defined in the  IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1],
   </a>
   (and also listed i
   <a href="#page-50-3">
    n Table 13
   </a>
   <a href="#page-50-3">
    below)
   </a>
   identifying the frame type and its destination  address fields, match these against the IC's own address information, and only accept frames that pass the  filtering rules.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Frame Type Field
      <br/>
      (Frame Control bits 2 to 0)
     </th>
     <th colspan="2">
      Frame
     </th>
    </tr>
    <tr>
     <td>
      0, 0, 0
     </td>
     <td>
      Beacon
     </td>
    </tr>
    <tr>
     <td>
      0, 0, 1
     </td>
     <td>
      Data
     </td>
    </tr>
    <tr>
     <td>
      0, 1, 0
     </td>
     <td>
      Acknowledgement
     </td>
    </tr>
    <tr>
     <td>
      0, 1, 1
     </td>
     <td>
      MAC command
     </td>
    </tr>
    <tr>
     <td>
      1, 0, 0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      1, 0, 1
     </td>
     <td>
      Multipurpose
     </td>
    </tr>
    <tr>
     <td>
      1, 1, 0
     </td>
     <td>
      Fragment or Frak
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 13: Frame type field values
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      1, 1, 1
     </th>
     <th>
      Extended
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The frame filtering functionality allows the IC to be placed into receive mode and only interrupt the host  processor when a frame arrives that passes the frame filtering criteria. When frame filtering is disabled all  frames with good CRC are accepted, typically to interrupt the host with event status indicating a frame has  been received with good CRC (i.e. the
   <a href="#page-94-0">
    RXFR
   </a>
   an
   <a href="#page-94-1">
    d RXFCG
   </a>
   event status bits are set i
   <a href="#page-91-0">
    n SYS_STATUS)
   </a>
   . When  frame filtering is enabled the frame filtering rules have to be passed before these event status (interrupt)  bits are set. See section
   <a href="#page-37-1">
    4.1
   </a>
   <a href="#page-37-1">
    PHY reception
   </a>
   for general details of reception.
  </p>
  <p block-type="Text">
   Frame filtering is enabled by the
   <a href="#page-76-2">
    FFEN
   </a>
   configuration bit in
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register. The frame filter is further configured by the various configuration bits in th
   <a href="#page-80-0">
    e FF_CFG
   </a>
   register. This register contains ten additional  configuration bits (FFAB, FFAD, FFAA, FFAM, FFAR, FFAMP, FFAF, FFAE, FFBC and FFIB) for fine filtering  control of the frame types.
  </p>
  <h2>
   <b>
    Frame filtering rules
   </b>
  </h2>
  <p block-type="Text">
   If frame filtering is enabled frames will be accepted or rejected based on the following rules:
  </p>
  <p block-type="ListGroup" class="has-continuation">
   <ul>
    <li block-type="ListItem">
     The particular frame type must be allowed for reception:
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAB configuration bit must be set to allow a Beacon frame to be received.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAD configuration bit must be set to allow a Data frame to be received.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAA configuration bit must be set to allow an Acknowledgment frame to be received.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAM configuration bit must be set to allow a MAC command frame to be received.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAR configuration bit must be set to allow Reserved frames to be received, only a FCS  check is performed on these.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAMP configuration bit must be set to allow Multipurpose frames to be received.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAF configuration bit must be set to allow Fragmented/Frak frames to be received, only  a FCS check is performed on these.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o The FFAE configuration bit must be set to allow Extended frames to be received, only a FCS  check is performed on these
      </li>
     </ul>
    </li>
    <li block-type="ListItem">
     The frame version field must be 0x00, 0x01 or 0x02
    </li>
    <li block-type="ListItem">
     The Destination PAN ID if present must:
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o Be the broadcast PAN ID (0xFFFF)
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o Or match th
       <a href="#page-76-3">
        e PAN_ID
       </a>
       programmed in
       <a href="#page-75-0">
        PANADR
       </a>
       register.
      </li>
     </ul>
    </li>
    <li block-type="ListItem">
     The Destination Address if present must:
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o Be the (short 16-bit) broadcast address (0xFFFF)
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o Or be a short (16-bit) address matching th
       <a href="#page-76-4">
        e SHORTADDR
       </a>
       programmed in
       <a href="#page-75-0">
        PANADR
       </a>
       register.
      </li>
     </ul>
     <ul>
      <li block-type="ListItem" class="list-indent-1">
       o Or be a long (64-bit) address matching the
       <a href="#page-74-1">
        EUI_64.
       </a>
       Note that long (64-bit) broadcast  addresses are not supported.
      </li>
     </ul>
    </li>
    <li block-type="ListItem">
     If the frame is a Beacon frame then the Source PAN ID must match th
     <a href="#page-76-3">
      e PAN_ID
     </a>
     programmed in
     <a href="#page-75-0">
      PANADR
     </a>
     register, (or be 0xFFFF)
    </li>
   </ul>
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     If only the source address is present, in a data or MAC command frame, then the frame will only be  accepted if the IC is configured to be a coordinator, (via the FFBC configuration bit in
     <a href="#page-80-0">
      FF_CFG)
     </a>
     and  the Source PAN ID matches the
     <a href="#page-76-3">
      PAN_ID
     </a>
     programmed in
     <a href="#page-75-0">
      PANADR
     </a>
     register.
    </li>
    <li block-type="ListItem">
     If frame has no destination PAN ID and destination address, if will only be accepted (treated as  though it is addressed to the broadcast PAN ID and broadcast short (16-bit) address) if the device is  configured to allow implicit broadcast (via the FFIB configuration bit in
     <a href="#page-80-0">
      FF_CFG)
     </a>
     .
    </li>
    <li block-type="ListItem">
     The
     <a href="#page-250-5">
      FCS
     </a>
     <a href="#page-250-6">
      (CRC)
     </a>
     must be correct for the frame to be accepted.
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Frame filtering notes
   </b>
  </h2>
  <p block-type="Text">
   The frame filtering does not take any notice of the Security Enabled field, in the frame control, so it is up to  the host software to decode any security information and accept/reject the frame is it sees fit.
  </p>
  <p block-type="Text">
   The decisions on frame rejection/acceptance with respect to illegal frame control octets is made after the  first two octets of data are decoded, and at the end of reception of the address fields (as specified by the  frame control octets) for the relevant addressing rules. When a frame is rejected, the reception is aborted  immediately and the rejection is reported by the
   <a href="#page-97-2">
    AFFREJ
   </a>
   event bit i
   <a href="#page-91-0">
    n SYS_STATUS
   </a>
   register.
  </p>
  <p block-type="Text">
   While frame filtering can save some work on the part of the host system, prolonged listening with the  DW3000 receiver on is a relatively power-hungry activity best employed only on equipment with a mains  powered source.
  </p>
  <p block-type="Text">
   All the configuration bits related to frame filtering are found in
   <a href="#page-80-0">
    FF_CFG
   </a>
   register.
  </p>
  <p block-type="Text">
   Once the FFAA configuration bit is set, all acknowledgement frames are accepted, and the IC does not make  any distinction between the 5-octet Imm-Ack (with frame version of 0 or 1) or the more complex Enh-Ack  (with frame version of 2). It is up to the host software expecting an Enh-Ack to parse the received frame to  identify the Enh-Ack and validate its addressing and other fields accordingly.
  </p>
  <p block-type="Text">
   When enhanced beacon frames are used, they will be accepted even if the beacon's source PANID does not  match the one programmed in the device.
  </p>
  <p block-type="Text">
   NOTE: For Multipurpose frames the IEEE standard
   <a href="#page-253-3">
    [1]
   </a>
   says that Frame version field values other than 0x00  are reserved. The DW3000 does not correctly check the Frame version field of received Multipurpose  frames. The host software MAC should validate the version of any Multipurpose frames received and handle  the frame accordingly.
  </p>
  <h2>
   <span id="page-52-0">
   </span>
   <i>
    5.5 Automatic acknowledgement
   </i>
  </h2>
  <p block-type="Text">
   The automatic acknowledgement functionality of the DW3000 allows the IC to automatically send an  acknowledgement frame when a frame is received and validated that includes an acknowledgement  request. The automatic acknowledgement functionality only operates when frame filtering is enabled and  automatic acknowledgement is enabled.
  </p>
  <p block-type="Text">
   In order for automatic acknowledgement to operate:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Frame filtering must be enabled and the received data or MAC command frame must be  correctly addressed and pass through the receive frame filtering, (see section
     <i>
      <a href="#page-50-1">
       5.4
      </a>
      –
      <a href="#page-50-1">
       Frame
      </a>
      <a href="#page-50-1">
       filtering
      </a>
     </i>
     for details of frame filtering configuration).
    </li>
    <li block-type="ListItem">
     The ACK request bit in the frame control field of the received frame must be set.
    </li>
    <li block-type="ListItem">
     Auto-acknowledgement must be enabled by the
     <a href="#page-79-1">
      AUTO_ACK
     </a>
     configuration bit i
     <a href="#page-76-0">
      n SYS_CFG
     </a>
     register.
    </li>
    <li block-type="ListItem">
     The received frame is an Data frames or a MAC command frame with the Frame Version field set  to 0b00 or 0b01; the destination address and PAN ID matches the programmed PANID and  programmed short address or exrended addess; and, AR (Acknowledgement Request) bit is set.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   When these conditions are met the DW3000 will at the end of the reception automatically transition into  transmit mode to send the 5-octet immediate acknowledgment (Imm-Ack) frame as defined by IEEE802.15.4 standard
   <a href="#page-253-3">
    [1].
   </a>
  </p>
  <p block-type="Text">
   The enhanced acknowledgment (Enh-Ack) when called for by Data or a MAC command frames with the  Frame Version field set to 0b02, is not automatically generated. The host software is responsible for  decoding/desecuring these frame version 2 frames, interpreting any Information Elements (IEs), and  generating the Enh-Ack enhanced with any IEs necessary and securing it before transmission. The
   <a href="#page-93-2">
    AAT
   </a>
   bit  will not be set.
  </p>
  <h2>
   <b>
    Automatic ACK turnaround time
   </b>
  </h2>
  <p block-type="Text">
   The IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   specifies a 12 symbol +/- 0.5 symbols turnaround time for ACK transmission.  In the DW3000 this period is configurable via the
   <a href="#page-105-1">
    ACK_TIM
   </a>
   parameter in
   <a href="#page-104-0">
    ACK_RESP_T.
   </a>
   It should also be  noted that running th
   <a href="#page-250-3">
    e CIA
   </a>
   analysis will delay ACK response. To speed up ACK transmission
   <a href="#page-79-4">
    FAST_AAT
   </a>
   bit can  be set or where the RX timestamp is not required, the
   <a href="#page-250-3">
    CIA
   </a>
   analysis may be disabled by clearing both
   <a href="#page-78-1">
    CIA_IPATOV
   </a>
   and
   <a href="#page-78-2">
    CIA_STS
   </a>
   configuration bits in
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
  </p>
  <h2>
   <span id="page-53-0">
   </span>
   <b>
    Frame pending bit
   </b>
  </h2>
  <p block-type="Text">
   The standard IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   MAC includes a frame pending bit in the frame control at the start  of each frame. This bit can be set to indicate more data is coming or in the case of acknowledging a Data  Request MAC command frame to indicate that the responding node has data to send to the node soliciting  the ACK. Please refer to the standar
   <a href="#page-253-3">
    d [1]
   </a>
   for details of this. The DW3000 will automatically determine  whether to set the frame pending bit in the automatically-generated ACK frames based on:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     the received frame being a Data Request MAC command frame.
    </li>
    <li block-type="ListItem">
     the address of the device sending the MAC command (Data Request) frame matches one of the four  16-bit addresses programmed into
     <a href="#page-110-1">
      LE_PEND_01
     </a>
     or
     <a href="#page-111-0">
      LE_PEND_23
     </a>
     registers and the data pending bits  are set in
     <a href="#page-80-0">
      FF_CFG
     </a>
     register
     <a href="#page-82-0">
      : LE0_PEND
     </a>
     –
     <a href="#page-82-1">
      LE3_PEND.
     </a>
    </li>
    <li block-type="ListItem">
     the address of the device sending the MAC command is 16-bits and SSADRAPE bit is set
    </li>
    <li block-type="ListItem">
     the address of the device sending the MAC command is 64-bits and LSADRAPE bit is set
    </li>
    <li block-type="ListItem">
     security bit is not set in Frame Control and frame version is 0 or 1
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Host notification
   </b>
  </h2>
  <p block-type="Text">
   The
   <a href="#page-93-2">
    AAT
   </a>
   status bit
   <a href="#page-91-0">
    (SYS_STATUS)
   </a>
   indicates that an acknowledgement has been requested. When the
   <a href="#page-79-4">
    FAST_AAT
   </a>
   bit is disabled the
   <a href="#page-93-2">
    AAT
   </a>
   bit is set at the same time as the
   <a href="#page-94-1">
    RXFCG
   </a>
   status event (indicating a good CRC  at the end of frame reception). However if
   <a href="#page-79-4">
    FAST_AAT
   </a>
   bit is enabled th
   <a href="#page-93-2">
    e AAT
   </a>
   bit is set at the same time as the
   <a href="#page-94-0">
    RXFR
   </a>
   status event.
  </p>
  <p block-type="Text">
   If automatic acknowledgement is enabled then the
   <a href="#page-93-2">
    AAT
   </a>
   bit can be used during receive interrupt processing  to detect that acknowledgement is in progress and thus avoid taking any action until the transmission of the  acknowledgement is completed, and signalled by the
   <a href="#page-93-1">
    TXFRS
   </a>
   (Transmit Frame Sent) event.
  </p>
  <p block-type="Text">
   <b>
    Note: If automatic acknowledgement is not enabled, then the
   </b>
   <a href="#page-93-2">
    AAT
   </a>
   <b>
    status bit should be ignored.
   </b>
  </p>
  <h2>
   <span id="page-54-0">
   </span>
   <i>
    5.6 Transmit and automatically wait for response
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 has the ability to automatically turn on its receiver after a transmission has completed in order  to receive a response. This may also include an optional delay configuration between the end of the  transmission and the enabling of the receiver. This is controlled by any of the TX and wait-4-response  commands
   <a href="#page-237-10">
    (TXW4R,
   </a>
   <a href="#page-237-11">
    TXW4RCCA,
   </a>
   <a href="#page-237-12">
    TXW4RDLY,
   </a>
   <a href="#page-237-13">
    TXW4RDLYREF,
   </a>
   <a href="#page-237-14">
    TXW4RDLYTS,
   </a>
   and
   <a href="#page-237-15">
    TXW4RDLYRS)
   </a>
   and the
   <a href="#page-104-1">
    W4R_TIM
   </a>
   parameter in the Sub-register 0x01:08 –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   If the response that is received is a correctly addressed data (or MAC command) frame requesting an  acknowledgement, and assuming frame filtering and automatic acknowledgement are enabled, then the  DW3000 will transmit the ACK before it transitions into
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state.
  </p>
  <h2>
   <span id="page-54-1">
   </span>
   <i>
    5.7 Pseudo Clear Channel Assessment (CCA) mechanism
   </i>
  </h2>
  <p block-type="Text">
   For Wireless Sensor Networks application, many of the MAC protocols rely on Clear Channel Assessment  (CCA) to avoid collisions with other packets in the air. This consists in sampling the air for a short period to  see if the medium is idle before transmitting. For most radios this involves looking for the RF carrier, but for  UWB where this is not possible, one approach is to look for preamble to avoid conflicting transmissions,  since any sending of preamble during data will typically not disturb those receivers who are demodulating in  data mode.
  </p>
  <p block-type="Text">
   DW3000 has a simple Clear Channel Assessment (CCA) mechanism feature that can be employed before a packet transmission. It works by sample the air for a small amount of time (as configured b
   <a href="#page-146-0">
    y PRE_TOC)
   </a>
   to see  if preamble can be detected, then if preamble is not seen the transmission is initiated, otherwise a failed  transmission is reported with
   <a href="#page-98-0">
    CCA_FAIL
   </a>
   event and the host can then defer the transmission typically for a  random back-off period after which transmission is again attempted with CCA.
  </p>
  <p block-type="Text">
   DW3000 will return to
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   for the back-off period and do not receive the packet whose preamble was  detected, since the MAC (and upper layer) wants to transmit and not receive at this time.
  </p>
  <p block-type="Text">
   To transmit a packet with CCA check
   <a href="#page-237-16">
    CMD_CCA_TX
   </a>
   command is used. If the device has detected a clear  channel, the packet will be sent and
   <a href="#page-93-1">
    TXFRS
   </a>
   event reported. Although the detection of clear channel is as a  result of preamble timeout counter expiring, the
   <a href="#page-96-1">
    RXPTO
   </a>
   event will not be raised in this case.
  </p>
  <p block-type="Text">
   Although the CCA can be used to avoid collisions with other packets on the air, the mechanism is only  looking for preamble thus will not detect PHR or data phases of the packet.
  </p>
  <p block-type="Text">
   This CCA mechanism may have little benefit, but costs energy drain by turning on the receiver for a period  before every transmission. The aloha CCA mechanism of simply sending may be more efficient, since even in  collision cases message delivery can succeed. It is recommended that careful analysis and experimentation  be undertaken for the target use cases to decide on this point.
  </p>
  <h2>
   <span id="page-55-0">
   </span>
   <i>
    5.8 Data confidentiality and authenticity
   </i>
  </h2>
  <p block-type="Text">
   IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   supports the following security services: data confidentiality, data authenticity and  replay protection. DW3000 has an advanced encryption standard
   <a href="#page-250-10">
    (AES)
   </a>
   engine that can perform  cryptographic transformation on received frames or prior to transmission of frames. For this purpose the AES engine can use a TX Buffer, Rx Buffer or a separate scratch buffer as shown in
   <a href="#page-56-0">
    Figure 23.
   </a>
  </p>
  <p block-type="Text">
   The AES engine performs encryption/decryption and authentication of data and can either perform the  operation within the same buffer or transfer the data (during the process) from one buffer to another (e.g.  from RX to TX, or from scratch buffer to TX o
   <a href="#page-124-1">
    r STS_KEY
   </a>
   register).
  </p>
  <p block-type="Text">
   The AES engine can also decrypt key data (i.e. an encrypte
   <a href="#page-124-1">
    d STS_KEY)
   </a>
   into the
   <a href="#page-124-1">
    STS_KEY
   </a>
   register. This means  that the host can write encrypte
   <a href="#page-124-1">
    d STS_KEY
   </a>
   over SPI into scratch RAM memory and then run the DW3000 AES  engine to decryp this into the
   <a href="#page-124-1">
    STS_KEY
   </a>
   register prior to use of the secure ranging modes (se
   <a href="#page-61-0">
    e6
   </a>
   <a href="#page-61-0">
    Secure
   </a>
   <a href="#page-61-0">
    ranging / timestamping)
   </a>
   .
  </p>
  <p block-type="Text">
   The AES-DMA engine is fully configurable by the host from a source/destination/sub-address/burst-size  point of view. The completion of the AES operation
   <a href="#page-98-1">
    (AES_DONE
   </a>
   event) as well as error conditions such as an AES decrypt tag error or DMA error
   <a href="#page-98-2">
    (AES_ERR
   </a>
   event) are signalled in the system status register
   <a href="#page-91-0">
    (SYS_STATUS)
   </a>
   . There is also an AES status register
   <a href="#page-120-0">
    (AES_STS)
   </a>
   which gives more details about the performed  AES operation.
  </p>
  <p>
   <img src="_page_56_Figure_2.jpeg"/>
  </p>
  <p>
   <b>
    Figure 23: AES engine source/destination buffers
   </b>
  </p>
  <h2>
   <span id="page-56-0">
   </span>
   <b>
    AES Configuration
   </b>
  </h2>
  <p block-type="Text">
   Before the encryption or decryption of the data, the AES engine needs to be configured with:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     the MIC size
     <a href="#page-116-1">
      (TAG_SIZE)
     </a>
     , which can be 0, 4, 6, 8, 10, 12, 14 or 16 bytes
    </li>
    <li block-type="ListItem">
     the KEY size (128, 192 or 256-bits) and location (KEY can be stored in DW3000 registers, or OTP, or
     <a href="#page-229-1">
      AES KEY RAM)
     </a>
     . If a KEY from DW3000 registers or
     <a href="#page-229-1">
      AES KEY RAM
     </a>
     is used then it needs to be written  to
     <a href="#page-121-0">
      AES_KEY
     </a>
     register or
     <a href="#page-229-1">
      AES KEY RAM
     </a>
     location.
    </li>
    <li block-type="ListItem">
     the type of operation (encryption or decryption)
    </li>
    <li block-type="ListItem">
     the type of AES core to use: GCM or CCM*
    </li>
   </ul>
  </p>
  <h2>
   <b>
    General TX Encryption flow
   </b>
  </h2>
  <p block-type="Text">
   The following steps are taken to transmit an encrypted data (assuming above configuration steps are already  done):
  </p>
  <p block-type="ListGroup" class="has-continuation">
   <ul>
    <li block-type="ListItem">
     Write the IV value in the AES_IV registers
     <a href="#page-116-0">
      : AES_IV0,
     </a>
     <a href="#page-117-0">
      AES_IV1,
     </a>
     <a href="#page-117-1">
      AES_IV2,
     </a>
     an
     <a href="#page-117-2">
      d AES_IV3.
     </a>
     GCM uses 96-bit  IV value and CCM* 128-bit.
    </li>
    <li block-type="ListItem">
     Specify source buffer
     <a href="#page-119-0">
      (SRC_PORT)
     </a>
     from which the plaintext data is taken and destination buffer
     <a href="#page-119-1">
      (DST_PORT)
     </a>
     into which the encrypted data is placed.
    </li>
    <li block-type="ListItem">
     Load the selected AES key. When using CCM* mode, AES key must be loaded each time prior to  starting of AES engine. This key update is needed even if the key remains the same.
    </li>
    <li block-type="ListItem">
     Start the AES process (DMA + encryption) by setting the
     <a href="#page-120-1">
      AES_START
     </a>
     bit. Wait for
     <a href="#page-98-1">
      AES_DONE
     </a>
     or
     <a href="#page-98-2">
      AES_ERR
     </a>
     status events.
    </li>
   </ul>
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Repeat the above steps to encrypt more data, e.g. when using the scratch buffer the max amount of  data that can be processed at a time is 127 bytes.
    </li>
    <li block-type="ListItem">
     Once complete, issue start TX command to transmit the encrypted data frame.
    </li>
   </ul>
  </p>
  <h2>
   <b>
    General RX Decryption flow
   </b>
  </h2>
  <p block-type="Text">
   The following steps are taken to decrypt received encrypted data (assuming above configuration steps are  already done):
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Write the IV value in the AES_IV registers
     <a href="#page-116-0">
      : AES_IV0,
     </a>
     <a href="#page-117-0">
      AES_IV1,
     </a>
     <a href="#page-117-1">
      AES_IV2,
     </a>
     an
     <a href="#page-117-2">
      d AES_IV3.
     </a>
     GCM uses 96-bit  IV value and CCM* 128-bit.
    </li>
    <li block-type="ListItem">
     Specify source buffer
     <a href="#page-119-0">
      (SRC_PORT)
     </a>
     from which the encrypted data is taken and destination buffer
     <a href="#page-119-1">
      (DST_PORT)
     </a>
     into which the plain text data is placed. For example encrypted RX data is available in RX  buffer, which can then be decrypted into the same RX buffer.
    </li>
    <li block-type="ListItem">
     Load the selected AES key. When using CCM* mode, AES key must be loaded each time prior to  starting of AES engine. This key update is needed even if the key remains the same.
    </li>
    <li block-type="ListItem">
     Start the AES process (DMA + decryption) by setting the
     <a href="#page-120-1">
      AES_START
     </a>
     bit. Wait for
     <a href="#page-98-1">
      AES_DONE
     </a>
     or
     <a href="#page-98-2">
      AES_ERR
     </a>
     status events.
    </li>
    <li block-type="ListItem">
     Read resulting plaintext RX data from the buffer
    </li>
    <li block-type="ListItem">
     Repeat the above steps to decrypt more data, e.g. when using the scratch buffer then the max amount  of data that can be processed at a time is 127 bytes.
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Sample use cases
   </b>
  </h2>
  <h3>
   <b>
    5.8.4.1 Encrypt TX data prior to transmission
   </b>
  </h3>
  <p block-type="Text">
   These are the steps to encrypt TX data prior to transmission:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Configure the AES KEY, e.g. the host writes the desired AES KEY into the
     <a href="#page-121-0">
      AES_KEY
     </a>
     register.
    </li>
    <li block-type="ListItem">
     Configure the AES core type (CCM* or GCM), source and size of the KEY,
    </li>
    <li block-type="ListItem">
     Select encryption mode and MIC size
    </li>
    <li block-type="ListItem">
     Construct the nonce, and set up header and payload buffer pointers (source
     <a href="#page-119-0">
      (SRC_PORT)
     </a>
     and  destination
     <a href="#page-119-1">
      (DST_PORT)
     </a>
     ). For example host can write plaintext data into the TX buffer and then  select the destination as the TX buffer and the data will be encrypted into the same buffer.  Otherwise host could write the plaintext data into the scratch memory and then instruct the AES  engine to encrypt it into the TX buffer.
    </li>
    <li block-type="ListItem">
     Run the AES engine and check status
    </li>
    <li block-type="ListItem">
     Transmit the encrypted packet
    </li>
   </ul>
  </p>
  <h3>
   <b>
    5.8.4.2 Decrypt RX data after packet reception
   </b>
  </h3>
  <p block-type="Text">
   These are the steps to decrypt RX data following a packet reception:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Following good packet reception, the host needs to read the received data and check the frame  format, security and then configure the AES engine to decrypt the payload.
    </li>
    <li block-type="ListItem">
     Configure the AES KEY, e.g. the host writes the desired AES KEY into the
     <a href="#page-121-0">
      AES_KEY
     </a>
     register.
    </li>
    <li block-type="ListItem">
     Configure the AES core type (CCM* or GCM), source and size of the KEY,
    </li>
    <li block-type="ListItem">
     Select encryption mode and MIC size
    </li>
    <li block-type="ListItem">
     Construct the nonce, and set up header and payload buffer pointers (source
     <a href="#page-119-0">
      (SRC_PORT)
     </a>
     and  destination
     <a href="#page-119-1">
      (DST_PORT)
     </a>
     ). For example host can set the destination to be the same as the source, i.e.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   the same RX buffer. This allows the encrypted data in the buffer to be overwritten by the decrypted  (plaintext) data.
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Run the AES engine and check status
    </li>
    <li block-type="ListItem">
     Read out the decrypted data
    </li>
   </ul>
  </p>
  <h2>
   <b>
    5.8.4.3 Decrypt STS KEY into STS KEY registers
   </b>
  </h2>
  <p block-type="Text">
   These are the steps to decrypt encrypted STS KEY (transferred over SPI into the scratch buffer) into the
   <a href="#page-124-1">
    STS_KEY
   </a>
   register e.g. prior to transmission or reception of packets with STS:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     The host and DW3000 should have same AES KEYs programmed (they should be paired). The  DW3000 KEY is stored in OTP.
    </li>
    <li block-type="ListItem">
     The host would then encrypt the STS KEY and transfer it over SPI into the scratch buffer, there  should be no header but the MIC should be present
    </li>
    <li block-type="ListItem">
     Configure the AES core type (CCM* or GCM), source and size of the KEY, and the MIC size
    </li>
    <li block-type="ListItem">
     Construct the nonce, and set up header and payload buffer pointers (source and destination). The  source
     <a href="#page-119-0">
      (SRC_PORT)
     </a>
     is the scratch buffer and destination
     <a href="#page-119-1">
      (DST_PORT)
     </a>
     <a href="#page-124-1">
      STS_KEY
     </a>
     register.
    </li>
    <li block-type="ListItem">
     Run the AES engine and check AES status events
     <a href="#page-98-1">
      (AES_DONE,
     </a>
     <a href="#page-98-2">
      AES_ERR)
     </a>
    </li>
   </ul>
  </p>
  <h2>
   <b>
    Note on STS KEY decryption
   </b>
  </h2>
  <p block-type="Text">
   Consider a following example. A Secure Element host (SE) which derives STS KEY (prior to encryption) as:  sts_key[16] = {
   <b>
    0xaa
   </b>
   , 0xbb, 0xcc, 0xdd, 0x11, 0x22, 0x33, 0x44 …. 0x55, 0x66, 0x77, 0x88}, i.e. the 128-bit  STS_KEY = 0x
   <b>
    aa
   </b>
   bbcc.....667788.
  </p>
  <p block-type="Text">
   The SE encrypts this STS_KEY (with STS KEY encryption KEY (STS_KEK)) and writes it into the device (scratch  buffer), then the device needs to decrypt it with a matching STS_KEK from e.g. OTP and write the decrypted  STS KEY into STS KEY registers
   <a href="#page-124-1">
    (STS_KEY)
   </a>
   .
  </p>
  <p block-type="Text">
   The DMA engine inside AES block can be configured as either big endian (CP_END_SEL = 0) or little endian  (CP_END_SEL = 1), se
   <a href="#page-118-0">
    e DMA_CFG
   </a>
   register. When big endian is used, the MSB of the STS KEY is in the lowest  address otherwise the MSB is the highest address.
  </p>
  <p block-type="Text">
   <span id="page-58-0">
   </span>
   Considering, as an example, if sts_enc = {
   <b>
    0xaa
   </b>
   , 0xbb, 0xcc, 0xdd, 0x11, 0x22, 0x33, 0x44 …. 0x55, 0x66, 0x77,  0x88}, 0xaa is sent first to AES engine. Thus the data is with big endian format and is decrypted into
   <a href="#page-124-1">
    STS_KEY
   </a>
   register as shown i
   <a href="#page-58-0">
    n Table 14
   </a>
   (
   <b>
    0xaa
   </b>
   is in the lowest address location):
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Address
     </th>
     <th>
      Value
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      02:0C
     </td>
     <td>
      0xaa
     </td>
     <td>
      02:14
     </td>
     <td>
      0x00
     </td>
    </tr>
    <tr>
     <td>
      02:0D
     </td>
     <td>
      0xbb
     </td>
     <td>
      02:15
     </td>
     <td>
      0xee
     </td>
    </tr>
    <tr>
     <td>
      02:0E
     </td>
     <td>
      0xcc
     </td>
     <td>
      02:16
     </td>
     <td>
      0xff
     </td>
    </tr>
    <tr>
     <td colspan="2">
      02:0F
      <br/>
      0xdd
     </td>
     <td>
      02:17
     </td>
     <td>
      0x00
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 14: Decrypted STS KEY bytes (with big endian format)
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      02:10
     </td>
     <td>
      0x11
     </td>
     <td>
      02:18
     </td>
     <td>
      0x55
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      02:11
     </td>
     <td>
      0x22
     </td>
     <td>
      02:19
     </td>
     <td>
      0x66
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      02:12
     </td>
     <td>
      0x33
     </td>
     <td>
      02:1A
     </td>
     <td>
      0x77
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      02:13
     </td>
     <td>
      0x44
     </td>
     <td>
      02:1B
     </td>
     <td>
      0x88
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-59-0">
   </span>
   For the little endian format, the STS KEY data will look like, as shown i
   <a href="#page-59-0">
    n Table 15
   </a>
   (
   <b>
    0xdd
   </b>
   is in the lowest  address location):
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Address
     </th>
     <th>
      Value
     </th>
     <th>
      Address
     </th>
     <th>
      Value
     </th>
    </tr>
    <tr>
     <td>
      02:0C
     </td>
     <td>
      0xdd
     </td>
     <td>
      02:14
     </td>
     <td>
      0x00
     </td>
    </tr>
    <tr>
     <td>
      02:0D
     </td>
     <td>
      0xcc
     </td>
     <td>
      02:15
     </td>
     <td>
      0xff
     </td>
    </tr>
    <tr>
     <td>
      02:0E
     </td>
     <td>
      0xbb
     </td>
     <td>
      02:16
     </td>
     <td>
      0xee
     </td>
    </tr>
    <tr>
     <td>
      02:0F
     </td>
     <td>
      0xaa
     </td>
     <td>
      02:17
     </td>
     <td>
      0x00
     </td>
    </tr>
    <tr>
     <td>
      02:10
     </td>
     <td>
      0x44
     </td>
     <td>
      02:18
     </td>
     <td>
      0x88
     </td>
    </tr>
    <tr>
     <td>
      02:11
     </td>
     <td>
      0x33
     </td>
     <td>
      02:19
     </td>
     <td>
      0x77
     </td>
    </tr>
    <tr>
     <td>
      02:12
     </td>
     <td>
      0x22
     </td>
     <td>
      02:1A
     </td>
     <td>
      0x66
     </td>
    </tr>
    <tr>
     <td>
      02:13
     </td>
     <td>
      0x11
     </td>
     <td>
      02:1B
     </td>
     <td>
      0x55
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    Table 15: Decrypted STS KEY bytes (with little endian format)
   </b>
  </h3>
  <p block-type="Text">
   But what wis actually required is that the STS KEY data looks like, as shown in
   <a href="#page-59-1">
    Table 16:
   </a>
  </p>
  <h4>
   <span id="page-59-1">
   </span>
   <b>
    Table 16: Decrypted STS KEY bytes (with little endian format and swapped by SE prior to encyption)
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      Address
     </th>
     <th>
      Value
     </th>
     <th>
      Address
     </th>
     <th>
      Value
     </th>
    </tr>
    <tr>
     <td>
      02:0C
     </td>
     <td>
      0x88
     </td>
     <td>
      02:14
     </td>
     <td>
      0x44
     </td>
    </tr>
    <tr>
     <td>
      02:0D
     </td>
     <td>
      0x77
     </td>
     <td>
      02:15
     </td>
     <td>
      0x33
     </td>
    </tr>
    <tr>
     <td>
      02:0E
     </td>
     <td>
      0x66
     </td>
     <td>
      02:16
     </td>
     <td>
      0x22
     </td>
    </tr>
    <tr>
     <td>
      02:0F
     </td>
     <td>
      0x55
     </td>
     <td>
      02:17
     </td>
     <td>
      0x11
     </td>
    </tr>
    <tr>
     <td>
      02:10
     </td>
     <td>
      0x00
     </td>
     <td>
      02:18
     </td>
     <td>
      0xdd
     </td>
    </tr>
    <tr>
     <td>
      02:11
     </td>
     <td>
      0xff
     </td>
     <td>
      02:19
     </td>
     <td>
      0xcc
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      02:12
     </th>
     <th>
      0xee
     </th>
     <th>
      02:1A
     </th>
     <th>
      0xbb
     </th>
    </tr>
    <tr>
     <td>
      02:13
     </td>
     <td>
      0x00
     </td>
     <td>
      02:1B
     </td>
     <td>
      0xaa
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Thus the SE must re-arrange the data before encryption, the bytes (of the derived STS KEY) need to be  swapped: byte[15]=byte[0]; byte[14]=byte[1] etc... prior to encryption with STS KEK.
  </p>
  <h2>
   <b>
    Note on source and destination buffers
   </b>
  </h2>
  <p block-type="Text">
   When specifying a source and destination buffer address (and offset within the buffer) the buffer size should  be sufficient for the DMA transfer. If the size is smaller than the transfer, the DMA transfer error
   <a href="#page-98-2">
    (AES_ERR)
   </a>
   may not be correctly flagged by the device. In some circumstances the internal AES block can lock up and the  only way to recover is to perform a reset of the device (soft or hard)).
  </p>
  <p block-type="Text">
   To avoid such errors it is require to always ensure that the buffers and sizes of transfers should be properly  configured, i.e.:
  </p>
  <p block-type="Text">
   Header length + Payload length + MIC length &lt; Total buffer size.
  </p>
  <h2>
   <span id="page-61-0">
   </span>
   <b>
    6 Secure ranging / timestamping
   </b>
  </h2>
  <p block-type="Text">
   One of the main features of the DW3000 (differentiating it from the DW1000) is its secure timestamping  ability.
  </p>
  <p block-type="Text">
   The timestamping ability of the DW1000 is based on accumulated correlation of the repeated symbols of the  802.15.4 standard preamble sequence. Please refer to the IEEE 802.15.4 standar
   <a href="#page-253-3">
    d [1],
   </a>
   for more details of  the packet format. When th
   <a href="#page-252-1">
    e SFD
   </a>
   is detected a coarse receive timestamp is taken and then the accumulator  state, which essentially provides the radio channel impulse response
   <a href="#page-250-7">
    , CIR,
   </a>
   is used to find the first arriving ray  of RF energy and adjust the RX timestamp to give the sub-nanosecond precision achieved by the IC.
  </p>
  <p block-type="Text">
   Since the
   <a href="#page-250-7">
    CIR
   </a>
   accumulation is based on a repeated symbol of a known sequence of pulses defined by  preamble code, it is possible for an attacker to send this same symbol (set of pulses) with a time offset which  makes it appear like an earlier arriving ray in the
   <a href="#page-250-7">
    CIR,
   </a>
   and thus confuse the IC into reporting an earlier arrival  time for the message. This could, for instance, foreshorten a ranging result, thus fooling an access system  into thinking the user is closer than he actually is.
  </p>
  <p block-type="Text">
   To remove the possibility of such an attack the DW3000 has the ability to include a scrambled sequence in  the packet, which can be used to obtain an RX timestamp that cannot be attacked in this way. This  scrambled timestamp sequence (STS) is generated in accordance with the IEEE 802.15.4z amendment
   <a href="#page-253-4">
    [2]
   </a>
   ,  and consists of a sequence of randomised pulses generated by an AES-128 CPRNG (cryptographic pseudorandom number generator) block in counter mode. This is also termed a deterministic random bit generator  (DRBG). Only valid transmitters and receivers know the correct seed (i.e., key and data) to generate the  sequence for transmission and for reception to cross correlate and accumulate to produce a CIR estimate  from which to determine the RX timestamp.
  </p>
  <p block-type="Text">
   When the STS modes are enabled the DW3000 transmitter will insert the STS in the position shown in
   <a href="#page-32-2">
    Figure
   </a>
   <a href="#page-32-2">
    13,
   </a>
   and the receiver will expect it to be present accordingly. The STS is generated by the AES-128 block  output and is determined by a seed consisting of a 128-bit key, and a 128-bit nonce (a number that should  only be used once). The nonce is updated during the STS generation by incrementing the counter once for  every 128 pulses produced. When transmitting and receiving devices are using aligned seeds (i.e., same key  and nonce) with the counter values aligned, the receiver generates a secure version of the CIR by correlating  with the matching scrambled pulse sequence. The resultant timestamp is thus secure against attack.
  </p>
  <p>
   <img src="_page_61_Figure_8.jpeg"/>
  </p>
  <p>
   <img src="_page_61_Figure_9.jpeg"/>
  </p>
  <p block-type="Text">
   <span id="page-61-1">
   </span>
   As shown in
   <a href="#page-61-1">
    Figure 24,
   </a>
   the STS consists of an active segment bracketed at either end by a gap (of 512 chips  or approx. 1 μs). The length of the STS (active segment) is specified in units of 512 chips (~1 μs). In BPRF  mode, where the STS pulse spacing is 8 chips, the mandatory STS length of 64 units has an active segment of  4096 pulses. For convenience we sometimes call this 512-chip (~1 μs) period an
   <i>
    STS symbol
   </i>
   .
  </p>
  <p block-type="Text">
   To contrast the three STS packet configuration options:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     STS Packet Configuration mode 1 has the STS directly after the
     <a href="#page-252-1">
      SFD
     </a>
     which means it is early (and in a  deterministic position). This allows the CIA to start processing th
     <a href="#page-252-0">
      e STS
     </a>
     <a href="#page-250-7">
      CIR
     </a>
     earlier (assuming it is not  processing the preamble
     <a href="#page-250-7">
      CIR)
     </a>
     , while the IC continues to receive the PHR and the data payload. This  mode saves time and energy (as compared to configuration mode 2). However data reception  performance may be poorer when there is a misalignment of the STS sequences, i.e., where the  transmitter's seed info (including counter) does not match the receiver's giving poor correlation.
    </li>
    <li block-type="ListItem">
     STS Packet Configuration mode 2 has the STS at the end of the packet. This has the benefit that the  receiver can receive the data as normal even if it has misalignment of the STS sequence generation  seeds between the transmitter and the receiver. Also the packets by a device using this mode can  be received by a device employing the original IEEE802.15.4 standard
     <a href="#page-253-3">
      [1]
     </a>
     UWB packet structure,  which might be an advantage in some circumstances. In using STS Packet Configuration mode 2 the  frame payload can carry information allowing the receiving node to determine the correct alignment  of the
     <a href="#page-252-0">
      STS
     </a>
     generation seed (key + nonce data) that it can use to achieve alignment for future  messages. Obviously, transmission of sensitive information like the STS key and nonce counter state  needs to be encrypted/protected so that an attacker cannot learn this secret.
     <b>
      N.B. In this mode, for correct operation it is required that the data length is non-zero.
     </b>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   This mode can potentially be attacked. The mechanism has the attacker corrupting the true  PHR to signal a longer data payload than the true payload, adding data payload after the true  payload making sure that the CRC of the longer frame is correct, while also recording the true STS of  the valid transmitter and playing it at the end of the longer payload but altering its alignment so that  it appears to arrive earlier in time resulting in a shorter time-of-flight estimate than would otherwise  be the case. This attack can be easily thwarted by: (a) ensuring that the true message length always  known, i.e. the length is either a constant or is included securely encrypted in the frame data  payload, and then (b) having the receiver discard and ignore frames of the wrong length. Simply  encrypting the data payload should also be sufficient to thwart this attack, because, since the  attacker does not know the encryption key, it will be unable to generate a valid MIC (message  integrity check code) for the longer data payload, and then the receiver's incoming security  processing should simply discard and ignore the invalid frame.
  </p>
  <p block-type="Text">
   • STS Packet Configuration mode 3 has STS directly after th
   <a href="#page-252-1">
    e SFD
   </a>
   (similar to configuration mode 1),  however in this mode the UWB packet ends with STS and there is no PHR or PHY payload (MAC  frame) following. This could save time and energy (as compared to configuration modes 1 and 2).
  </p>
  <p block-type="Text">
   The STS packet configuration is configured via th
   <a href="#page-79-3">
    e CP_SPC
   </a>
   field in
   <i>
    <a href="#page-76-1">
     Sub-register 0x00:10
    </a>
    – System
    <a href="#page-76-1">
     configuration
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   The STS length is configured via the
   <a href="#page-122-2">
    CPS_LEN
   </a>
   field in th
   <a href="#page-122-1">
    e STS_CFG
   </a>
   register. The STS length is programmable  in steps of 8 units (i.e., each step is ~8 µs, or 8 x 512 chips). The minimum length supported is 32 and the  maximum supported length is 2048. The IEEE 802.15.4z mandates only a single length of 64 x 512 chips, (or  64 x 64 pulses @ 64 MHz PRF), which is approximately 64 µs duration. As noted the equivalent PRF during  STS is 64 MHz.
  </p>
  <p block-type="Text">
   The 128-bit STS key is programmed into
   <a href="#page-124-1">
    STS_KEY,
   </a>
   while the 128-bit initial value for the nonce is loaded into  the device via
   <a href="#page-124-0">
    STS_IV.
   </a>
  </p>
  <p block-type="Text">
   When the DW3000 is enabled to transmit or receive a packet incorporating an STS, the AES-128 block  generates a randomised set of pulses of positive and negative polarity, the CPRGN is shown in
   <a href="#page-63-0">
    Figure 25
   </a>
   <a href="#page-63-1">
    below,
   </a>
   advancing the counter by one step for every 128 pulses generated. The counter would thus advance  by 32 for each completed transmission, or reception, of the IEEE 802.15.4z mandated 64 x 64 pulse BPRF  mode STS.
  </p>
  <p block-type="Text">
   <span id="page-63-1">
   </span>
   To achieve secure ranging/timestamping both parties of a two-way ranging exchange should be configured  the same way, i.e. to use the same STS length and the same key and nonce values for the generation of their STS sequences.
  </p>
  <p>
   <img src="_page_63_Figure_5.jpeg"/>
  </p>
  <p>
   <b>
    Figure 25: AES in counter mode based CPRNG
   </b>
  </p>
  <p block-type="Text">
   <span id="page-63-0">
   </span>
   Since the counter automatically advances as the STS is generated in the transmitter and receiver, the counter state in two units can remain aligned as messages are sent and received in a typical two-way ranging  exchange. Where alignment is lost, or to maintain alignment in multi-node systems the counter state  should be reprogrammed by the setting the new value into the
   <a href="#page-124-0">
    STS_IV
   </a>
   register. Optionally, the counter state  could be sent from one device to another to update the
   <a href="#page-124-0">
    STS_IV
   </a>
   register. Clearly any communication of the  seed (key and/or IV) would have to be done securely to avoid them becoming known to an attacker. Note  also that during transmission and reception of the STS the state of the counter may be in flux as it generates the scrambled sequence, so before any reading or writing of the
   <a href="#page-124-0">
    STS_IV
   </a>
   register, it is recommended that the  DW3000 is not active with any transmission and reception activities.
  </p>
  <p block-type="Text">
   When STS is included in the packet there are two separate accumulations of
   <a href="#page-250-7">
    CIR
   </a>
   in the receiver. The first  accumulation occurs during the preamble reception and the second occurs during the STS reception. Both  these
   <a href="#page-250-7">
    CIR
   </a>
   may be read through Register file: 0x15 –
   <a href="#page-227-1">
    Accumulator CIR memory.
   </a>
   Access to th
   <a href="#page-250-7">
    e CIR
   </a>
   data is not  needed for ranging measurements, however this
   <a href="#page-227-2">
    ACC_MEM
   </a>
   may be of interest to the system design  engineers to visualise the radio channel for diagnostic purposes.
  </p>
  <p block-type="Text">
   The accurate receive timestamp for a received packet is computed by finding the first arriving path or ray  within the accumulated
   <a href="#page-250-7">
    CIR,
   </a>
   which is the function of the leading edge algorithm, also called the channel
  </p>
  <p block-type="Text">
   impulse analyser
   <a href="#page-250-3">
    (CIA)
   </a>
   algorithm. This algorithm processes the
   <a href="#page-250-7">
    CIR
   </a>
   (in the accumulator) to find the leading  edge and estimate the RX timestamp for a received packet. Th
   <a href="#page-250-3">
    e CIA
   </a>
   may be applied t
   <a href="#page-250-7">
    o CIR
   </a>
   resulting from  preamble and/or STS sequences. Th
   <a href="#page-250-3">
    e CIA
   </a>
   is configured and controlled through the Sub-registers in
   <a href="#page-201-0">
    CP_CONF0,
   </a>
   <a href="#page-202-0">
    CP_CONF1,
   </a>
   <a href="#page-199-1">
    IP_CONF0
   </a>
   and IP_CONF1.
  </p>
  <p block-type="Text">
   Assuming it is enabled, once both the preamble and STS CIRs have been received, the
   <a href="#page-250-3">
    CIA
   </a>
   begins running on  the preamble first followed by the analysis of the STS
   <a href="#page-250-7">
    CIR.
   </a>
   The
   <a href="#page-250-3">
    CIA
   </a>
   delivers the receive timestamp for a  received packet through the
   <a href="#page-102-1">
    RX_STAMP
   </a>
   field in
   <a href="#page-101-1">
    Sub-register 0x00:64
   </a>
   – Receive time stamp. To ensure the  integrity of the receive timestamp based on th
   <a href="#page-252-0">
    e STS,
   </a>
   the user must check that the
   <a href="#page-180-1">
    CP_TOAST
   </a>
   quality status  indicator (in
   <a href="#page-180-2">
    CP_TS)
   </a>
   is not indicating any issues with the STS CIR analysis.
  </p>
  <p block-type="Text">
   NB: The host should not attempt to read
   <a href="#page-227-2">
    ACC_MEM
   </a>
   until the CIA has finished its processing, (as signalled by  the
   <a href="#page-94-3">
    CIADONE
   </a>
   event status flag), since this may give rise to a conflict with the CIA accesses to the
   <a href="#page-250-7">
    CIR
   </a>
   memory  which may interfere with the generation of a good RX timestamp result.
  </p>
  <p block-type="Text">
   <b>
    Note
   </b>
   : It is also very important to assess that quality of the
   <a href="#page-252-0">
    STS
   </a>
   accumulation before accepting that a receive  timestamp CP_TOA value is sufficiently good enough to be trusted in a two-way ranging exchange. This is a  unitless value that summarizes the results of the STS quality algorithm that is monitoring the reception of  the
   <a href="#page-252-0">
    STS.
   </a>
   For high signal levels this measurement should be very high but its value will reduce as the signal  level reduces. A
   <a href="#page-124-2">
    n ACC_QUAL
   </a>
   value (in
   <a href="#page-123-0">
    STS_STS)
   </a>
   that is &lt;60% of the
   <a href="#page-252-0">
    STS
   </a>
   length indicates that the reception of  the
   <a href="#page-252-0">
    STS
   </a>
   was too poor for the first path analysis to obtain a reliable ToA and so the received timestamp based  on STS should not be trusted.
  </p>
  <p block-type="Text">
   <i>
    For example for a preamble sequence using 64 MHz PRF (i.e.
    <a href="#page-110-0">
     TX_PCODE
    </a>
    is in range 9-12) and an
   </i>
   <a href="#page-252-0">
    STS
   </a>
   <i>
    length of  128 (i.e. CPS_LEN is set to 15), the
   </i>
   <a href="#page-252-0">
    STS
   </a>
   <i>
    based receive timestamp (CP_TOA) value should only be trusted when  the
   </i>
   <a href="#page-252-0">
    STS
   </a>
   <i>
    accumulation quality (CPS_ACCQUAL) value is greater than ≥ 77 (i.e. 60 % of 128).
   </i>
  </p>
  <p block-type="Text">
   As mentioned above STS uses a continually varying sequence. This means that a colliding packet will not line  up with the desired signal. As a result, the ToA will be unaffected. If security is not a concern, then overhead  of key management and counter control is undesirable. For this reason, the DW3000 includes a special STS  mode that uses a code optimized for ToA performance. This is known as the Super Deterministic Code  (SDC). If SDC is enabled (by
   <a href="#page-79-5">
    CP_SDC
   </a>
   bit), then the STS will be populated with the SDC code. Since it is a time  varying sequence optimized for ToA performance it will better tolerate packet collisions without requiring  any key management.
  </p>
  <p block-type="Text">
   It is important to remember that the SDC mode does not provide security but will increase confidence in the  ToA when the on-air packet density is high. For this reason, we would recommend that an SDC based STS is  used when security is not a requirement.
  </p>
  <h2>
   <span id="page-65-0">
   </span>
   <b>
    7 Other features of the IC
   </b>
  </h2>
  <h2>
   <span id="page-65-1">
   </span>
   <i>
    7.1 External Synchronisation
   </i>
  </h2>
  <p block-type="Text">
   This feature is used to synchronise DW3000 with external clocks, events or with other DW3000's. For  example, it allows for TDoA RTLS systems employing wired clock synchronisation of the anchor nodes.
  </p>
  <p block-type="Text">
   The DW3000 external synchronisation feature allows the following functions:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     a) The ability to reset the internal system counter in a deterministic way with respect to the assertion  of the SYNC input pin and an external 38.4 MHz clock supplied on the EXTCLK pin.
    </li>
    <li block-type="ListItem">
     b) The ability to initiate the transmission of a packet in a deterministic way with respect to the  assertion of the SYNC input pin and an external 38.4 MHz clock supplied on the EXTCLK pin.
    </li>
    <li block-type="ListItem">
     c) The ability to synchronise receive time stamping to an external counter.
    </li>
   </ul>
  </p>
  <p>
   <img src="_page_65_Figure_9.jpeg"/>
  </p>
  <h3>
   <span id="page-65-3">
   </span>
   <b>
    Figure 26: DW3000 External Synchronisation Interface
   </b>
  </h3>
  <p block-type="Text">
   <span id="page-65-2">
   </span>
   The SYNC input pin must be source synchronous with an external 38.4 MHz frequency reference clock  supplied on the EXTCLK pin. The SYNC input pin is sampled on the rising edge of EXTCLK. Refer to the  DW3000 Datasheet for setup and hold times of the SYNC pin. The SYNC input provides a common reference  point in time to synchronise the DW3000 with the accuracy necessary to achieve high resolution location  estimation.
  </p>
  <h2>
   <span id="page-65-4">
   </span>
   <b>
    One Shot Timebase Reset (OSTR) Mode
   </b>
  </h2>
  <p block-type="Text">
   One Shot Timebase Reset
   <a href="#page-65-3">
    (OSTR)
   </a>
   mode allows a reset to be applied to the timebase counter used for  timestamping in DW3000 at a deterministic and predictable time relative to a synchronisation event. Any  given device will reset the counter at a repeatable time to within 300ps (typically less than 100ps) variation.  Process variation between parts introduces a deterministic error that can be calibrated out as part of the  necessary calibration process to compensate for cable transmission delays in a wired synchronization  system. When several DW3000s are driven by the same reference clock and an external SYNC signal, their  internal timebases can be synchronised very accurately (allowing for the deterministic delays associated with  the distribution network for the reference clock and SYNC signal).
  </p>
  <p block-type="Text" class="has-continuation">
   To configure DW3000 for
   <a href="#page-65-3">
    OSTR
   </a>
   mode, the
   <a href="#page-127-1">
    OSTR_M
   </a>
   bit in th
   <a href="#page-127-2">
    e EC_CTRL
   </a>
   register is set and th
   <a href="#page-127-3">
    e OSTS_WAIT
   </a>
   value is set to the desired delay value. When a counter running on the 38.4 MHz external clock and initiated
  </p>
  <p block-type="Text">
   on the rising edge of the SYNC signal equals th
   <a href="#page-127-3">
    e OSTS_WAIT
   </a>
   programmed value, the DW3000 timebase  counter will be reset. See
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration
   </a>
   for register details.
  </p>
  <p block-type="Text">
   At the time the SYNC signal is asserted, the clock PLL dividers generating the DW3000 124.8 MHz system  clock are reset to ensure that a deterministic phase relationship exists between the system clock and the  asynchronous 38.4 MHz external clock. For this reason, the
   <a href="#page-127-3">
    OSTS_WAIT
   </a>
   value programmed will dictate the  phase relationship and should be chosen to give the desired phase relationship, as given b
   <a href="#page-127-3">
    y OSTS_WAIT
   </a>
   modulo 4. An
   <a href="#page-127-3">
    OSTS_WAIT
   </a>
   value of 33 decimal is recommended, but if a different value is chosen it should be  chosen so that
   <a href="#page-127-3">
    OSTS_WAIT
   </a>
   modulo 4 is equal to 1, i.e. 29, 37, and so on.
  </p>
  <h2>
   <span id="page-66-0">
   </span>
   <i>
    7.2 External power amplification
   </i>
  </h2>
  <p block-type="Text">
   In some geographic regions for certain situations (e.g. for emergency first responder use in ETSI UWB  regulations for EU) it is permitted to send at +20 dB above the normal UWB regulation levels. To achieve  this with the DW3000 it is necessary to employ external amplification of the transmitted signal. The  DW3000 provides signals (using the GPIO lines in a special mode) to control the turn-on of an external power  amplifier and to control an external analog switching of the transmitter and receiver signal paths  appropriately. This mode of operation utilises the DW3000 pin
   <a href="#page-131-0">
    s EXTPA,
   </a>
   <a href="#page-131-1">
    EXTTXE
   </a>
   and
   <a href="#page-131-2">
    EXTRXE
   </a>
   as configured  via the fields of the
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   register.
  </p>
  <p block-type="Text">
   Care should be taken when using this feature to ensure that necessary regulatory requirements have been  fulfilled.
  </p>
  <p block-type="Text">
   There is a separate application note giving details of the external power amplification. This includes the  circuit diagram, details of configuration and various design considerations that apply. Please consult with  Decawave's applications support team for details.
  </p>
  <h2>
   <span id="page-66-1">
   </span>
   <i>
    7.3 Using the on-chip
    <a href="#page-251-1">
     OTP
    </a>
    memory
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 has a small amount of one-time-programmable
   <a href="#page-251-1">
    (OTP)
   </a>
   memory intended for device specific  configuration or calibration data. Some areas of the
   <a href="#page-251-1">
    OTP
   </a>
   memory are used to save device calibration values  determined during DW3000 testing, while othe
   <a href="#page-251-1">
    r OTP
   </a>
   memory locations are intended to be set by the  customer during module manufacture and test.
  </p>
  <p block-type="Text">
   For example, an
   <a href="#page-251-1">
    OTP
   </a>
   memory area is reserved for customers to programme the
   <a href="#page-250-11">
    EUI
   </a>
   that is loaded into
   <a href="#page-74-1">
    EUI_64
   </a>
   as the IC comes out of reset (see
   <a href="#page-74-1">
    EUI_64
   </a>
   for details of the
   <a href="#page-250-11">
    EUI
   </a>
   functionality).
  </p>
  <p block-type="Text">
   This section lists the
   <a href="#page-251-1">
    OTP
   </a>
   memory areas defining their functionality and describes the algorithm for  programming values into th
   <a href="#page-251-1">
    e OTP
   </a>
   memory, and how to read values from the
   <a href="#page-251-1">
    OTP
   </a>
   memory. Access to
   <a href="#page-251-1">
    OTP
   </a>
   memory is achieved using Register file: 0x0B –
   <a href="#page-172-3">
    OTP memory interface.
   </a>
  </p>
  <h2>
   <span id="page-66-2">
   </span>
   <b>
    <a href="#page-251-1">
     OTP
    </a>
    memory map
   </b>
  </h2>
  <p block-type="Text">
   The
   <a href="#page-251-1">
    OTP
   </a>
   memory locations are as defined in
   <a href="#page-67-0">
    Table 17.
   </a>
   Th
   <a href="#page-251-1">
    e OTP
   </a>
   memory locations are each 32-bits wide,
   <a href="#page-251-1">
    OTP
   </a>
   addresses are word addresses so each increment of address specifies a different 32-bit word.
  </p>
  <h4>
   <b>
    Table 17: OTP memory map
   </b>
  </h4>
  <span id="page-67-2">
  </span>
  <span id="page-67-1">
  </span>
  <span id="page-67-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Address
     </th>
     <th>
      Size
      <br/>
      (Used
     </th>
     <th>
      Byte [3]
     </th>
     <th>
      Byte [2]
     </th>
     <th>
      Byte [1]
     </th>
     <th>
      Byte [0]
     </th>
     <th>
      Programmed
      <br/>
      By
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Bytes)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      4
     </td>
     <td colspan="3">
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td colspan="3">
      64 bit EUID
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x02
     </td>
     <td>
      4
     </td>
     <td colspan="3">
      Alternative 64bit EUID (Selected via reg/SR register)
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x03
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x05
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      LDOTUNE_CAL
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x06
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      {"0001,0000,0001", "CHIP ID 5 nibbles (20 bits)"}
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x07
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      {"0001" , "LOT ID – 7 nibbles (28bits)"}
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      4
     </td>
     <td>
      -
     </td>
     <td>
      Vbat @ 3.0 V
     </td>
     <td>
      Vbat @
     </td>
     <td>
      Vbat @ 1.62 V
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      [23:16]
     </td>
     <td>
      3.62 V [15:8]
     </td>
     <td>
      [7:0]
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x09
     </td>
     <td>
      2
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Temp @ 22 °C
      <br/>
      +/- 2 °C [7:0]
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x0A
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      BIASTUNE_CAL
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x0B
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Antenna Delay – RFLoop
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      4
     </td>
     <td>
      AoA Iso CH9
     </td>
     <td>
      AoA Iso CH9
     </td>
     <td>
      AoA Iso CH5
     </td>
     <td>
      AoA Iso CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      RF2-&gt;RF1
     </td>
     <td>
      RF1-&gt;RF2
     </td>
     <td>
      RF2 -&gt; RF1
     </td>
     <td>
      RF1-&gt;RF2
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0
     </td>
     <td>
      W.S. Lot ID [3]
     </td>
     <td>
      W.S. Lot ID
     </td>
     <td>
      W.S. Lot ID
     </td>
     <td>
      W.S. Lot ID [0]
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      [2]
     </td>
     <td>
      [1]
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      W.S. Lot ID
     </td>
     <td>
      W.S. Lot ID [4]
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x0F
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
      W.S. Wafer
     </td>
     <td>
      [5]
     </td>
     <td>
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Number
     </td>
     <td>
      W.S. Y Loc
     </td>
     <td>
      W.S. X Loc
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x11
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x12
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x13
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x15
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x16
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x17
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x19
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1A
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1B
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1D
     </td>
     <td>
      4
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1E
     </td>
     <td>
      2
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      XTAL_Trim[6:0]
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x1F
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      OTP Revision
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x20
     </td>
     <td>
      4
     </td>
     <td colspan="3">
      RX_TUNE_CAL: DGC_CFG0
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x21
     </td>
     <td>
      4
     </td>
     <td colspan="3">
      RX_TUNE_CAL: DGC_CFG1
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x22
     </td>
     <td>
      4
     </td>
     <td colspan="3">
      RX_TUNE_CAL: DGC_CFG2
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x23
     </td>
     <td>
      4
     </td>
     <td colspan="3">
      RX_TUNE_CAL: DGC_CFG3
     </td>
     <td>
      Prod Test
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-68-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0x24
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_CFG4
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x25
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_CFG5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x26
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_CFG6
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x27
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_0 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x28
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_1 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x29
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_2 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2A
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_3 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2B
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_4 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2C
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_5 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2D
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_6 – CH5
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2E
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_0 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x2F
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_1 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x30
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_2 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x31
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_3 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x32
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_4 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x33
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_5 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x34
     </td>
     <td>
      4
     </td>
     <td>
      RX_TUNE_CAL: DGC_LUT_6 – CH9
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x35
     </td>
     <td>
      4
     </td>
     <td>
      PLL_LOCK_CODE
     </td>
     <td>
      Prod Test
     </td>
    </tr>
    <tr>
     <td>
      0x36 –
     </td>
     <td>
     </td>
     <td>
      UNALLOCATED
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x5F
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x60
     </td>
     <td>
      1
     </td>
     <td>
      QSR Register (Special function register)
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      0x61
     </td>
     <td>
      4
     </td>
     <td>
      Q_RR
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      Register [7:0]
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      0x62 –
     </td>
     <td>
      4
     </td>
     <td>
      UNALLOCATED
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x77
      <br/>
      0x78
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[127:96] (big endian order)
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x79
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[95:64] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7A
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[63:32] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7B
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[31:0] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7C
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[255:224] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7D
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[223:192] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7E
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[191:160] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
    <tr>
     <td>
      0x7F
     </td>
     <td>
      4
     </td>
     <td>
      AES_KEY[159:128] (big endian order)
     </td>
     <td>
      Customer
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-68-0">
   </span>
   The QSR ("Special function register") is a 32-bit segment of
   <a href="#page-251-1">
    OTP
   </a>
   that is directly readable via the register  interface upon power up. To program the SR register follow the normal
   <a href="#page-251-1">
    OTP
   </a>
   programming method but set  the
   <a href="#page-251-1">
    OTP
   </a>
   address to 0x60. As this is part of OTP boot sequence the new value will be present in the QSR  register following the next boot up sequence.
  </p>
  <p block-type="Text">
   The various tune values
   <a href="#page-67-1">
    (LDOTUNE_CAL,
   </a>
   <a href="#page-67-2">
    BIASTUNE_CAL
   </a>
   etc.) can be automatically loaded from OTP into the  respective registers. This will ensure the device is using optimal calibration and tuning parameters for given  configurations. The automatic loading (kicking) of these values is described insection
   <a href="#page-174-0">
    8.2.12.3
   </a>
   <a href="#page-174-0">
    Sub-register
   </a>
   0x0B:08 – OTP
   <a href="#page-174-0">
    configuration.
   </a>
  </p>
  <p block-type="Text">
   It is left up to the customer, but in Decawave's evaluation kits which have been calibrated, the XTAL_Trim  and OTP Revision values are programmed into OTP memory addresses 0x1e and 0x1f. Then in the  dwt_initialise() AP
   <a href="#page-253-7">
    I [3]
   </a>
   the XTAL trim value is copied to
   <a href="#page-164-3">
    XTAL_TRIM.
   </a>
  </p>
  <h2>
   <span id="page-69-2">
   </span>
   <b>
    Programming a value into
    <a href="#page-251-1">
     OTP
    </a>
    memory
   </b>
  </h2>
  <p block-type="Text">
   The programming of the
   <a href="#page-251-1">
    OTP
   </a>
   requires a sequence of steps please see API functions
   <a href="#page-253-7">
    [3].
   </a>
  </p>
  <h2>
   <b>
    Reading a value from
    <a href="#page-251-1">
     OTP
    </a>
    memory
   </b>
  </h2>
  <p block-type="Text">
   The reading of an OTP memory address consists of a number of steps. Please see the API function
   <a href="#page-253-7">
    [3]:
   </a>
   dwt_otpread(uint16 address, uint32 *array, uint8 length) of how to read OTP memory.
  </p>
  <h2>
   <span id="page-69-0">
   </span>
   <i>
    7.4 Measuring IC temperature and voltage
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 is equipped with a low speed 8-bit SAR A/D convertor which can be configured to sample  values from an internal IC temperature sensor and from a battery voltage monitor on the VDD1 power  supply input. These readings can be manually run under host control or they can be configured to be run  automatically each time the DW3000 enters the
   <b>
    <a href="#page-18-3">
     WAKE_UP
    </a>
   </b>
   state. This automatic mode allows the  temperature and voltage to be read while the device is in a low power state, which allows to read the  temperature without internal heat up and the unloaded battery voltage. More details can be found in  Register file: 0x08 –
   <a href="#page-154-0">
    Transmitter calibration block
   </a>
   section and the description of the
   <a href="#page-165-2">
    ONW_RUN_SAR
   </a>
   bit of Sub-register 0x0A:00 – AON
   <a href="#page-164-4">
    on wake configuration.
   </a>
  </p>
  <h2>
   <span id="page-69-1">
   </span>
   <i>
    7.5 The brownout detector
   </i>
  </h2>
  <p block-type="Text">
   The DW3000 incorporates a brownout detection feature to warn the system about the condition of the IC  supply voltage dropping below a pre-set brownout threshold of approx. 1.5 volts, which will reset the IC.  The role of the brownout detector is to detect drops in the supply during the higher current TX or RX modes. This should not happen in normal operation when there is sufficient power supply current and capacitance  available, but could happen in a battery powered design with insufficient remaining charge or insufficient  capacitance available to supply the current needs of the device. A brownout means that the IC circuits have  insufficient supply for correct operation likely to result in poor performance or operational issues.
  </p>
  <p block-type="Text">
   The elements involved in the brownout detection feature are:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     The
     <a href="#page-95-3">
      VWARN
     </a>
     event flag bit in
     <a href="#page-91-0">
      SYS_STATUS
     </a>
     <i>
      .
     </i>
     If a brownout event is detected this bit will get set and it  will remain set until it is explicitly cleared by writing a 1 to it, or the IC is reset.
    </li>
    <li block-type="ListItem">
     The
     <a href="#page-95-3">
      VWARN
     </a>
     event can also be used to trigger an interrupt to the host microprocessor if the  corresponding mask bit,
     <a href="#page-90-1">
      VWARN_EN,
     </a>
     is set in Sub-register 0x00:3C –
     <a href="#page-87-2">
      System event enable mask.
     </a>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   Enabling the voltage comparator will set the
   <a href="#page-95-3">
    VWARN
   </a>
   event flag bit in
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register. This initial  VWARN event should be ignored and the event flag should be cleared (by writing 1 to
   <a href="#page-95-3">
    VWARN)
   </a>
   . Subsequent  VWARN events will signal drop in the supply voltage.
  </p>
  <h2>
   <span id="page-70-0">
   </span>
   <b>
    8 The DW3000 register set
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 is controlled by an associated host microcontroller system using the SPI interface to access a  series of registers within the device. The DW3000 register set includes configuration registers, status  registers, control registers, data buffer registers, and diagnostic registers. Section
   <i>
    <a href="#page-70-1">
     8.1
    </a>
    –
    <a href="#page-70-1">
     Register map
    </a>
    <a href="#page-70-1">
     overview
    </a>
   </i>
   gives an overview of the register layout and then section
   <i>
    <a href="#page-71-0">
     8.2
    </a>
    –
    <a href="#page-71-0">
     Detailed register description
    </a>
   </i>
   describes each individual parameter in detail. There is also a set of single octet commands to initiate certain  IC activities (e.g. TX, RX, etc) which are described in secion
   <i>
    <a href="#page-237-0">
     9
    </a>
    –
    <a href="#page-237-0">
     Fast Commands
    </a>
   </i>
   . The SPI transaction formats  are described in section
   <i>
    <a href="#page-10-0">
     2.3
    </a>
    –
    <a href="#page-10-1">
     The SPI interface
    </a>
   </i>
   .
  </p>
  <h2>
   <span id="page-70-1">
   </span>
   <i>
    8.1 Register map overview
   </i>
  </h2>
  <p block-type="Text">
   The register map overview is given in
   <a href="#page-70-2">
    Table 18.
   </a>
   This lists the registers in address order, by register file ID and  it gives a brief high level description of the register. Section
   <a href="#page-71-0">
    8.2
   </a>
   gives a detailed description of each register.
  </p>
  <p block-type="Text">
   <span id="page-70-2">
   </span>
   <b>
    Note:
   </b>
   When writing to any of the DW3000 registers care must be taken not to write beyond the  documented length of the selected register and not to write to any of the reserved register locations. Doing  so may cause the device to malfunction.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      GEN_CFG_AES
     </td>
     <td>
      This is the main register bank and
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
     </td>
     <td>
      Advanced Encryption Standard
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
     </td>
     <td>
      configuration set of registers
     </td>
    </tr>
    <tr>
     <td>
      0x02
     </td>
     <td>
      STS_CFG
     </td>
     <td>
      Scrambled timestamp sequence
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      configuration
     </td>
    </tr>
    <tr>
     <td>
      0x03
     </td>
     <td>
      RX_TUNE
     </td>
     <td>
      RX tuning register
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      EXT_SYNC
     </td>
     <td>
      External synchronisation control
     </td>
    </tr>
    <tr>
     <td>
      0x05
     </td>
     <td>
      GPIO_CTRL
     </td>
     <td>
      GPIO control registers
     </td>
    </tr>
    <tr>
     <td>
      0x06
     </td>
     <td>
      DRX
     </td>
     <td>
      Digital receiver tuning and configuration
     </td>
    </tr>
    <tr>
     <td>
      0x07
     </td>
     <td>
      RF_CONF
     </td>
     <td>
      Analog RF configuration
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      RF_CAL
     </td>
     <td>
      Transmitter calibration block
     </td>
    </tr>
    <tr>
     <td>
      0x09
     </td>
     <td>
      FS_CTRL
     </td>
     <td>
      Frequency synthesiser control block
     </td>
    </tr>
    <tr>
     <td>
      0x0A
     </td>
     <td>
      AON
     </td>
     <td>
      Always-On register set
     </td>
    </tr>
    <tr>
     <td>
      0x0B
     </td>
     <td>
      OTP_IF
     </td>
     <td>
      One Time Programmable memory interface
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      CIA
     </td>
     <td>
      Channel Impulse Analysis control and
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
     </td>
     <td>
      diagnostic block
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0x0F
     </td>
     <td>
      DIG_DIAG
     </td>
     <td>
      Digital diagnostics
     </td>
    </tr>
    <tr>
     <td>
      0x11
     </td>
     <td>
      PMSC
     </td>
     <td>
      Power Management System Control block
     </td>
    </tr>
    <tr>
     <td>
      0x12
     </td>
     <td>
      RX_BUFFER_0
     </td>
     <td>
      Receive data buffer
     </td>
    </tr>
    <tr>
     <td>
      0x13
     </td>
     <td>
      RX_BUFFER_1
     </td>
     <td>
      Second receive data buffer
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      TX_BUFFER
     </td>
     <td>
      Transmit data buffer
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-70-3">
   </span>
   <b>
    Table 18: Register map overview
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x15
     </td>
     <td>
      ACC_MEM
     </td>
     <td>
      Read access to Channel Impulse Response
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      data
     </td>
    </tr>
    <tr>
     <td>
      0x16
     </td>
     <td>
      SCRATCH_RAM
     </td>
     <td>
      Scratch RAM
     </td>
    </tr>
    <tr>
     <td>
      0x17
     </td>
     <td>
      AES RAM
     </td>
     <td>
      AES key RAM
     </td>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td>
      SET_1, SET_2
     </td>
     <td>
      Double buffer diagnostic sets
     </td>
    </tr>
    <tr>
     <td>
      0x1D
     </td>
     <td>
      INDIRECT_PTR_A
     </td>
     <td>
      Indirect pointer A buffer
     </td>
    </tr>
    <tr>
     <td>
      0x1E
     </td>
     <td>
      INDIRECT_PTR_B
     </td>
     <td>
      Indirect pointer B buffer
     </td>
    </tr>
    <tr>
     <td>
      0x1F
     </td>
     <td>
      IN_PTR_CFG
     </td>
     <td>
      Indirect pointer access configuration, and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      "fast" status register
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-71-0">
   </span>
   <i>
    8.2 Detailed register description
   </i>
  </h2>
  <h2>
   <b>
    Terminology
   </b>
  </h2>
  <p block-type="Text">
   Sectio
   <a href="#page-70-1">
    n 8.1
   </a>
   gives an overview of the DW3000 register set presenting all top level register file addresses in
   <a href="#page-70-2">
    Table 18.
   </a>
   This section describes in detail the contents and functionality of these register files and their subregisters in separate sub sections. In each case the row fro
   <a href="#page-70-2">
    m Table 18
   </a>
   is reproduced with a hexadecimal register ID, its length, type, mnemonic and one line description as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   This is followed by a description of the parameters within that register file. All parameters are presented  with format REG:RR:SS, where RR is register file ID (5-bits) and SS (7-bits) is the sub address. Where a  register is made up of individual bits or bit-fields these are identified with mnemonic and default values as  follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="11">
      REG:RR:SS – Mnemonic – one line description
     </th>
    </tr>
    <tr>
     <th colspan="10">
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
      <br/>
      7
      <br/>
      6
      <br/>
      5
      <br/>
      4
      <br/>
      3
      <br/>
      2
      <br/>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td colspan="11">
      <bits a="" bit-fields="" by="" identified="" mnemonic="" or="" quoted="">
      </bits>
     </td>
    </tr>
    <tr>
     <td colspan="10">
      <default are="" as="" bits="" or="" power-on-reset="" quoted="" values="">
      </default>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Then the fields or bits identified are described individually in detail.
  </p>
  <p block-type="Text">
   Because many parameters are 4-octets long, the default presentation of the register values is as a 32-bit  value. This may be sub-divided into fields of various bit widths down to single bit values. It should be noted  that when reading these values via the SPI interface the octets are output least significant octet first. Also of  note is that the indexed addressing modes allow individual octets to be accessed – a technique that may be  employed to reduce SPI traffic when only part of a register needs to be read or written to.
  </p>
  <p block-type="Text">
   <b>
    Note
   </b>
   : unused or reserved registers return 0xDEADDEAD when read. Unused or reserved bits/ bit fields  within registers return the appropriate bits / bit fields from 0xDEADDEAD.
  </p>
  <p block-type="Text">
   Each register file is described below:
  </p>
  <h2>
   <span id="page-72-1">
   </span>
   <b>
    Register file: 0x00-0x1 – General configuration registers and AES
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00 –
     </td>
     <td>
      121
     </td>
     <td>
      -
     </td>
     <td>
      GEN_CFG_AES
     </td>
     <td>
      This is the part of the main register bank and Advanced
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Encryption Standard configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register files 0x00 and 0x01 are concerned with the use of the various device configurations and AES block configuration. It contains a number of sub-registers. An overview of these is given by
   <a href="#page-72-0">
    Table 19.
   </a>
   Each of these sub-registers is separately described in the sub-sections below.
  </p>
  <h4>
   <b>
    Table 19: Register file: 0x00-0x1 –
    <a href="#page-72-1">
     General configuration registers
    </a>
    overview
   </b>
  </h4>
  <span id="page-72-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Register
     </th>
     <th>
      OFFSET
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      file ID
     </th>
     <th>
      in
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Register
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x00
     </td>
     <td>
      DEV_ID
     </td>
     <td>
      Device Identifier
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x04
     </td>
     <td>
      EUI_64
     </td>
     <td>
      Extended Unique Identifier
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x0C
     </td>
     <td>
      PANADR
     </td>
     <td>
      PAN Identifier and Short Address
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x10
     </td>
     <td>
      SYS_CFG
     </td>
     <td>
      System Configuration
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x14
     </td>
     <td>
      FF_CFG
     </td>
     <td>
      Frame Filter Configuration
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x18
     </td>
     <td>
      SPI_RD_CRC
     </td>
     <td>
      SPI CRC read status
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x1C
     </td>
     <td>
      SYS_TIME
     </td>
     <td>
      System Time Counter
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x24
     </td>
     <td>
      TX_FCTRL
     </td>
     <td>
      Transmit Frame Control
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x2C
     </td>
     <td>
      DX_TIME
     </td>
     <td>
      Delayed Send or Receive time
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x30
     </td>
     <td>
      DREF_TIME
     </td>
     <td>
      Delayed Send or Receive Reference time
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x34
     </td>
     <td>
      RX_FWTO
     </td>
     <td>
      Receive Frame Wait Timeout period
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x38
     </td>
     <td>
      SYS_CTRL
     </td>
     <td>
      System Control
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x3C
     </td>
     <td>
      SYS_ENABLE
     </td>
     <td>
      System Event Enable Mask
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x44
     </td>
     <td>
      SYS_STATUS
     </td>
     <td>
      System Event Status Register
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x4C
     </td>
     <td>
      RX_FINFO
     </td>
     <td>
      RX Frame Information
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x64
     </td>
     <td>
      RX_TIME
     </td>
     <td>
      Receive Time Stamp
     </td>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      0x74
     </td>
     <td>
      TX_TIME
     </td>
     <td>
      Transmit Time Stamp
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x00
     </td>
     <td>
      TX_RAWST
     </td>
     <td>
      Unadjusted/raw TX timestamp
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x04
     </td>
     <td>
      TX_ANTD
     </td>
     <td>
      16-bit Delay from Transmit to Antenna
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x08
     </td>
     <td>
      ACK_RESP_T
     </td>
     <td>
      Acknowledgement Time and Response Time
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x0C
     </td>
     <td>
      TX_POWER
     </td>
     <td>
      TX Power Control
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x14
     </td>
     <td>
      CHAN_CTRL
     </td>
     <td>
      Channel Control Register
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x18
     </td>
     <td>
      LE_PEND_01
     </td>
     <td>
      Low Energy device address 0 and 1
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x1C
     </td>
     <td>
      LE_PEND_23
     </td>
     <td>
      Low Energy device address 2 and 3
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x20
     </td>
     <td>
      SPI_COLLISION
     </td>
     <td>
      SPI Collision Status
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Register
     </th>
     <th>
      OFFSET
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      file ID
     </th>
     <th>
      in
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Register
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x24
     </td>
     <td>
      RDB_STATUS
     </td>
     <td>
      RX Double Buffer Status
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x28
     </td>
     <td>
      RDB_DIAG
     </td>
     <td>
      RX Double Buffer Diagnostic Configuration
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x30
     </td>
     <td>
      AES_CFG
     </td>
     <td>
      AES Configuration
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x34
     </td>
     <td>
      AES_IV0
     </td>
     <td>
      The 3rd IV word for the AES GCM/CCM* core
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x38
     </td>
     <td>
      AES_IV1
     </td>
     <td>
      The 2nd IV word for the AES GCM/CCM* core
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x3C
     </td>
     <td>
      AES_IV2
     </td>
     <td>
      The 1st IV word for the AES GCM/CCM* core
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x40
     </td>
     <td>
      AES_IV3
     </td>
     <td>
      The 4th IV word for the AES GCM/CCM* core
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x44
     </td>
     <td>
      DMA_CFG
     </td>
     <td>
      The DMA Configuration Register
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x4C
     </td>
     <td>
      AES_START
     </td>
     <td>
      Start AES operation
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x50
     </td>
     <td>
      AES_STS
     </td>
     <td>
      The AES Status
     </td>
    </tr>
    <tr>
     <td>
      0x01
     </td>
     <td>
      0x54
     </td>
     <td>
      AES_KEY
     </td>
     <td>
      The 128-bit KEY for the AES GCM/CCM* core
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-73-1">
   </span>
   <b>
    8.2.2.1 Sub-register 0x00:00 – Device Identifier
   </b>
  </h2>
  <span id="page-73-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:00
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      DEV_ID
     </td>
     <td>
      Device Identifier – includes device type and revision
      <br/>
      information
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x00 is the device identifier. This is  hard-coded into the silicon. The value in this register is read-only and cannot be overwritten by the host  system. The device ID will be changed for any silicon updates. It is expected that the host system will  validate that the device ID is the expected value, supported by its software, before proceeding to use the IC.  The
   <a href="#page-73-0">
    DEV_ID
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:00:00 – DEV_ID – Device Identifier
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      RIDTAG
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      MODEL
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      VER
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      REV
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-73-0">
    e DEV_ID
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:00 – Device Identifier
     </th>
    </tr>
    <tr>
     <td>
      REV
     </td>
     <td>
      Revision: This number will be updated for minor corrections and changes in device's
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      operation
     </td>
    </tr>
    <tr>
     <td>
      reg:00:00
      <br/>
      bits:3–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      VER
     </td>
     <td>
      Version: This number will be updated if a new version is produced that has significant
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      differences from the previous version. There are currently two versions; 0xDECA0302 and
     </td>
    </tr>
    <tr>
     <td>
      reg:00:00
     </td>
     <td>
      0xDECA0312, the non-PDoA and PDoA device respectively.
     </td>
    </tr>
    <tr>
     <td>
      bits:7–4
      <br/>
      MODEL
     </td>
     <td>
      The MODEL identifies the device type. The DW3000 is device type 0x03.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–8
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      RIDTAG
     </th>
     <th>
      Register Identification Tag. It is planned that this will remain constant for all Decawave
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      parts. The value is 0xDECA in hex.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:31–16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    For the production DW3000 the Device ID is set to 0xDECA0312 or 0xDECA0302. The register descriptions  in this user manual relate to that DW3000 device and are not valid for any earlier sample parts.
   </b>
  </p>
  <h3>
   <span id="page-74-0">
   </span>
   <b>
    8.2.2.2 Sub-register 0x00:04 – Extended Unique Identifier
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:04
     </td>
     <td>
      8
     </td>
     <td>
      RW
     </td>
     <td>
      EUI_64
     </td>
     <td>
      Extended Unique Identifier – the 64-bit IEEE device address
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-74-1">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x04 of register file 0x00 is the  Extended Unique Identifier register. For IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   compliance every device should have a  unique 64-bit device identifier. The high-order 24-bits of the EUI are a
   <i>
    company identifier
   </i>
   assigned by the  IEEE Registration Authority, (se
   <a href="http://standards.ieee.org/develop/regauth/oui/">
    e http://standards.ieee.org/develop/regauth/oui/)
   </a>
   , to the manufacturer. The  low 40-bits of the EUI are the
   <i>
    extension identifier
   </i>
   uniquely chosen by the manufacturer for each device  manufactured and never repeated. The resultant EUI is a globally unique identifier. It is expected that  manufacturers who need to comply with this requirement will register with the IEEE Registration Authority  and generate and maintain their own EUI
   <i>
    extension identifier
   </i>
   numbering space to ensure its uniqueness for every device made.
  </p>
  <p block-type="Text">
   Manufacturers may store the EUI externally to the DW3000 or as an alternative the DW3000 has a one-timeprogrammable memory area that may be programmed with the EUI during product manufacturing. Please  refer to section
   <i>
    <a href="#page-66-1">
     7.3
    </a>
    –
    <a href="#page-66-1">
     Using the on-chip OTP
    </a>
    memory
   </i>
   for details of programming values into OTP.
  </p>
  <p block-type="Text">
   If needed the host can read the value from the OTP and program it into this EUI register.
  </p>
  <p block-type="Text">
   Certain IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   defined frames use a 64-bit source address. The software (MAC)  generating such frames is expected to insert the EUI within the frame before the frame is written to the  DW3000's transmit buffer.
  </p>
  <p block-type="Text">
   The EUI register is used by the Receive Frame Filtering function, see sectio
   <a href="#page-50-1">
    n 5.4
   </a>
   details. When frame filtering  is operational the DW3000 decodes each received frame according to the IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   MAC  rules and any 64-bit destination address present must match the EUI register before the frame will be  accepted.
  </p>
  <p block-type="Text">
   The 8-octets of the Extended Unique Identifier may be accessed as a single 8-octet access to the EUI register  file starting at index 0. The bytes of the EUI are output/input in the following order:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:00:04 – EUI – Extended Unique Identifier
     </th>
    </tr>
    <tr>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th colspan="8">
      Octet Index
      <br/>
      Description
     </th>
    </tr>
    <tr>
     <td colspan="7">
      0xHH
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td colspan="7">
      Bits 7 to 0 of the extension identifier
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0xHH
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td colspan="6">
      Bits 15 to 8 of the extension identifier
     </td>
    </tr>
    <tr>
     <td colspan="8">
      0xHH
     </td>
     <td>
      2
     </td>
     <td colspan="6">
      Bits 23 to 16 of the extension identifier
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td colspan="4">
      0xHH
      <br/>
      3
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="6">
      Bits 31 to 24 of the extension identifier
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      0xHH
     </th>
     <th>
      4
     </th>
     <th>
      Bits 39 to 32 of the extension identifier
     </th>
    </tr>
    <tr>
     <td>
      0xNN
     </td>
     <td>
      5
     </td>
     <td>
      Bits 7 to 0 of the OUI (manufacturer company ID)
     </td>
    </tr>
    <tr>
     <td>
      0xNN
     </td>
     <td>
      6
     </td>
     <td>
      Bits 15 to 8 of the OUI (manufacturer company ID)
     </td>
    </tr>
    <tr>
     <td>
      0xNN
     </td>
     <td>
      7
     </td>
     <td>
      Bits 23 to 16 of the OUI (manufacturer company ID)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The ordering of octets read from the Extended Unique Identifier register is designed to be directly  compatible with the octet ordering of the 64-bit source address fields of IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   MAC  frames easing the task of inserting it into a frame for transmission.
  </p>
  <h3>
   <span id="page-75-1">
   </span>
   <b>
    8.2.2.3 Sub-register 0x00:0C – PAN Identifier and Short Address
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:0C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      PANADR
     </td>
     <td>
      PAN Identifier and Short Address
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-75-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x0C of register file 0x00 contains two  16-bit parameters, the
   <i>
    PAN Identifier
   </i>
   and the
   <i>
    Short Address
   </i>
   . When the DW3000 is powered up or reset both  the PAN Identifier and the Short Address in this register are reset to the value 0xFFFF. The host software  (MAC) should program the appropriate values into this register if it wishes to use the DW3000's receive  frame filtering or automatic acknowledgement generation functions.
  </p>
  <p block-type="Text">
   In an IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   personal area network (PAN), the PAN coordinator node determines the PAN Identifier for the network, and assigns it and short 16-bit addresses to devices (nodes) associating with the  PAN. The nodes in the PAN then should (at the MAC layer) use their assigned short address as the source  address and include it along with the PAN Identifier in the frames they transmit. When a node receives a  frame it should only process those with a destination address and PAN Identifier which matches their  assigned node address and network ID.
  </p>
  <p block-type="Text">
   When the receive frame filtering and automatic acknowledgement functionality is operational the DW3000 decodes each received frame according to the IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   MAC specification and when it  determines that a 16-bit destination address is present in the frame, the DW3000 will compare the destination address with the short address value programmed in this register before  accepting/acknowledging the frame, and will similarly only accept received frames when the PAN Identifier  in the frame matches the PAN Identifier programmed in this register. See section
   <a href="#page-50-1">
    s 5.4
   </a>
   an
   <a href="#page-52-0">
    d 5.5
   </a>
   for details of  the frame filtering and automatic acknowledgement functionality.
  </p>
  <p block-type="Text">
   The
   <a href="#page-75-0">
    PANADR
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="14">
      REG:00:0C –PANADR – PAN Identifier and Short Address
     </th>
    </tr>
    <tr>
     <td colspan="9">
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td colspan="10">
      PAN_ID
     </td>
     <td>
     </td>
     <td colspan="10">
      SHORTADDR
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td colspan="11">
      0xFFFF
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0xFFFF
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The host software (MAC) only needs to program this register if it is using the DW3000's receive frame  filtering and automatic acknowledgement generation functions. The sub-fields are:
  </p>
  <span id="page-76-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:0C – PAN Identifier and Short Address
     </th>
    </tr>
    <tr>
     <td>
      SHORTADDR
     </td>
     <td>
      Short Address. The host software needs to program this register if it is using the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      DW3000's receive frame filtering functionality, with or without the automatic
     </td>
    </tr>
    <tr>
     <td>
      reg:00:0C
      <br/>
      bits:15–0
     </td>
     <td>
      acknowledgement generation function. The short address is typically assigned to a node
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by the coordinator function at MAC (or higher) layer as part of network association. The
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      value may alternatively be pre-defined in a closed network where the network association
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      phase is being skipped.
     </td>
    </tr>
    <tr>
     <td>
      PAN_ID
     </td>
     <td>
      PAN Identifier. The host software needs to program this register if it is using the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      DW3000's receive frame filtering functionality, with or without the automatic
     </td>
    </tr>
    <tr>
     <td>
      reg:00:0C
      <br/>
      bits:31–16
     </td>
     <td>
      acknowledgement generation function. The PAN ID is typically assigned as part of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      network association. A predefined PAN ID might be used in a closed network where the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      network association phase is being skipped.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-76-3">
   </span>
   <span id="page-76-1">
   </span>
   <b>
    8.2.2.4 Sub-register 0x00:10 – System configuration
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:10
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      SYS_CFG
     </td>
     <td>
      System configuration bitmap
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-76-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x10 of register file 0x00 is the system  configuration register. This is a bitmapped register. Each bit field is separately identified and described  below. The
   <a href="#page-76-0">
    SYS_CFG
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:00:10 – SYS_CFG – System configuration bit map
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      FAST_AAT
     </td>
     <td>
     </td>
     <td>
      MODE
      <br/>
      PDOA_
     </td>
     <td>
      CP_SDC
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      CP_SPC
     </td>
     <td>
      _ACK
      <br/>
      AUTO
     </td>
     <td>
      RXAUTR
     </td>
     <td>
      WTOE
      <br/>
      RX
     </td>
     <td>
      CIA_STS
     </td>
     <td>
      CIA_IPATOV
     </td>
     <td>
      SPI_CRCEN
     </td>
     <td>
      M8
      <br/>
      PHR_6
     </td>
     <td>
      PHR_MODE
     </td>
     <td>
      DIS_DRXB
     </td>
     <td>
      DIS_FCE
     </td>
     <td>
      X
      <br/>
      DIS_FCS_T
     </td>
     <td>
      FFEN
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-76-0">
    e SYS_CFG
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-76-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:10 – System configuration
     </th>
    </tr>
    <tr>
     <td>
      FFEN
     </td>
     <td>
      Frame Filtering Enable. This bit enables the frame filtering functionality in the DW3000
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      receiver. The frame filtering is designed to follow the rules defined in the IEEE802.15.4
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:0
     </td>
     <td>
      standard [1]. When frame filtering is enabled receive frames must pass the frame
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      filtering rules before being considered as a good frame. This includes the destination
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      address matching the PAN_ID and SHORTADDR as defined in Sub-register 0x00:0C – PAN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Identifier and Short Address, or the long 64-bit defined by Sub-register 0x00:04 –
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Extended Unique Identifier. These addresses and the other frame filtering control bits of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x00:14 – Frame filter configuration should be configured correctly before
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      enabling frame filtering with this FFEN bit. Section 5.4 describes frame filtering in more
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      detail.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-77-4">
  </span>
  <span id="page-77-3">
  </span>
  <span id="page-77-2">
  </span>
  <span id="page-77-1">
  </span>
  <span id="page-77-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:10 – System configuration
     </th>
    </tr>
    <tr>
     <td>
      DIS_FCS_TX
     </td>
     <td>
      Disable auto-FCS Transmission. If this bit is not set then the DW3000 automatically
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      calculates and appends the two Frame-Check-Sequence bytes at the end of each
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
      transmitted frame (packet configurations 0, 1,and 2, see Figure 13: Packet formats).
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
      Normally DIS_FCS_TX is not set and when transmission is started the DW3000 calculates
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the FCS on the octets fetched from the TX buffer, and automatically appends the two
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      byte FCS sequence at the end of the frame. The FCS sequence follows the IEEE802.15.4
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      standard [1] polynomial, x16 + x12 + x5 + 1, also known as CRC-16-CCITT or CRC-16 ITU-T.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When DIS_FCS_TX is set the DW3000 will not append the FCS to the data frame but
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      instead fetches the two bytes from the TX buffer. The frame length is determined by the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      TXFLEN field of Sub-register 0x00:24 – Transmit frame control. Thus, when DIS_FCS_TX is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      clear, TXFLEN -2 (frame length minus two) octets are fetched and sent from the TX
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      buffer, and the final two octets sent are the automatically generated FCS bytes. And,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      when DIS_FCS_TX is set, TXFLEN (frame length) octets are sent from the TX buffer.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      DIS_FCS_TX may be of use if a non-standard IEEE802.15.4 [1] frame protocol is being
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      employed, and can also be of use to induce a FCS error in the remote receiver during
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      testing.
     </td>
    </tr>
    <tr>
     <td>
      DIS_FCE
     </td>
     <td>
      Disable frame check error handling. This might be of use for protocols using a different
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      encoding scheme for error handling not based on one defined in IEEE802.15.4 standard
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
      [1], but for normal IEEE802.15.4 operation this bit should be set to zero. Setting this bit
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      to one makes the DW3000 treat the frame as valid, ignoring errors in the CRC frame
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      check sequence.
     </td>
    </tr>
    <tr>
     <td>
      DIS_DRXB
     </td>
     <td>
      Disable Double RX Buffer. The DW3000 has a double buffered receiver allowing reception
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      of a new frame to proceed in one buffer while the host processor is in the process of
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:3
     </td>
     <td>
      unloading the last frame received into the other buffer of the buffer pair. The double
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      buffering is enabled when DIS_DRXB is set to 0, and disabled when DIS_DRXB is set to 1.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      More details on the operation of double buffering are given in section 4.4.
     </td>
    </tr>
    <tr>
     <td>
      PHR_MODE
     </td>
     <td>
      This configuration allows selection of PHR type to be one of two options. The default
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      setting gives IEEE 802.15.4 standard [1] PHR encoding and a maximum data payload of
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:4
     </td>
     <td>
      127 octets. The other option enables the long frames mode which allows a data payload
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      of up to 1023 octets. In the latter mode the PHR encoding does not follow the IEEE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      802.15.4 standard but instead matches an encoding defined in the IEEE 802.15.8
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      standard. For successful communications between two nodes both must be configured
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      for the same PHR mode. Supported PHR_MODE configurations are:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0 – Standard Frame mode as per IEEE802.15.4 standard [1].
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      1 – Long Frame mode encoding as per IEEE802.15.8 standard [4], 0-1023.
     </td>
    </tr>
    <tr>
     <td>
      PHR_6M8
     </td>
     <td>
      This configuration sets the PHR rate to match the data rate when 6.81 Mb/s data rate is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      used. If this is set to 0, then the PHR will be sent at 850 kb/s. This bit is ignored if other
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
      data rate (i.e. 850 kb/s) is selected.
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      SPI_CRCEN
     </td>
     <td>
      Enable SPI CRC functionality. When this bit is set it enables a Cyclic Redundancy Check for
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
      SPI read and write transactions, where SPI write access are assumed to have a CRC byte
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
      appended that the IC automatically checks and flags any mismatch (error) in the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      SPICRCERR, event status bit, and SPI read accesses have a CRC computed internally and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      available in the SPI_RD_CRC register. The host can then check it against the one it
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      calculates for the read data.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For more details please refer to see § 2.3.1.3 – SPI CRC mode
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-78-2">
  </span>
  <span id="page-78-1">
  </span>
  <span id="page-78-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:10 – System configuration
     </th>
    </tr>
    <tr>
     <td>
      CIA_IPATOV
      <br/>
      reg:00:10
      <br/>
      bit:7
     </td>
     <td>
      Select CIA processing of the preamble CIR. When CIA_IPATOV is 1 (default) it configures
      <br/>
      the CIA algorithm to analyse the preamble CIR and compute an RX timestamp estimate
      <br/>
      from it. Upon receipt of a packet, the CIA will be automatically run, assuming CIARUNE in
      <br/>
      Sub-register 0x11:08 – Sequencing control is set to 1 (default). This CIA analysis is started
      <br/>
      upon SFD detection unless an STS is expected, see § 6 – Secure ranging / timestamping, in
      <br/>
      which case this processing is delayed until after the STS has been received.
      <br/>
      When
      <br/>
      CIA_IPATOV is 0, the CIA algorithm will not run on the preamble CIR. This might be done
      <br/>
      to save power or processing time when using the STS. If CIARUNE is 0, the CIA_RUN bit, in
      <br/>
      the DIAG_TMC register, may be used to run the CIA after the packet is received.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The RX timestamp estimate resulting from running the CIA on the preamble CIR is written
      <br/>
      to the IP_TOA field in Sub-register 0x0C:00 – Preamble receive time stamp and status,
      <br/>
      and also to the RX_STAMP field in Sub-register 0x00:64 – Receive time stamp but in
      <br/>
      packet configurations containing an STS, (and when CIA_STS is set), this RX_STAMP value
      <br/>
      in may be overwritten by the STS based RX timestamp estimate.
     </td>
    </tr>
    <tr>
     <td>
      CIA_STS
      <br/>
      reg:00:10
      <br/>
      bit:8
     </td>
     <td>
      Select CIA processing of the STS CIR. For more details of this see § 6 – Secure ranging /
      <br/>
      timestamping. This CIA_STS configuration bit applies when STS is included in the packet
      <br/>
      as configured via the CP_SPC configuration. In that case when CIA_STS is 1 (default) it
      <br/>
      configures the CIA algorithm to analyse the STS CIR and compute an RX timestamp
      <br/>
      estimate from it. Upon receipt of a packet, the CIA will be automatically run, assuming
      <br/>
      CIARUNE in Sub-register 0x11:08 – Sequencing control is set to 1 (default). This will occur
      <br/>
      after the STS part of the packet has been received and after the CIA has finished analysis
      <br/>
      of the preamble sequence based CIR if this is enabled by the CIA_IPATOV configuration bit
      <br/>
      above. When CIA_STS is 0, the CIA will not analyse the STS CIR. If CIARUNE is 0, the
      <br/>
      CIA_RUN bit, in DIAG_TMC register, may be used to run the CIA after the packet is
      <br/>
      received.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The RX timestamp estimate resulting from running the CIA on the STS CIR is written to
      <br/>
      the STS_TOA field in Sub-register 0x0C:08 – STS receive time stamp and status, and also
      <br/>
      to the RX_STAMP field in Sub-register 0x00:64 – Receive time stamp.
     </td>
    </tr>
    <tr>
     <td>
      RXWTOE
      <br/>
      reg:00:10
      <br/>
      bit:9
     </td>
     <td>
      Receive Wait Timeout Enable. When set RX Enable will initialise an RX_FWTO down count
      <br/>
      which will disable the receiver if no valid frame is received before the timeout occurs. The
      <br/>
      timeout period is set in Sub-register 0x00:34 – Receive frame wait timeout period. The
      <br/>
      occurrence of the timeout is signalled by the RXFTO event status bit in Sub-register 0x00:44
      <br/>
      – System event status.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-79-5">
  </span>
  <span id="page-79-4">
  </span>
  <span id="page-79-3">
  </span>
  <span id="page-79-2">
  </span>
  <span id="page-79-1">
  </span>
  <span id="page-79-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:10 – System configuration
     </th>
    </tr>
    <tr>
     <td>
      RXAUTR
     </td>
     <td>
      Receiver Auto-Re-enable. This bit is used to cause the receiver to re-enable
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      automatically. Its operation changes depending on whether the IC is operating in single
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:10
     </td>
     <td>
      or double buffered modes. The default value is 0. With this setting, the IC will not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      automatically re-enable the receiver but will stop receiving and return to idle mode
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      whenever any receive events happen. This includes receiving a frame but also failing to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      receive a frame because of some error condition, for example an error in the PHY header
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (as reported by the RXPHE event status bit in Sub-register 0x00:44 – System event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      status). In such cases if the host wants to re-enable the receiver it must do it explicitly,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      using CMD_RX command. The operation when RXAUTR = 1 is as follows:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (a) Double-buffered mode: Not supported, double buffer mode must be used with this
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      set to 0.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (b) Single-buffered mode: After a frame reception failure (except a frame wait timeout),
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the receiver will re-enable to re-attempt reception.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For more information on reception see section 4 Message reception.
     </td>
    </tr>
    <tr>
     <td>
      AUTO_ACK
     </td>
     <td>
      Automatic Acknowledgement Enable. Default value 0. This is the enable for the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      automatic acknowledgement function. See section 5.5 Automatic acknowledgement for
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:11
     </td>
     <td>
      details of this operation.
     </td>
    </tr>
    <tr>
     <td>
      CP_SPC
     </td>
     <td>
      STS packet configuration. This field applies to both transmitter and receiver. The IC
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      supports four different STS packet configuration formats (as shown in Figure 13):
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bits:13-12
     </td>
     <td>
      0: SP0 – No STS in the packet
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      1: SP1 – The STS is between the SDF and the PHR.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      2: SP2 – The STS is after the data, (i.e. at the end of the packet).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      3: SP3 – The STS is after the SDF but there is no PHR or data.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For more details on the STS please refer to § 6 – Secure ranging / timestamping and also
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      § 3.1 Basic transmission.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      N.B. When CP_SPC is 2, for correct operation it is required that the data length is non
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      zero. This parameter must be set before CP_LOADIV is asserted.
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      This bit is reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:14
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CP_SDC
     </td>
     <td>
      This bit, when set, configures the Super Deterministic Code (SDC) mode. If RX timestamp
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      security is not a concern, then overhead of key management and counter control is
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bit:15
     </td>
     <td>
      undesirable. For this reason, the DW3000 includes a special STS mode that uses a code
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      optimized for ToA performance. When this is set the STS KEY/IV values are ignored. The
      <br/>
      STS generation is using a pre-programmed sequence in the transmitter and the receiver.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When this bit is clear, standard IEEE 802.15.4z counter mode is used.
     </td>
    </tr>
    <tr>
     <td>
      PDOA_MODE
     </td>
     <td>
      PDoA mode is configured with this setting:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0: this disables the PDoA operation in the DW3000 receiver
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
      <br/>
      bits:17-16
     </td>
     <td>
      0x1: this configures the receiver for PDoA Mode 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x2: this configuration is reserved/not supported
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3: this configures the receiver for PDoA Mode 3
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      These are further described in 4.2 TDoA and PDoA support
     </td>
    </tr>
    <tr>
     <td>
      FAST_AAT
     </td>
     <td>
      Enable fast RX to TX turn around mode. When this bit is set the receiver will not wait for
      <br/>
      CIADONE before it signals end of reception (RXFR). The host can then start processing the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
      received frame. If AUTO_ACK has been configured the AAT bit will also be set to signal ACK
     </td>
    </tr>
    <tr>
     <td>
      bit:18
     </td>
     <td>
      is being sent, assuming it has been requested and other frame filtering rules pass.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:10 – System configuration
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:31-19
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-80-1">
   </span>
   <b>
    8.2.2.5 Sub-register 0x00:14 – Frame filter configuration
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:14
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      FF_CFG
     </td>
     <td>
      Frame filter configuration bitmap
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-80-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x14 of register file 0x00 is the  IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   MAC frame address filter configuration register. This is a bitmapped register. Each  bit field is separately identified and described below. The
   <a href="#page-80-0">
    FF_CFG
   </a>
   register contains the following bitmapped  sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="14">
      REG:00:14 – FF_CFG – Frame Filter Configuration bit map
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      LSADRAPE
     </th>
     <th>
      SSADRAPE
     </th>
     <th>
      LE3_PEND
     </th>
     <th>
      LE2_PEND
     </th>
     <th>
      LE1_PEND
     </th>
     <th>
      LE0_PEND
     </th>
     <th>
      FFIB
     </th>
     <th>
      FFBC
     </th>
     <th>
      FFAE
     </th>
     <th>
      FFAF
     </th>
     <th>
      MULTI
      <br/>
      FFA
     </th>
     <th>
      R
      <br/>
      FFA
     </th>
     <th>
      M
      <br/>
      FFA
     </th>
     <th>
      A
      <br/>
      FFA
     </th>
     <th>
      FFAD
     </th>
     <th>
      FFAB
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    Note: For any of these bits to apply
    <a href="#page-76-2">
     FFEN
    </a>
    bit i
    <a href="#page-76-0">
     n SYS_CFG
    </a>
    must also be set.
   </b>
  </h3>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-80-0">
    FF_CFG
   </a>
   bitmap: -
  </p>
  <span id="page-80-4">
  </span>
  <span id="page-80-3">
  </span>
  <span id="page-80-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:14 – Frame filter configuration
     </th>
    </tr>
    <tr>
     <td>
      FFAB
     </td>
     <td>
      Frame Filtering Allow Beacon frame reception. IEEE802.15.4 standard [1]. Frames begin
     </td>
    </tr>
    <tr>
     <td>
      reg:00:14
     </td>
     <td>
      with three bits, indicating the frame type, b3 to b0. For beacon frames these are binary
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
      000. When FFAB is set to 1 beacon frames will be accepted (assuming all other frame
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      filtering rules are passed) and when FFAB is clear beacon frames will be ignored. Section
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      5.4 describes frame filtering in detail.
     </td>
    </tr>
    <tr>
     <td>
      FFAD
     </td>
     <td>
      Frame Filtering Allow Data frame reception. IEEE802.15.4 standard [1] frames begin with
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      three bits, indicating the frame type, b3 to b0. For data frames these are binary 001.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:14
     </td>
     <td>
      When FFAD is set to 1 data frames will be accepted (assuming all other frame filtering
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
      rules are passed) and when FFAD is clear data frames will be ignored. Section 5.4
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      describes frame filtering in more detail.
     </td>
    </tr>
    <tr>
     <td>
      FFAA
     </td>
     <td>
      Frame Filtering Allow Acknowledgment frame reception. IEEE802.15.4 standard [1]
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      frames begin with three bits, indicating the frame type, b3 to b0. For acknowledgment
     </td>
    </tr>
    <tr>
     <td>
      reg:00:14
     </td>
     <td>
      frames these are binary 010. When FFAA is set to 1 acknowledgment frames will be
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      accepted (assuming all other frame filtering rules are passed) and when FFAA is clear
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      acknowledgment frames will be ignored. Section 5.4 describes frame filtering in more
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      detail.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-81-3">
  </span>
  <span id="page-81-2">
  </span>
  <span id="page-81-1">
  </span>
  <span id="page-81-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:14 – Frame filter configuration
     </th>
    </tr>
    <tr>
     <th>
      FFAM
     </th>
     <th>
      Frame Filtering Allow MAC command frame reception. IEEE802.15.4 standard [1] frames
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      begin with three bits, indicating the frame type, b3 to b0. For MAC command frames
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      these are binary 011. When FFAM is set to 1 MAC command frames will be accepted
     </th>
    </tr>
    <tr>
     <th>
      bit:3
     </th>
     <th>
      (assuming all other frame filtering rules are passed) and when FFAM is clear MAC
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      command frames will be ignored. Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      FFAR
     </th>
     <th>
      Frame Filtering Allow Reserved frame types. IEEE802.15.4 standard [1] frames begin with
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      three bits, indicating the frame type, b3 to b0. For reserved frames these are binary 100
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      and would normally be rejected. When FFAR is set to 1 these frames are accepted. Since
     </th>
    </tr>
    <tr>
     <th>
      bit:4
     </th>
     <th>
      these frame types are unknown no further frame decoding is done (e.g. no address
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      matching etc.) and the software will thus be responsible for validating and interpreting
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      these frames. Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note that the frame filter does decode the frame control fields to determine the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      minimum length of the expected frame and will reject the frame if it is too short, see
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      section 5.4.
     </th>
    </tr>
    <tr>
     <th>
      FFAMULTI
     </th>
     <th>
      Frame Filtering Allow Multipurpose frames. IEEE802.15.4 standard [1] frames begin with
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      three bits, indicating the frame type, b3 to b0. For the multipurpose frames these are
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      binary 101. When FFAMULTI is set to 1 these frames are accepted. When FFAMULTI is set
     </th>
    </tr>
    <tr>
     <th>
      bit:5
     </th>
     <th>
      to 0, they will be ignored. Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note that the frame filter does decode the frame control fields to determine the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      minimum length of the expected frame and will reject the frame if it is too short, see
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      section 5.4.
     </th>
    </tr>
    <tr>
     <th>
      FFAF
     </th>
     <th>
      Frame Filtering Allow Fragmented/Frack frames. IEEE802.15.4 standard [1] frames begin
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      with three bits, indicating the frame type, b3 to b0. For the fragmented type these are
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
      <br/>
      bit:6
     </th>
     <th>
      binary 110. When FFAF is set to 1 these frames are accepted. When FFAF is set to 0, they
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      will be ignored. Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note that the frame filter does decode the frame control fields to determine the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      minimum length of the expected frame and will reject the frame if it is too short, see
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      section 5.4.
     </th>
    </tr>
    <tr>
     <th>
      FFAE
     </th>
     <th>
      Frame Filtering Allow Extended frames. IEEE802.15.4 standard [1] frames begin with
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      three bits, indicating the frame type, b3 to b0. For the extended frames these are binary
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
      <br/>
      bit:7
     </th>
     <th>
      111. When FFAE is set to 1 these frames are accepted. When FFAE is set to 0, they will be
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      ignored. Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note that the frame filter does decode the frame control fields to determine the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      minimum length of the expected frame and will reject the frame if it is too short, see
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      section 5.4.
     </th>
    </tr>
    <tr>
     <th>
      FFBC
     </th>
     <th>
      Frame Filtering Behave as PAN Coordinator. When this bit is set (to 1) the device behaves
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      as a PAN coordinator, which means that it will accept frames with only source addressing
     </th>
    </tr>
    <tr>
     <th>
      bit:8
     </th>
     <th>
      fields and:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      a)
      <br/>
      Source PAN ID must match PAN_ID set, for MAC and data frame types
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      b)
      <br/>
      Destination PAN ID must match PAN_ID set, for Multipurpose frame type
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      FFIB
     </th>
     <th>
      Frame Filtering allow MAC Implicit Broadcast. If this bit is not set (set to 0), then the
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      destination addressing (PAN ID and destination address fields, as appropriate, in the
     </th>
    </tr>
    <tr>
     <th>
      bit:9
     </th>
     <th>
      received frame, if present) must either be set to broadcast (0xFFFF) or specific destination
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      address, otherwise the frame will be rejected. If this bit is set to 1, then frames without
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      destination PAN ID and destination address are treated as though they are addressed to
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      the broadcast PAN ID and broadcast short (16-bit) address.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-82-3">
  </span>
  <span id="page-82-2">
  </span>
  <span id="page-82-1">
  </span>
  <span id="page-82-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:14 – Frame filter configuration
     </th>
    </tr>
    <tr>
     <th>
      LE0_PEND
     </th>
     <th>
      Data pending for device at LE0 address
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When this is set and the source address of a received MAC command Data Request frame
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      matches the address set in LE_ADDR0 in LE_PEND_01 register, the automatically
     </th>
    </tr>
    <tr>
     <th>
      bit:10
     </th>
     <th>
      transmitted ACK will have PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      LE1_PEND
     </th>
     <th>
      Data pending for device at LE1 address
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When this is set and the source address of a received MAC command Data Request frame
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      matches the address set in LE_ADDR1 in LE_PEND_01 register, the automatically
     </th>
    </tr>
    <tr>
     <th>
      bit:11
     </th>
     <th>
      transmitted ACK will have PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      LE2_PEND
     </th>
     <th>
      Data pending for device at LE2 address
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When this is set and the source address of a received MAC command Data Request frame
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
      <br/>
      bit:12
     </th>
     <th>
      matches the address set in LE_ADDR2 in LE_PEND_23 register, the automatically
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      transmitted ACK will have PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      LE3_PEND
     </th>
     <th>
      Data pending for device at LE3 address
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When this is set and the source address of a received MAC command Data Request frame
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
      <br/>
      bit:13
     </th>
     <th>
      matches the address set in LE_ADDR3 in LE_PEND_23 register, the automatically
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      transmitted ACK will have PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      SSADRAPE
     </th>
     <th>
      Short Source Address Data Request ACK with PEND Enable.
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      Setting this bit to 1 means that auto-ACK that is sent as a reply to any MAC command
     </th>
    </tr>
    <tr>
     <th>
      bit:14
     </th>
     <th>
      Data Request coming from any node with a short (16-bit) source address will have the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Setting this bit to 0, means that an auto-ACK to a MAC command from a node with short
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      source address will have the PEND bit set if and only if the address matches one of the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      four 16-bit addresses programmed in LE_PEND_01 and LE_PEND_23 registers and a
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      matching bit in LE0_PEND, LE1_PEND, LE2_PEND and LE3_PEND.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
    <tr>
     <th>
      LSADRAPE
     </th>
     <th>
      Long Source Address Data Request ACK with PEND Enable
     </th>
    </tr>
    <tr>
     <th>
      reg:00:14
     </th>
     <th>
      Setting this bit to 1 means that auto-ACK that is sent as a reply to any MAC command
     </th>
    </tr>
    <tr>
     <th>
      bit:15
     </th>
     <th>
      Data Request coming from any node with a long (64-bit) source address will have the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Setting this bit to 0, means that an auto-ACK to a MAC command from a node with long
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      source address will not have the PEND bit set.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      in FF_CFG must also be configured.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Section 5.4 describes frame filtering in more detail.
     </th>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-83-1">
   </span>
   <b>
    8.2.2.6 Sub-register 0x00:18 – SPI CRC read status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:18
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      SPI_RD_CRC
     </td>
     <td>
      SPI CRC read status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-83-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x18 of register file 0x00 is the status  register for the SPI read CRC value of the SPI CRC function. This is the CRC value resulting from each SPI read  when SPI CRC mode is enabled via the
   <a href="#page-77-0">
    SPI_CRCEN
   </a>
   bit in
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   . For  more details of SPI CRC operation please refer to §
   <i>
    <a href="#page-14-1">
     2.3.1.3
    </a>
    –
    <a href="#page-14-1">
     SPI CRC mode
    </a>
   </i>
   .
  </p>
  <h4>
   <span id="page-83-5">
   </span>
   <b>
    8.2.2.7 Sub-register 0x00:1C – System time counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:1C
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      SYS_TIME
     </td>
     <td>
      System time counter (32-bit)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-83-4">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x1C of register file 0x00 is the System  Time Counter register. The device's system time and time stamps are designed to be based on the time  units which are nominally at 64 GHz, or more precisely 499.2 MHz × 128 = 63.8976 GHz.
  </p>
  <p block-type="Text">
   The
   <a href="#page-83-4">
    SYS_TIME
   </a>
   register only counts in the
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   ,
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   and
   <b>
    <a href="#page-19-1">
     TX
    </a>
   </b>
   states (were the digital PLL enabled), and it  only contains the 32 most significant bits of the device's system time. In all other states the system time  counter is disabled and this register is not updated. When it is active the
   <a href="#page-83-4">
    SYS_TIME
   </a>
   register is incremented  at a rate of 125 MHz and in units of 2. The least significant bit o
   <a href="#page-83-4">
    f SYS_TIME
   </a>
   is always zero. The internal  device's counter wrap period is 2
   <sup>
    40
   </sup>
   ÷ (128×499.2 MHz) = 17.2074 seconds.
  </p>
  <p block-type="Text">
   <b>
    Note: once this register is read the system time value is latched and any subsequent read will return the  same value. To clear the current value in the register an SPI write transaction is necessary, the following  read of the SYS_TIME register will return a new value.
   </b>
  </p>
  <h4>
   <span id="page-83-3">
   </span>
   <b>
    8.2.2.8 Sub-register 0x00:24 – Transmit frame control
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:24
     </td>
     <td>
      6
     </td>
     <td>
      RW
     </td>
     <td>
      TX_FCTRL
     </td>
     <td>
      Transmit frame control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-83-2">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x24 of register file 0x00, the transmit  frame control register, contains a number of TX control fields. Each field is separately identified and  described below. (For a general discussion of transmission please refer to section
   <a href="#page-32-0">
    3
   </a>
   <a href="#page-32-0">
    Message transmission)
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:00:24 – TX_FCTRL – Transmit frame control (Octets 0 to 3, 32-bits)
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      11
     </td>
     <td>
      10 9
     </td>
     <td>
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="5">
      -
      <br/>
      TXB_OFFSET
     </td>
     <td colspan="4">
      TXPSR
     </td>
     <td>
      TR
     </td>
     <td>
      TX
     </td>
     <td colspan="6">
      TXFLEN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      BR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:00:28 – TX_FCTRL – Transmit frame control (Octets 4 to 5, 16-bits)
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      14
     </th>
     <th>
      13
     </th>
     <th>
      12
     </th>
     <th>
      11
     </th>
     <th>
      10
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th colspan="7">
      FINE_PLEN
     </th>
     <th>
     </th>
     <th colspan="8">
      -
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-83-2">
    e TX_FCTRL
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-84-1">
  </span>
  <span id="page-84-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:24 – Transmit frame control
     </th>
    </tr>
    <tr>
     <td>
      TXFLEN
      <br/>
      reg:00:24
      <br/>
      bits:9–0
     </td>
     <td>
      Transmit Frame Length. The DW3000 supports frame lengths up to 1023 bytes.
      <br/>
      IEEE802.15.4 standard [1] frames can be up to 127 bytes long. The extended frame mode is
      <br/>
      enabled via the PHR_MODE selection bits of Sub-register 0x00:10 – System configuration,
      <br/>
      please refer to § 3.4 –Extended length data frames for more details of this IEEE802.15.8
      <br/>
      standard [4] mode. The value specified by TXFLEN determines the length of the data
      <br/>
      portion of the transmitted frame. This length includes the two-octet CRC appended
      <br/>
      automatically at the end of the frame, unless DIS_FCS_TX (in Sub-register 0x00:10 – System
      <br/>
      configuration) is use to suppress the FCS. The frame length is also copied into the PHY
      <br/>
      Header so that the receiving device knows how much data to decode.
     </td>
    </tr>
    <tr>
     <td>
      TXBR
      <br/>
      reg:00:24
      <br/>
      bit:10
     </td>
     <td>
      Transmit Bit Rate. This sets the bit rate for the data portion of the packet, if it is set to 0 the
      <br/>
      data is sent at 850 kb/s and if set to 1 at 6.81 Mb/s.
     </td>
    </tr>
    <tr>
     <td>
      TR
      <br/>
      reg:00:24
      <br/>
      bit: 11
     </td>
     <td>
      Transmit Ranging enable. This bit has no operational effect on the DW3000; however it is
      <br/>
      copied into the ranging bit in the PHY header (PHR) of the transmitted packet, identifying it
      <br/>
      as a ranging frame. In some receiver implementations this may be used to enable
      <br/>
      hardware or software associated with time-stamping the frame. In the DW3000 receiver
      <br/>
      the time-stamping does not depend or use the ranging bit in the received PHR.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-85-1">
  </span>
  <span id="page-85-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="13">
      Description of fields within Sub-register 0x00:24 – Transmit frame control
     </th>
    </tr>
    <tr>
     <td>
      TXPSR
      <br/>
      reg:00:24
      <br/>
      bits:15-12
     </td>
     <td colspan="12">
      Transmit Preamble Symbol Repetitions (PSR). This sets the length of the transmitted
      <br/>
      preamble sequence in symbols. Each preamble symbol is approximately 1 µs in
      <br/>
      duration3
      <br/>
      .The two TXPSR bits are copied into the PHY Header. The receiving end is thus
      <br/>
      made aware of how much preamble was sent. This might inform its choice of preamble
      <br/>
      length in any reply message. There are four standard preamble lengths defined in the
      <br/>
      802.15.4 UWB PHY – these are 16, 64, 1024 and 4096 symbols. The DW3000 has facility via
      <br/>
      this register setting to to send preambles of additional (non-standard) intermediary
      <br/>
      lengths. Table 20 below lists the selectable preamble lengths.
      <br/>
      Table 20: Preamble length selection
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td colspan="12">
      Bit 15
      <br/>
      Bit 14
      <br/>
      Bit 13
      <br/>
      Bit 12
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      TXPSR
     </td>
     <td>
     </td>
     <td>
      Preamble Length
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      64
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1024
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11" rowspan="3">
      0
      <br/>
      0
      <br/>
      1
      <br/>
      1
      <br/>
      4096
      <br/>
      0
      <br/>
      1
      <br/>
      0
      <br/>
      0
      <br/>
      32
      <br/>
      0
      <br/>
      1
      <br/>
      0
      <br/>
      1
      <br/>
      128
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      0
      <br/>
      1
      <br/>
      1
      <br/>
      0
      <br/>
      1536
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9">
      1
      <br/>
      0
      <br/>
      0
      <br/>
      1
      <br/>
      256
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      2048
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      512
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      The bit numbers quoted above are the bit numbers in the TX_FCTRL register.
      <br/>
      Note: The FINE_PLEN field below gives additional control of the preamble length (PSR).
      <br/>
      The choice of preamble length has a bearing on operating range and system performance.
      <br/>
      The TXPSR bit values not defined in the table above are reserved and should not be used.
      <br/>
      When auto ACK feature is used, see AUTO_ACK, the ACK frame will have its PSR set based
      <br/>
      on this field.
     </td>
    </tr>
    <tr>
     <td>
      TXB_OFFSET
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Transmit buffer index offset. This 10-bit field is used to specify an index in the transmit
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:24
      <br/>
      bits:25–16
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      buffer of the first octet to be transmitted. The TX frame begins with the octet at the
      <br/>
      TXB_OFFSET index and continues for the number octets specified by the frame length
      <br/>
      (TXFLEN) less 2 for the CRC. Care should be taken that the TXB_OFFSET plus the frame
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      length does not extend past the end of the TX_BUFFER.
      <br/>
      Note: Due to an errata in DW3000, when configuring the TXB_OFFSET index to greater
      <br/>
      than 127, a value of 128 needs to be added (this will be internally subtracted by the
      <br/>
      device). To allow the device to load this correct offset value internally the host needs to
      <br/>
      execute a register read of address 0x08:00 (Sub-register 0x08:00 – SAR control), after
      <br/>
      configuration of this TX_FCTRL register. This is automatically done in the published
      <br/>
      DW3000 dwt_writetxfctrl() API function [3].
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   <span id="page-85-2">
   </span>
   <sup>
    3
   </sup>
   The duration of preamble symbols is 993.59 ns with the 16 MHz PRF setting and 1017.63 ns with for 64 MHz PRF.
  </p>
  <span id="page-86-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:24 – Transmit frame control
     </th>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:00:24, 00:28
      <br/>
      bits: various
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      FINE_PLEN
      <br/>
      reg:00:28
      <br/>
      bits:15–8
     </td>
     <td>
      Fine PSR control. This field may be used to get fine control of the length of the transmitted
      <br/>
      preamble sequence, by specifying the number of preamble symbol repetitions in units of 8
      <br/>
      symbols. When FINE_PLEN is zero the preamble length configured in the TXPSR field will
      <br/>
      be used. When FINE_PLEN is non-zero the preamble length is given by the expression: 8 x
      <br/>
      (FINE_PLEN + 1), i.e. a FINE_PLEN value of 4 gives a PSR of 40 symbols, and the maximum
      <br/>
      FINE_PLEN value 0xFF gives a PSR of 2048 symbols. This field allows for tuning the
      <br/>
      preamble length to trade off message on-air time (and resultant power consumption)
      <br/>
      versus operational performance to match particular use cases.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-86-3">
   </span>
   <b>
    8.2.2.9 Sub-register 0x00:2C – Delayed send or receive time
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:2C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      DX_TIME
     </td>
     <td>
      Delayed send or receive time (32-bit)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-86-2">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers
   </a>
   and AES, sub-register 0x2C of register file 0x00, the  Delayed Send or Receive Time, is used to specify a time in the future to either turn on the receiver to be  ready to receive a packet, or to turn on the transmitter and send a packet. The units are one half of the  499.2 MHz fundamental frequency, (~ 4 ns). The least significant bit of this register is ignored, i.e. the  smallest value that can be specified is 2, i.e. 8 ns. Delayed send can be initiated by any of the following  commands:
   <a href="#page-237-4">
    CMD_DTX
   </a>
   ,
   <a href="#page-237-18">
    CMD_DTX_TS,
   </a>
   <a href="#page-237-19">
    CMD_DTX_RS,
   </a>
   <a href="#page-237-12">
    CMD_DTX_W4R,
   </a>
   <a href="#page-237-14">
    CMD_DTX_TS_W4R
   </a>
   or
   <a href="#page-237-15">
    CMD_DTX_RS_W4R
   </a>
   similarly the delayed receive can be initiated by any of the following commands:
   <a href="#page-237-7">
    CMD_DRX,
   </a>
   <a href="#page-237-20">
    CMD_DRX_TS
   </a>
   o
   <a href="#page-237-21">
    r CMD_DRX_RS.
   </a>
   For more information see sections
   <a href="#page-34-0">
    3.3
   </a>
   <a href="#page-34-0">
    Delayed transmission
   </a>
   and
   <a href="#page-40-1">
    4.3
   </a>
   <a href="#page-40-1">
    Delayed receive
   </a>
  </p>
  <h2>
   <span id="page-86-4">
   </span>
   <b>
    8.2.2.10 Sub-register 0x00:30 – Delayed send or receive reference time
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:30
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      DREF_TIME
     </td>
     <td>
      Delayed send or receive reference time (32-bit)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-86-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers
   </a>
   and AES, sub-register 0x30, the Delayed Send or  Receive Reference Time, is used to specify a time (at which an an event happened, e.g. Beacon was sent) and  any value in DX_TIME is added to this register before either the receiver or transmitter are turned on. The  unit is one half of the 499.2 MHz fundamental frequency, (~ 4 ns). The least significant bit of this register is ignored, i.e. the smallest value that can be specified is 2, i.e. ~ 8 ns. Delayed send with respect to reference  time is initiated by
   <a href="#page-237-5">
    CMD_DTX_REF
   </a>
   or
   <a href="#page-237-13">
    CMD_DTX_REF_W4R.
   </a>
   Delayed receive with respect to reference time is  initiated by
   <a href="#page-237-8">
    CMD_DRX_REF.
   </a>
   For more information see section
   <a href="#page-34-0">
    3.3
   </a>
   <a href="#page-34-0">
    Delayed transmission
   </a>
   and
   <a href="#page-40-1">
    4.3
   </a>
   <a href="#page-40-1">
    Delayed
   </a>
   <a href="#page-40-1">
    receive
   </a>
   <i>
    .
   </i>
  </p>
  <span id="page-87-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:34
     </td>
     <td>
      3
     </td>
     <td>
      RW
     </td>
     <td>
      RX_FWTO
     </td>
     <td>
      Receive frame wait timeout period
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-87-3">
   </span>
   <b>
    8.2.2.11 Sub-register 0x00:34 – Receive frame wait timeout period
   </b>
  </h2>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x34 of register file 0x00 is the receive  frame wait timeout period. It is a 20-bit wide register with a unit of 512/499.2 MHZ (~ 1.0256 µs). The  receive frame wait timeout function is provided to allow the host processor to enter a low power state  awaiting a valid receive frame and be woken up by the DW3000 when either a frame is received or the  programmed timeout has elapsed. While many host systems like microcontrollers have timers that might be  used for this purpose, including this RX timeout functionality in the DW3000 allows additional flexibility to  the system designer in selecting the microcontroller to optimise the solution. The frame wait timeout is  enabled by the
   <a href="#page-78-0">
    RXWTOE
   </a>
   in
   <i>
    Sub-register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   When the receiver is enabled (and begins hunting for the preamble sequence) an
   <a href="#page-78-0">
    d RXWTOE
   </a>
   is set, then the  frame wait timeout counter starts counting the timeout period programmed. Thereafter, assuming no  action is taken to change the operation, one of two things should happen:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     a) The Receive Frame Wait Timeout period elapses. This disables the receiver and sets the RXFTO (Receiver Frame Wait Timeout) bit in the status register, (and resets the counter).
    </li>
    <li block-type="ListItem">
     b) A valid receive frame arrives and sets the
     <a href="#page-94-0">
      RXFR
     </a>
     an
     <a href="#page-94-1">
      d RXFCG
     </a>
     bits in the status register. This stops the  receive frame wait timer counter so
     <a href="#page-95-1">
      RXFTO
     </a>
     will not be set.
    </li>
    <li block-type="ListItem">
     c) Host can issue transceiver off command
     <a href="#page-237-6">
      (CMD_TRXOFF)
     </a>
     at anytime to stop the RX and disable
     <a href="#page-95-1">
      RXFTO.
     </a>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   The RX frame wait timeout period should only be programmed when the IC is in
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state, before the  receiver is enabled. Programming the
   <a href="#page-95-1">
    RXFTO
   </a>
   at other times (e.g. in
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   state) is not prevented but may result  in unpredictable behaviour.
  </p>
  <h3>
   <span id="page-87-4">
   </span>
   <b>
    8.2.2.12 Sub-register 0x00:38 – System control
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:38
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      SYS_CTRL
     </td>
     <td>
      System control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-87-5">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x38 of register file 0x00 is the system  control register. This register is used when testing Continuous Frame test mode (se
   <a href="#page-212-3">
    e TX_PSTM)
   </a>
   , to start the  transmissions. Bit 0 needs to be set to 1 to start the transmissions.
  </p>
  <h4>
   <span id="page-87-2">
   </span>
   <b>
    8.2.2.13 Sub-register 0x00:3C – System event enable mask
   </b>
  </h4>
  <span id="page-87-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:3C
     </td>
     <td>
      6
     </td>
     <td>
      RW
     </td>
     <td>
      SYS_ENABLE
     </td>
     <td>
      System event enable mask register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x3C of register file 0x00 is the system  event mask register. These are aligned with the event status bits in the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register. Whenever a  bit in th
   <a href="#page-87-0">
    e SYS_ENABLE
   </a>
   is set (to 1) and the corresponding bit in the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register is also set, then an  interrupt will be generated asserting the hardware IRQ output line. The interrupt condition may be removed  by clearing the corresponding bit in thi
   <a href="#page-87-0">
    s SYS_ENABLE
   </a>
   register (by setting it to 0) or by clearing the  corresponding latched bit in the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register (generally by writing a 1 to the bit – please refer to  individual
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register bit definitions for details).
  </p>
  <p block-type="Text">
   The
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   register contains the system event mask bits identified and described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:00:3C – SYS_ENABLE – system event enable mask (octets 0 to 3)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      ARFE_EN
     </th>
     <th>
      CPERR_EN
     </th>
     <th>
      WARN_EN
      <br/>
      HPD
     </th>
     <th>
      XSTO_EN
      <br/>
      R
     </th>
     <th>
      _HILO_EN
      <br/>
      PLL
     </th>
     <th>
      RCINIT_EN
     </th>
     <th>
      SPIRDY_EN
     </th>
     <th>
      -
     </th>
     <th>
      RXPTO_EN
     </th>
     <th>
      RXOVRR_EN
     </th>
     <th>
      WARN_EN
      <br/>
      V
     </th>
     <th>
      CIAERR_EN
     </th>
     <th>
      RXFTO_EN
     </th>
     <th>
      RXRFSL_EN
     </th>
     <th>
      RXFCE_EN
     </th>
     <th>
      RXFCG_EN
     </th>
     <th>
      RXFR_EN
     </th>
     <th>
      RXPHE_EN
     </th>
     <th>
      RXPHD_EN
     </th>
     <th>
      CIADONE_EN
     </th>
     <th>
      RXSFDD_EN
     </th>
     <th>
      RXPRD_EN
     </th>
     <th>
      TXFRS_EN
     </th>
     <th>
      TXPHS_EN
     </th>
     <th>
      TXPRS_EN
     </th>
     <th>
      TXFRB_EN
     </th>
     <th>
      AAT_EN
     </th>
     <th>
      SPICRCE_EN
     </th>
     <th>
      CPLOCK_EN
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      REG:00:40 – SYS_ENABLE – system event enable mask (octets 4 and 5)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      _FAIL_EN
      <br/>
      CCA
     </th>
     <th>
      SPIERR_EN
     </th>
     <th>
      _UNF_EN
      <br/>
      SPI
     </th>
     <th>
      _OVF_EN
      <br/>
      SPI
     </th>
     <th>
      _ERR_EN
      <br/>
      MD
      <br/>
      C
     </th>
     <th>
      _ERR_EN
      <br/>
      AES
     </th>
     <th>
      AES_DONE_EN
     </th>
     <th>
      Q_EN
      <br/>
      GPIOIR
     </th>
     <th>
      _DET_EN
      <br/>
      VT
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      RXPREJ_EN
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The system event mask bits of the
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-88-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:3C – System event enable mask
     </th>
    </tr>
    <tr>
     <td>
      –
      <br/>
      reg:00:3C
     </td>
     <td>
      Bits marked with '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      CPLOCK_EN
     </td>
     <td>
      Mask clock PLL lock event. When CPLOCK_EN is 0 the CPLOCK event status bit will not
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      generate an interrupt. When CPLOCK_EN is 1 and the CPLOCK event status bit is 1, the
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      SPICRCE_EN
     </td>
     <td>
      Mask SPI CRC Error event. When SPICRCE_EN is 0 the SPICRCE event status bit will not
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      generate an interrupt. When SPICRCE_EN is 1 and the SPICRCE event status bit is 1, the
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-89-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:3C – System event enable mask
     </th>
    </tr>
    <tr>
     <th>
      AAT_EN
     </th>
     <td>
      Mask automatic acknowledge trigger event. When AAT_EN is 0 the AAT event status
     </td>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      bit will not generate an interrupt. When AAT_EN is 1 and the AAT event status bit is 1,
     </td>
    </tr>
    <tr>
     <th>
      bit:3
     </th>
     <td>
      the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      AAT should be masked when the automatic acknowledge is not enabled so that
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      spurious interrupts cannot affect system behaviour.
     </th>
    </tr>
    <tr>
     <th>
      TXFRB_EN
     </th>
     <th>
      Mask transmit frame begins event. When TXFRB_EN is 0 the TXFRB event status bit will
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <th>
      not generate an interrupt. When TXFRB_EN is 1 and the TXFRB event status bit is 1, the
     </th>
    </tr>
    <tr>
     <th>
      bit:4
     </th>
     <th>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </th>
    </tr>
    <tr>
     <th>
      TXPRS_EN
     </th>
     <th>
      Mask transmit preamble sent event. When TXPRS_EN is 0 the TXPRS event status bit will
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <th>
      not generate an interrupt. When TXPRS_EN is 1 and the TXPRS event status bit is 1, the
     </th>
    </tr>
    <tr>
     <th>
      bit:5
     </th>
     <th>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </th>
    </tr>
    <tr>
     <th>
      TXPHS_EN
     </th>
     <th>
      Mask transmit PHY Header Sent event. When TXPHS_EN is 0 the TXPHS event status bit
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      will not generate an interrupt. When TXPHS_EN is 1 and the TXPHS event status bit is 1,
     </td>
    </tr>
    <tr>
     <th>
      reg:00:3C
      <br/>
      bit:6
     </th>
     <td>
      the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      TXFRS_EN
     </th>
     <th>
      Mask transmit frame sent event. When TXFRS_EN is 0 the TXFRS event status bit will
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      not generate an interrupt. When TXFRS_EN is 1 and the TXFRS event status bit is 1, the
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      bit:7
      <br/>
      RXPRD_EN
     </th>
     <th>
      Mask receiver preamble detected event. When RXPRD_EN is 0 the RXPRD event status
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      bit will not generate an interrupt. When RXPRD_EN is 1 and the RXPRD event status bit
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      bit:8
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      RXSFDD_EN
     </th>
     <th>
      Mask receiver SFD detected event. When RXSFDD_EN is 0 the RXSFDD event status bit
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      will not generate an interrupt. When RXSFDD_EN is 1 and the RXSFDD event status bit
     </td>
    </tr>
    <tr>
     <th>
      bit:9
     </th>
     <td>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      CIADONE_EN
     </th>
     <th>
      Mask CIA processing done event. When CIADONE_EN is 0 the CIADONE event status bit
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      will not generate an interrupt. When CIADONE_EN is 1 and the CIADONE event status
     </td>
    </tr>
    <tr>
     <th>
      bit:10
     </th>
     <td>
      bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      RXPHD_EN
     </th>
     <th>
      Mask receiver PHY header detect event. When RXPHD_EN is 0 the RXPHD event status
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <th>
      bit will not generate an interrupt. When RXPHD_EN is 1 and the RXPHD event status bit
     </th>
    </tr>
    <tr>
     <th>
      bit:11
     </th>
     <td>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      RXPHE_EN
     </th>
     <th>
      Mask receiver PHY header error event. When RXPHE_EN is 0 the RXPHE event status bit
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      will not generate an interrupt. When RXPHE_EN is 1 and the RXPHE event status bit is 1,
     </td>
    </tr>
    <tr>
     <th>
      reg:00:3C
      <br/>
      bit:12
     </th>
     <td>
      the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      RXFR_EN
     </th>
     <th>
      Mask receiver data frame ready event. When RXFR_EN is 0 the RXFR event status bit
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      will not generate an interrupt. When RXFR_EN is 1 and the RXFR event status bit is 1,
     </td>
    </tr>
    <tr>
     <th>
      reg:00:3C
      <br/>
      bit:13
     </th>
     <td>
      the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      RXFCG_EN
     </th>
     <th>
      Mask receiver FCS good event. When RXFCG_EN is 0 the RXFCG event status bit will not
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      generate an interrupt. When RXFCG_EN is 1 and the RXFCG event status bit is 1, the
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      bit:14
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      RXFCE_EN
     </th>
     <th>
      Mask receiver FCS error event. When RXFCE_EN is 0 the RXFCE event status bit will not
      <br/>
      generate an interrupt. When RXFCE_EN is 1 and the RXFCE event status bit is 1, the
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <th>
      bit:15
     </th>
     <td>
     </td>
    </tr>
    <tr>
     <th>
      RXRFSL_EN
     </th>
     <th>
      Mask receiver Reed Solomon Frame Sync Loss event. When RXRFSL_EN is 0 the RXFSL
     </th>
    </tr>
    <tr>
     <th>
      reg:00:3C
     </th>
     <th>
      event status bit will not generate an interrupt. When RXRFSL_EN is 1 and the RXFSL
     </th>
    </tr>
    <tr>
     <th>
      bit:16
     </th>
     <th>
      event status bit is 1, the hardware IRQ interrupt line will be asserted to generate an
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      interrupt.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-90-1">
  </span>
  <span id="page-90-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:3C – System event enable mask
     </th>
    </tr>
    <tr>
     <td>
      RXFTO_EN
     </td>
     <td>
      Mask Receive Frame Wait Timeout event. When RXFTO_EN is 0 the RXFTO event status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bit will not generate an interrupt. When RXFTO_EN is 1 and the RXFTO event status bit
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:17
     </td>
     <td>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      CIAERR_EN
     </td>
     <td>
      Mask leading edge detection processing error event. When CIAERR_EN is 0 the CIAERR
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event status bit will not generate an interrupt. When CIAERR_EN is 1 and the CIAERR
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      event status bit is 1, the hardware IRQ interrupt line will be asserted to generate an
     </td>
    </tr>
    <tr>
     <td>
      bit:18
     </td>
     <td>
      interrupt.
     </td>
    </tr>
    <tr>
     <td>
      VWARN_EN
     </td>
     <td>
      Mask Voltage warning event. When VWARN_EN is 0 the VWARN event status bit will
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      not generate an interrupt. When VWARN_EN is 1 and the VWARN event status bit is 1,
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      rxoverbit:19
     </td>
     <td>
      the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      RXOVRR_EN
     </td>
     <td>
      Receiver overrun. When RXOVRR_EN is 0 the RXOVRR event status bit will not generate
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      an interrupt. When RXOVRR_EN is 1 and the RXOVRR event status bit is 1, the hardware
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      IRQ interrupt line will be asserted to generate an interrupt
     </td>
    </tr>
    <tr>
     <td>
      bit:20
      <br/>
      RXPTO_EN
     </td>
     <td>
      Mask Preamble detection timeout event. When RXPTO_EN is 0 the RXPTO event status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bit will not generate an interrupt. When RXPTO_EN is 1 and the RXPTO event status bit
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      bit:21
     </td>
     <td>
      Note: Perfroming a soft reset (SOFTRESET) may cause a glitch on the interrupt line when
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      this event is configured to generate interrupt. The interrupt will be triggered, but when
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the host goes to read the status register (SYS_STATUS) it will be in the reset state as the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      device has reset.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      reserved
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      SPIRDY_EN
     </td>
     <td>
      Mask SPI ready event. When SPIRDY_EN is 0 the SPIRDY event status bit will not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      generate an interrupt. When SPIRDY_EN is 1 and the SPIRDY event status bit is 1, the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt. Figure 8 shows
     </td>
    </tr>
    <tr>
     <td>
      bit:23
     </td>
     <td>
      the host interrupt that is generated from the SPIRDY event.
     </td>
    </tr>
    <tr>
     <td>
      RCINIT_EN
     </td>
     <td>
      Mask IDLE RC event. When RCINIT_EN is 0 the RCINIT event status bit will not generate
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      an interrupt. When RCINIT_EN is 1 and the RCINIT event status bit is 1, the hardware
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:24
     </td>
     <td>
      IRQ interrupt line will be asserted to generate an interrupt. The RCINIT event will be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      generated when device enters IDLE_RC state as shown in Figure 8.
     </td>
    </tr>
    <tr>
     <td>
      PLL_HILO_EN
     </td>
     <td>
      Mask PLL Losing Lock warning event. When PLL_HILO_EN is 0 the PLL_HILO event status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bit will not generate an interrupt. When PLL_HILO_EN is 1 and the PLL_HILO event
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:25
     </td>
     <td>
      status bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      RXSTO_EN
     </td>
     <td>
      Mask Receive SFD timeout event. When RXSTO_EN is 0 the RXSTO event status bit will
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      not generate an interrupt. When RXSTO_EN is 1 and the RXSTO event status bit is 1, the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:26
     </td>
     <td>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
    <tr>
     <td>
      HPDWARN_EN
     </td>
     <td>
      Mask Half Period Delay Warning event. When HPDWARN_EN is 0 the HPDWARN event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      status bit will not generate an interrupt. When HPDWARN_EN is 1 and the HPDWARN
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
     </td>
     <td>
      event status bit is 1, the hardware IRQ interrupt line will be asserted to generate an
     </td>
    </tr>
    <tr>
     <td>
      bit:27
     </td>
     <td>
      interrupt.
     </td>
    </tr>
    <tr>
     <td>
      CPERR_EN
     </td>
     <td>
      Mask Scramble Timestamp Sequence (STS) error event. When CPERR_EN is 0 the CPERR
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event status bit will not generate an interrupt. When CPERR_EN is 1 and the CPERR
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:28
     </td>
     <td>
      event status bit is 1, the hardware IRQ interrupt line will be asserted to generate an
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      interrupt.
     </td>
    </tr>
    <tr>
     <td>
      ARFE_EN
     </td>
     <td>
      Mask Automatic Frame Filtering rejection event. When ARFE_EN is 0 the ARFE event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      status bit will not generate an interrupt. When ARFE_EN is 1 and the ARFE event status
     </td>
    </tr>
    <tr>
     <td>
      reg:00:3C
      <br/>
      bit:29
     </td>
     <td>
      bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-91-3">
  </span>
  <span id="page-91-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
      <br/>
      Description of fields within Sub-register 0x00:3C – System event enable mask
      <br/>
      RXPREJ_EN
      <br/>
      Mask Receiver Preamble Rejection event. When RXPREJ_EN is 0 the RXPREJ event
      <br/>
      status bit will not generate an interrupt. When RXPREJ_EN is 1 and the RXPREJ event
      <br/>
      reg:00:40
      <br/>
      status bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:1
      <br/>
      VT_DET_EN
      <br/>
      Mask Voltage/Temperature variation dtection interrupt event. When VT_DET_EN is 0
      <br/>
      the VT_DET event status bit will not generate an interrupt. When VT_DET_EN is 1 and
      <br/>
      reg:00:40
      <br/>
      the VT_DET event status bit is 1, the hardware IRQ interrupt line will be asserted to
      <br/>
      bit:4
      <br/>
      generate an interrupt.
      <br/>
      GPIOIRQ_EN
      <br/>
      Mask GPIO interrupt event. When GPIOIRQ_ENGPIOIRQ_EN is 0 the GPIOIRQ event
      <br/>
      status bit will not generate an interrupt. When GPIOIRQ_EN is 1 and the GPIOIRQ event
      <br/>
      reg:00:40
      <br/>
      status bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:5
      <br/>
      AES_DONE_EN
      <br/>
      Mask AES done interrupt event. When AES_DONE_EN is 0 the AES_DONE event status
      <br/>
      bit will not generate an interrupt. When AES_DONE_EN is 1 and the AES_DONE event
      <br/>
      reg:00:40
      <br/>
      status bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:6
      <br/>
      AES_ERR_EN
      <br/>
      Mask AES error interrupt event. When AES_ERR is 0 the AES_ERR event status bit will
      <br/>
      not generate an interrupt. When AES_ERR is 1 and the AES_ERR event status bit is 1,
      <br/>
      reg:00:40
      <br/>
      the hardware IRQ interrupt line will be asserted to generate can interrupt.
      <br/>
      bit:7
      <br/>
      CDM_ERR_EN
      <br/>
      Mask CMD error interrupt event. When CMD_ERR_EN is 0 the CMD_ERR event status
      <br/>
      bit will not generate an interrupt. When CMD_ERR_EN is 1 and the CMD_ERR event
      <br/>
      reg:00:40
      <br/>
      status bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:8
      <br/>
      SPI_OVF_EN
      <br/>
      Mask SPI overflow interrupt event. When SPI_OVF_EN is 0 the SPIOVF event status bit
      <br/>
      will not generate an interrupt. When SPI_OVF_EN is 1 and the SPIOVF event status bit is
      <br/>
      reg:00:40
      <br/>
      1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:9
      <br/>
      SPI_UNF_EN
      <br/>
      Mask SPI underflow interrupt event. When SPI_UNF_EN is 0 the SPIUNF event status bit
      <br/>
      will not generate an interrupt. When SPI_UNF_EN is 1 and the SPIUNF event status bit
      <br/>
      reg:00:40
      <br/>
      is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:10
      <br/>
      SPI_ERR_EN
      <br/>
      Mask SPI error interrupt event. When SPIERR is 0 the SPIERR event status bit will not
      <br/>
      generate an interrupt. When SPIERR is 1 and the SPIERR event status bit is 1, the
      <br/>
      reg:00:40
      <br/>
      hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:11
      <br/>
      CCA_FAIL_EN
      <br/>
      Mask CCA fail interrupt event. When CCA_FAIL_EN is 0 the CCA_FAIL event status bit
      <br/>
      will not generate an interrupt. When CCA_FAIL_EN is 1 and the CCA_FAIL event status
      <br/>
      reg:00:40
      <br/>
      bit is 1, the hardware IRQ interrupt line will be asserted to generate an interrupt.
      <br/>
      bit:12
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-91-1">
   </span>
   <b>
    8.2.2.14 Sub-register 0x00:44 – System event status
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:44
     </td>
     <td>
      6
     </td>
     <td>
      SRW
     </td>
     <td>
      SYS_STATUS
     </td>
     <td>
      System event status register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-91-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x44 of register file 0x00 is the system  event status register,
   <a href="#page-91-0">
    SYS_STATUS.
   </a>
   It contains status bits that indicate the occurrence of different system  events or status changes. It is possible to enable particular events as interrupt sources, by employing the
   <a href="#page-87-0">
    SYS_ENABLE,
   </a>
   <i>
    Sub-register 0x00:3C –
    <a href="#page-87-2">
     System event enable
    </a>
   </i>
   mask, so that the setting of the event status bit will  generate an interrupt, asserting the hardware IRQ output line. This can be used, for example, to allow the  host processor to enter a low-power state during packet transmission or reception awaiting an interrupt to  wake upon the completion of the TX or RX activity.
  </p>
  <p block-type="Text">
   Reading the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register returns the state of the status bits. Generally these event status bits are  latched so that the event is captured. Such latched bits need to be explicitly cleared by writing '1' to the bit  position (writing '0' has no effect).
  </p>
  <p block-type="Text">
   The
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register contains the system event status bits identified and described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:00:44 – SYS_STATUS – System status register (octets 0 to 3)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      ARFE
     </th>
     <th>
      CPERR
     </th>
     <th>
      WARN
      <br/>
      HPD
     </th>
     <th>
      RXSTO
     </th>
     <th>
      PLLHILO
     </th>
     <th>
      CINIT
      <br/>
      R
     </th>
     <th>
      SPIRDY
     </th>
     <th>
      -
     </th>
     <th>
      RXPTO
     </th>
     <th>
      RXOVRR
     </th>
     <th>
      WARN
      <br/>
      V
     </th>
     <th>
      CIAERR
     </th>
     <th>
      RXFTO
     </th>
     <th>
      RXFSL
     </th>
     <th>
      RXFCE
     </th>
     <th>
      RXFCG
     </th>
     <th>
      RXFR
     </th>
     <th>
      RXPHE
     </th>
     <th>
      RXPHD
     </th>
     <th>
      CIADONE
     </th>
     <th>
      RXSFDD
     </th>
     <th>
      RXPRD
     </th>
     <th>
      TXFRS
     </th>
     <th>
      TXPHS
     </th>
     <th>
      TXPRS
     </th>
     <th>
      TXFRB
     </th>
     <th>
      AAT
     </th>
     <th>
      SPICRCE
     </th>
     <th>
      CPLOCK
     </th>
     <th>
      IRQS
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      REG:00:48 – SYS_STATUS – System status register (octets 4 and 5)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      _FAIL
      <br/>
      CCA
     </th>
     <th>
      SPIERR
     </th>
     <th>
      _UNF
      <br/>
      SPI
     </th>
     <th>
      _OVF
      <br/>
      SPI
     </th>
     <th>
      _ERR
      <br/>
      MD
      <br/>
      C
     </th>
     <th>
      _ERR
      <br/>
      AES
     </th>
     <th>
      _DONE
      <br/>
      AES
     </th>
     <th>
      GPIOIRQ
     </th>
     <th>
      _DET
      <br/>
      VT
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      RXPREJ
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The system event status bits of the
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-92-1">
  </span>
  <span id="page-92-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      –
      <br/>
      reg:00:44
      <br/>
      bit:various
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      IRQS
      <br/>
      reg:00:44
      <br/>
      bit:0
     </td>
     <td>
      Interrupt Request Status. This is a READ ONLY status flag – it cannot be cleared or
      <br/>
      overwritten. Whenever a status bit in Sub-register 0x00:44 – System event status is
      <br/>
      activated (i.e. has a value of 1) and the corresponding bit in Sub-register 0x00:3C –
      <br/>
      System event enable mask is enabled (i.e. has a value of 1 also) then the IRQ interrupt
      <br/>
      request line will be driven to its active ON level. If there are no active mask enabled
      <br/>
      status bits then the IRQ interrupt request line will be set to its inactive OFF level. This
      <br/>
      IRQS flag reflects the overall status of interrupts. If there are any unmasked interrupt
      <br/>
      sources active then the IRQS bit will be 1 (and IRQ interrupt request line will be at its
      <br/>
      active ON level) the otherwise IRQS will be zero (and IRQ interrupt request line at its OFF
      <br/>
      level). The polarity of the IRQ interrupt request line is controllable via the HIRQ_POL
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      configuration bit in Sub-register 0x0F:24 – Digital diagnostics test mode control.
     </td>
    </tr>
    <tr>
     <td>
      CPLOCK
     </td>
     <td>
      Clock PLL Lock. The CPLOCK event status bit indicates that the digital clock PLL has
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:1
     </td>
     <td>
      locked. This may be used as an interrupt to indicate that the DW3000 clock is operating
      <br/>
      at full speed, after which the SPI can be run at its maximum rate also. The CPLOCK bit is
      <br/>
      cleared by writing a 1 to it.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-93-7">
  </span>
  <span id="page-93-6">
  </span>
  <span id="page-93-5">
  </span>
  <span id="page-93-4">
  </span>
  <span id="page-93-3">
  </span>
  <span id="page-93-2">
  </span>
  <span id="page-93-1">
  </span>
  <span id="page-93-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      SPICRCE
     </td>
     <td>
      SPI CRC Error. When SPI CRC mode (see 2.3.1.3 – SPI CRC mode) is enabled (by the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      SPI_CRCEN bit in SYS_CFG register), the SPICRCE event status bit indicates that a CRC
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      error has been detected during an SPI write. Once set the SPICRCE bit remains set until it
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      is cleared by writing a 1 to it. When SPI CRC mode is disabled the SPICRCE bit is always
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      set. SPI Write CRC Error events are counted in Sub-register 0x0F:1A – SPI write CRC error
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counter, when counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counter control.
     </td>
    </tr>
    <tr>
     <td>
      AAT
     </td>
     <td>
      Automatic Acknowledge Trigger. This status event status bit is set when frame filtering is
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      enabled and a data frame (or MAC command frame) is received (correctly addressed and
     </td>
    </tr>
    <tr>
     <td>
      bit:3
     </td>
     <td>
      with a good CRC) with the acknowledgement request bit set in its frame control field.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      If the automatic acknowledgement is enabled (by the AUTO_ACK bit in Sub-register
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x00:10 – System configuration) then the AAT bit can be used during receive interrupt
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      processing to detect that acknowledgement is in progress and thus avoid taking any
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      action until the transmission of the acknowledgement is completed – an event that might
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      be detected by awaiting the TXFRS (Transmit Frame Sent) status interrupt.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      If automatic acknowledgement is not enabled, then the AAT status bit must be ignored.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The AAT bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      TXFRB
     </td>
     <td>
      Transmit Frame Begins. This event status bit is set at the start of a transmission as the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transmitter begins to send preamble. The TXFRB bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TXPRS
     </td>
     <td>
      Transmit Preamble Sent. This event status bit is set at the end of preamble when SFD
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      sending begins. The TXPRS bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TXPHS
     </td>
     <td>
      Transmit PHY Header Sent. This event status bit is set when the PHR has been
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      transmitted. This marks the start of sending the data part of the packet (assuming the
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
      frame length is non-zero) at the configured transmit data rate. The TXPHS bit is cleared
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      TXFRS
     </td>
     <td>
      Transmit Frame Sent. This event status bit is set at the end of sending the data part of
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      the frame. It is expected that this will be used as the main "Transmit Done" (interrupt)
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
      event signalling the completion of frame transmission. (In the case where frame length is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      zero the TXFRS bit is set soon after the TXPHS event flag). The TXFRS bit is cleared by
     </td>
    </tr>
    <tr>
     <td>
      RXPRD
     </td>
     <td>
      writing a 1 to it.
      <br/>
      Receiver Preamble Detected status. This event status bit is set to indicate that the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      receiver has detected (and confirmed) the presence of the preamble sequence.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      Preamble reception continues after RXPRD has been set until the SFD is detected as
     </td>
    </tr>
    <tr>
     <td>
      bit:8
     </td>
     <td>
      signalled by the RXSFDD event status bit or an SFD timeout occurs as signalled by the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXSTO event status bit. Section 4 – Message reception gives details of the reception
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      process. The RXPRD bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      RXSFDD
     </td>
     <td>
      Receiver SFD Detected. This event status bit is set to indicate that the receiver has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      detected the SFD sequence and is moving on to decode the PHR. Section 4 – Message
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      reception gives details of the reception process. The RXSFDD bit is cleared by writing a 1
     </td>
    </tr>
    <tr>
     <td>
      bit:9
     </td>
     <td>
      to it.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-94-4">
  </span>
  <span id="page-94-3">
  </span>
  <span id="page-94-2">
  </span>
  <span id="page-94-1">
  </span>
  <span id="page-94-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      CIADONE
     </td>
     <td>
      CIA processing done. This event status bit is set to indicate the completion by the CIA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      algorithm of the leading edge detection and its other adjustments of the receive
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:10
     </td>
     <td>
      timestamp information. The resultant adjusted message RX timestamp is then available
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in Sub-register 0x00:64 – Receive time stamp. To accurately determine this timestamp the
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      DW3000 employs the CIA algorithm to adjust the RMARKER receive time. Among other
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      functions this performs a leading edge detection search on the channel impulse response
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      and subtracts the receive antenna delay as programmed in the RXANTD field of Sub
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      register 0x0E:00 – RX antenna delay and CIA diagnostic enable. Where the CIA is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      configured to operate on the STS which occurs later in the packet, the CIADONE event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      status flag bit is not set until CIA algorithm has completed its processing. For more
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      information on the CIA and the process of time-stamping see section 4.1.7 – RX message
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      timestamp. The CIADONE event status flag bit is cleared by writing a 1 to it.
     </th>
    </tr>
    <tr>
     <td>
      RXPHD
     </td>
     <td>
      Receiver PHY Header Detect. This event status bit is set to indicate that the receiver has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      completed the decoding of the PHR. Section 4 – Message reception gives details of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      reception process. The RXPHD bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      bit:11
      <br/>
      RXPHE
     </td>
     <td>
      Receiver PHY Header Error. This event status bit is set to indicate that the receiver has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      found a non-correctable error in the PHR. The PHR includes a SECDED error check
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      sequence (see section 2.9) that can correct a single bit error and detect a double bit
     </td>
    </tr>
    <tr>
     <td>
      bit:12
     </td>
     <td>
      error. The double error is not correctable and its detection is the event that the RXPHE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event status flag is notifying. Generally this error means that correct frame reception is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      not possible, and this event will abort reception. Section 4 – Message reception gives
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      details of the reception process. The RXPHE bit is cleared by writing a 1 to it. PHY Header
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Error events are counted in Sub-register 0x0F:04 – PHR error counter, as long as counting
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      is enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event counter control.
     </td>
    </tr>
    <tr>
     <td>
      RXFR
     </td>
     <td>
      Receiver Data Frame Ready. This event status bit is set to indicate that the completion of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the reception process. Section 4 – Message reception gives details of the reception
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:13
     </td>
     <td>
      process. It is expected that this will be used as the main "Receive" (interrupt) event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      signalling the completion of a frame reception, and, that the receive event processing
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      routine will examine the RXFCG and RXFCE to determine whether the frame has been
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      received without error (or not), and also to check the CIADONE event status flag to
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      validate the receive timestamp information.
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      In order to ensure that the receive timestamp information is valid before any receive
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      interrupt processing takes place, the setting of RXFR is delayed until the CIA adjustments
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      of the timestamp have completed, at which time the CIADONE event status bit will be set
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (or possibly CIAERR). The RXFR event status flag bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: when configured to use packet format configuration 3 (see Figure 13) then this
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event should be used as the main "Receive" (interrupt). The RXFCG and RXFCE events
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      should not be used in packet format configuration 3.
     </td>
    </tr>
    <tr>
     <td>
      RXFCG
     </td>
     <td>
      Receiver FCS Good. This event status bit reflects the result of the frame CRC checking. It
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      is set (or not) at the end of frame reception coincidentally with the setting of the RXFR
     </td>
    </tr>
    <tr>
     <td>
      bit:14
     </td>
     <td>
      event status flag.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When RXFCG is set to 1 it indicates that the CRC check result generated on the received
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      data matches with the 2-octet FCS sequence at the end of the frame. RXFR with RXFCG
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      then indicates the correct reception a valid frame. The RXFCG bit is cleared by writing a
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      1 to it.
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: This event should not be used in packet format configuration 3.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-95-4">
  </span>
  <span id="page-95-3">
  </span>
  <span id="page-95-2">
  </span>
  <span id="page-95-1">
  </span>
  <span id="page-95-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      RXFCE
     </td>
     <td>
      Receiver FCS Error. This event status bit also reflects the result of the frame CRC
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      checking. It is valid at the end of frame reception coincidentally with the setting of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:15
     </td>
     <td>
      RXFR event status flag.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When RXFCE is set to 1 it indicates that the CRC check result generated on the received
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      data FAILED to match with the 2-octet FCS sequence at the end of the frame. The RXFCE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bit can be cleared by writing a 1 to it. RXFCE events are also counted in Sub-register
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0F:0A – FCS error counter, as long as counting is enabled by the EVC_EN bit in Sub
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      register 0x0F:00 – Event counter control.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: This event should not be used in packet format configuration 3.
     </td>
    </tr>
    <tr>
     <td>
      RXFSL
     </td>
     <td>
      Receiver Reed Solomon Frame Sync Loss. The RXFSL event status bit is set to indicate
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      that the receiver has found a non-correctable error during the Reed Solomon decoding of
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:16
     </td>
     <td>
      the data portion of the packet. Generally this means that correct frame reception is not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      possible, and this event will abort frame reception. Section 4 – Message reception gives
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      details of the reception process. The RXFSL bit can be cleared by writing a 1 to it. Reed
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Solomon Frame Sync Loss Error events are also counted in Sub-register 0x0F:06 – RSD
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      error counter, as long as counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 –
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Event counter control.
     </td>
    </tr>
    <tr>
     <td>
      RXFTO
     </td>
     <td>
      Receive Frame Wait Timeout. This event status bit is set to indicate that a receive frame
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      wait timeout has occurred. The receive frame wait timeout is enabled by the RXWTOE bit
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      in Sub-register 0x00:10 – System configuration, with the timeout being set by Sub-register
     </td>
    </tr>
    <tr>
     <td>
      bit:17
     </td>
     <td>
      0x00:34 – Receive frame wait timeout period. The receive frame wait timeout starts
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      running when the receiver is enabled and stops running either when a valid frame is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      received or when the timeout occurs and is signalled by this RXFTO event status flag bit.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The RXFTO bit can be cleared by writing a 1 to it. Receive frame wait timeout events are
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      also counted in Sub-register 0x0F:14 – RX frame wait timeout event counter, as long as
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event counter control.
     </td>
    </tr>
    <tr>
     <td>
      CIAERR
     </td>
     <td>
      Channel Impulse Response Alalyser processing error. The main function of the CIA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      algorithm is a search in the channel impulse response to find the first arriving ray of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      RMARKER. This search should be bounded and finish in a reasonably short time, CIA
     </td>
    </tr>
    <tr>
     <td>
      bit:18
     </td>
     <td>
      includes a failsafe mechanism of a watchdog timer that is initialized at the start of each
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIR search when the CIA begins the processing a received CIR, for either the preamble or
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      STS sequences. This watchdog can be disabled by clearing the CIA_WDEN bit CIA_WDEN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in DIAG_TMC register which is set by default. We do not expect DW3000 users to ever
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      see this event, however if the watchdog timer expires before the CIA has completed its
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RX timestamp adjustments then the error is reported through the CIAERR event status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      flag. The CIAERR bit can be cleared by writing a 1 to it.
     </th>
    </tr>
    <tr>
     <td>
      VWARN
     </td>
     <td>
      Low voltage warning. This event indicates that the IC has detected that that the voltage
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      has dropped below the warning threshold of 1.5 V. The role of the low voltage detector is
     </td>
    </tr>
    <tr>
     <td>
      bit:19
     </td>
     <td>
      to detect drops in the supply during the higher current TX or RX modes where it could cause
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      performance issues. Low voltage events are not expected in normal operation when there
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      is sufficient power supply current and capacitance available. The VWARN event flag stays
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      set until it is cleared by writing a 1 to it, or the IC is reset. Low voltage events are counted
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in Sub-register 0x0F:2A – Low voltage warning error counter, assuming that counting is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event counter control
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-96-4">
  </span>
  <span id="page-96-3">
  </span>
  <span id="page-96-2">
  </span>
  <span id="page-96-1">
  </span>
  <span id="page-96-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      RXOVRR
     </td>
     <td>
      Receiver Overrun. This event status bit only applies when double RX buffering is enabled
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (by clearing the DIS_DRXB bit in Sub-register 0x00:10 – System configuration). The RXOVRR
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      event flag is set to indicate that an overrun error has occurred in the receiver. See section
     </td>
    </tr>
    <tr>
     <td>
      bit:20
     </td>
     <td>
      4.4.3 – Overrun for more details of double buffering and the use of this RXOVRR error flag.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The RXOVRR event status bit stays set until it is cleared by writing a 1 to it, or the IC is reset.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Receiver Overrun events are also counted in Sub-register 0x0F:0E – RX overrun error
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counter, assuming that counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 –
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Event counter control
     </td>
    </tr>
    <tr>
     <td>
      RXPTO
     </td>
     <td>
      Preamble detection timeout. This event status bit is set when the preamble detection
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      timeout occurs. The preamble detection timer is started when the receiver is enabled and
     </td>
    </tr>
    <tr>
     <td>
      bit:21
     </td>
     <td>
      begins preamble hunt. This may begin immediately in the case of issuing an CMD_RX
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      command or after a delay in the case of issuing a CMD_DRX, CMD_DRX_TS
      <br/>
      or
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CMD_DRX_RS command. The preamble detection timeout value is programmed in Sub
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      register 0x06:04 – Preamble detection timeout count. The RXPTO bit can be cleared by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The preamble detection timeout may be useful to save power by turning off the receiver if
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      an expected response packet does not begin. If a response message is expected with a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      certain fixed timing and preamble is not detected at the appropriate time then this is likely
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      to mean that the response will not come. Reception can thus be aborted early, saving
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      power.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: Perfroming a soft reset (SOFTRESET) may cause a glitch on the interrupt line when
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      this event is configured to generate interrupt. The interrupt will be triggered, but when the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      host goes to read the status register (SYS_STATUS) it will be in the reset state as the device
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      has reset
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
      <br/>
      bit:22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      SPIRDY
     </td>
     <td>
      SPI ready for host access. This event status bit is set to indicate that the DW3000 has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      completed the activities associated with power on and has transitioned from OFF or
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      awaking from SLEEP (or DEEPSLEEP) and is now in the IDLE_RC state. For more details on
     </td>
    </tr>
    <tr>
     <td>
      bit:23
     </td>
     <td>
      DW3000 states see section 2.4 and 2.5 where Figure 8 shows the host interrupt that is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      generated from the SPIRDY event. The SPIRDY bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      RCINIT
     </td>
     <td>
      RC INIT. This event status bit is set to indicate that the DW3000 has completed the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      activities associated with power on and has transitioned from OFF or awaking from SLEEP
     </td>
    </tr>
    <tr>
     <td>
      bit:24
     </td>
     <td>
      (or DEEPSLEEP) and is now in the INIT_RC state. For more details on DW3000 states see
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      section 2.4. The RCINIT bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      PLL_HILO
     </td>
     <td>
      Clock PLL Losing Lock. This event status bit is set to indicate that the system's digital
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      clock PLL is having locking issues. This should not happen in healthy devices operating in
     </td>
    </tr>
    <tr>
     <td>
      bit:25
     </td>
     <td>
      their normal range. Its occurrence may indicate a bad configuration, a faulty part or a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      problem in the power or clock inputs to the device. If this bit is set it may be advisable to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      turn off the transmitter to avoid sending spurious signals. The PLL_HILO bit is cleared by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      writing a 1 to it.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-97-3">
  </span>
  <span id="page-97-2">
  </span>
  <span id="page-97-1">
  </span>
  <span id="page-97-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      RXSTO
     </td>
     <td>
      Receive SFD timeout. This event status bit is set when the SFD detection timeout occurs.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      The SFD detection timeout starts running as soon as preamble is detected. If the SFD
     </th>
    </tr>
    <tr>
     <th>
      reg:00:44
      <br/>
      bit:26
     </th>
     <th>
      sequence is not detected before the timeout period expires then the timeout will act to
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      abort the reception currently in progress. The period of the SFD detection timeout is in
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Sub-register 0x06:02 – SFD detection timout count. By default this has a value of 4096+64
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      representing the longest possible preamble and SFD. Where it is known that a shorter
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      preamble and SFD are being employed this value can be reduced. The RXSTO event
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      status bit can be cleared by writing a 1 to it. SFD timeout events are also counted in Sub
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      register 0x0F:10 – SFD timeout error counter, assuming that counting is enabled by the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      EVC_EN bit in Sub-register 0x0F:00 – Event counter control.
     </th>
    </tr>
    <tr>
     <td>
      HPDWARN
     </td>
     <td>
      Half Period Delay Warning. This event status bit relates to the use of delayed transmit
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      and delayed receive functionality. It indicates the delay is more than half a period of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      system clock.
     </td>
    </tr>
    <tr>
     <th>
      bit:27
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For delayed send/receive the send/receive time is programmed into Sub-register 0x00:2C
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      – Delayed send or receive time and then the delayed sending/receiving is initiated by the
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      following commands: CMD_DTX , CMD_DTX_TS, CMD_DTX_RS, CMD_DTX_W4R,
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th colspan="12">
      CMD_DTX_TS_W4R, CMD_DTX_RS_W4R, CMD_DRX, CMD_DRX_TS or CMD_DRX_RS.
      <br/>
      The delayed transmit and receive functionality is described in detail in sections 3.3 –
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Delayed transmission and 4.3 – Delayed receive
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      The HPDWARN event status flag gets set if the time left to actually beginning
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      transmission / reception is more than half a period of the system clock (SYS_TIME) away.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Assuming that the intent was not to schedule transmission/reception at a time that is
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th colspan="11">
      over 8 seconds in the future, the HPDWARN status flag can be polled after a delayed
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      transmission or reception is commanded, to check whether the delayed send/ receive
      <br/>
      invocation was given in time (HPDWARN ==0) or not (HPDWARN == 1).
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Typically when the HPDWARN event is detected the host controller will abort the delayed
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      TX/RX by issuing a transceiver off command (CMD_TRXOFF) and then take whatever
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      remedial action is deemed appropriate for the application.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      The HPDWARN event status bit can be cleared by writing a 1 to it.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      HPDWARN events are counted in Sub-register 0x0F:18 – Half period warning counter,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      assuming counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event counter
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      control.
     </th>
    </tr>
    <tr>
     <td>
      CPERR
     </td>
     <td>
      Scramble Timestamp Sequence (STS) error. The CPERR event status flag will get set if the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      STS_TOAST bits are non-zero.
     </td>
    </tr>
    <tr>
     <td>
      bit:28
     </td>
     <td>
      The CPERR events are counted in EVC_CPQE field in Sub-register 0x0F:28 – STS quality
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      error counter. The CPERR status bit can be cleared by writing a 1 to it.
     </th>
    </tr>
    <tr>
     <th>
      ARFE
     </th>
     <th>
      Automatic Frame Filtering rejection. The ARFE event status flag bit is set to indicate
     </th>
    </tr>
    <tr>
     <td>
      reg:00:44
     </td>
     <td>
      when a frame has been rejected in receiver due to it not passing through the frame
     </td>
    </tr>
    <tr>
     <td>
      bit:29
     </td>
     <td>
      filtering. See section 5.4 – Frame filtering for details of the operation of frame filtering.
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      The ARFE event status bit can be cleared by writing a 1 to it. Frame Filtering rejection
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      events are also counted in Sub-register 0x0F:0C – Frame filter rejection counter, assuming
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counting is enabled by the EVC_EN bit in Sub-register 0x0F:00 – Event counter control.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-98-6">
  </span>
  <span id="page-98-5">
  </span>
  <span id="page-98-4">
  </span>
  <span id="page-98-3">
  </span>
  <span id="page-98-2">
  </span>
  <span id="page-98-1">
  </span>
  <span id="page-98-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="8">
      Description of fields within Sub-register 0x00:44 – System event status
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      reserved
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0, 2, 3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RXPREJ
     </td>
     <td>
      Receiver Preamble Rejection. This is a low-level event status flag, which is probably not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      of interest to the host system. It was used during the IC implementation as part of
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
      <br/>
      bit:1
     </td>
     <td>
      tuning the preamble detection algorithm. In the DW3000, preamble detection a two
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      stage process where preamble is initially seen and then has to be confirmed as continuing
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      for a number of symbols before the RXSFDD event status bit actually gets set. If the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble is not confirmed then the RXSFDD event status bit will not be set, but instead
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      this RXPREJ status will be set. The RXPREJ event status bit can be cleared by writing a 1 to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      it.
     </td>
    </tr>
    <tr>
     <td>
      VT_DET
     </td>
     <td>
      Voltage or temperature variation detected.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GPIOIRQ
     </td>
     <td>
      GPIO interrupt. The GPIOIRQ event status bit is set when an interrupt condition occurs in
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      the GPIO block. Various configurations are possible to enable interrupts coming from
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
      GPIO input lines. The GPIO block may need to be interrogated to determine the source of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the interrupt if more than one input line is configured to interrupt. The GPIOIRQ bit is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      cleared by writing a 1 to it. For details of GPIO programming see Register file: 0x05 –
      <br/>
      GPIO control and status.
     </td>
    </tr>
    <tr>
     <td>
      AES_DONE
     </td>
     <td>
      AES-DMA operation complete. The AES_DONE bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
      <br/>
      bit:6
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      AES_ERR
     </td>
     <td>
      AES-DMA error, indicates an AES authentication error or DMA transfer error or memory
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      address conflict. The AES_ERR bit is cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CMD_ERR
     </td>
     <td>
      Command error. Indicates that a fast command was programmed, given that will be
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      ignored. This can happen when the host issues two commands in quick succession, if the
     </td>
    </tr>
    <tr>
     <td>
      bit:8
     </td>
     <td>
      device receives the second of the two while the first has not completed, the device will
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      ignore the second command and raise this event.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Section 9 Fast Commands describes the available commands.
     </td>
    </tr>
    <tr>
     <td>
      SPI_OVF
     </td>
     <td>
      SPI overflow error. Occurs is written into the RX FIFO at too fast a rate and the FIFO
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      overflows possibly due to an SCLK frequency that is set much too fast.
     </td>
    </tr>
    <tr>
     <td>
      bit:9
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      SPI_UNF
     </td>
     <td>
      SPI underflow error. Occurs when the data to be read is not available in the TX FIFO
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      possibly due to clocks not being turned on or a very high SCLK frequency.
     </td>
    </tr>
    <tr>
     <td>
      bit:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      SPIERR
     </td>
     <td>
      SPI collision error. If there is a case of a failed SPI transaction caused by internal contention
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      the DW3000 will indicate this by the SPIERR event. This SPI_COLLISION status indicates
     </td>
    </tr>
    <tr>
     <td>
      bit:11
     </td>
     <td>
      which internal DW3000 block has conflicted with the host SPI access, and that last host SPI
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transaction has not successfully completed.
     </td>
    </tr>
    <tr>
     <td>
      CCA_FAIL
     </td>
     <td>
      This event will be set as a result of failure of CMD_CCA_TX to transmit a packet. When
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CMD_CCA_TX is invoked the device initially enters preamble hunt, and if no preamble is
     </td>
    </tr>
    <tr>
     <td>
      reg:00:48
     </td>
     <td>
      found within the time specified by PRE_TOC, the device will proceed to transmit the
     </td>
    </tr>
    <tr>
     <td>
      bit:12
     </td>
     <td>
      packet. However, if the preamble is detected, then the device will go back to IDLE and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      report CCA_FAIL event. The CCA_FAIL bit is cleared by writing a 1 to it.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-99-2">
   </span>
   <b>
    8.2.2.15 Sub-register 0x00:4C – RX frame information
   </b>
  </h2>
  <span id="page-99-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:4C
     </td>
     <td>
      4
     </td>
     <td>
      ROD
     </td>
     <td>
      RX_FINFO
     </td>
     <td>
      RX frame information
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x4C of register file 0x00 gives  information on the received frame. It is updated after the reception of a good
   <a href="#page-251-2">
    PHR,
   </a>
   i.e.
   <a href="#page-251-2">
    PHR
   </a>
   where the
   <a href="#page-252-3">
    SECDED
   </a>
   has not flagged a non-correctable error (see section
   <a href="#page-29-0">
    2.9)
   </a>
   .
  </p>
  <p block-type="Text">
   Thi
   <a href="#page-99-0">
    s RX_FINFO
   </a>
   register contains a number of fields, separately identified and described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:00:4C – RX_FINFO – RX frame information
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
      RXPACC
     </td>
     <td>
      RXPSR
     </td>
     <td>
      RXPRF
     </td>
     <td>
      RNG
     </td>
     <td>
      -
     </td>
     <td>
      RXBR
     </td>
     <td>
     </td>
     <td>
      RXNSPL
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RXFLEN
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td colspan="6">
      0
      <br/>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-99-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:4C – RX frame information
     </th>
    </tr>
    <tr>
     <td>
      RXFLEN
     </td>
     <td>
      Receive Frame Length. This value is copied from the PHR of the received frame when a
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
      <br/>
      bits:9–0
     </td>
     <td>
      good PHR is detected (when the RXPHD status bit is set). The frame length from the PHR is
      <br/>
      used in the receiver to know how much data to receive and decode, and where to find the
      <br/>
      FCS (CRC) to validate the received data. The frame length also tells the host system how
      <br/>
      much data to read from the receive buffer ( RX_BUFFER_0 or RX_BUFFER_1) This field is 10-
      <br/>
      bits wide to accommodate both the extended frame mode of operation (up to 1023 bytes,
      <br/>
      IEEE802.15.8 standard [4]) and the IEEE802.15.4 standard [1] frames which can be up to 127
      <br/>
      bytes long. The PHR mode of operation is enabled via the PHR_MODE selection bits of Sub
      <br/>
      register 0x00:10 – System configuration. See also section 3.4 – Extended length data
      <br/>
      frames.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      This bit is reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:10:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:10
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-100-1">
  </span>
  <span id="page-100-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      Description of fields within Sub-register 0x00:4C – RX frame information
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      RXNSPL
     </td>
     <td colspan="14">
      Receive non-standard preamble length. The DW3000 is able to send non-standard preamble
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      lengths to allow system designers more choice in optimising performance. The RXNSPL field
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      operate in conjunction with the RXPSR field to report the received preamble length. The
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:12,11
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RXPSR field reports the preamble length as signalled in the PHR (see 2.9 for details). The
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      receiver determines additional information about the transmitted preamble length from the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      count of preamble accumulation, as reported by the RXPACC field, and uses this to set the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXNSPL value.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Table 21 below lists the preamble lengths that can be reported by considering RXNSPL and
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="15" rowspan="2">
      the RXPSR fields together:
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Table 21: preamble length reporting
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Bit 19
     </td>
     <td>
      Bit 18
     </td>
     <td>
      Bit 12
     </td>
     <td>
      Bit 11
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      RXPSR
     </td>
     <td>
     </td>
     <td>
      RXNSPL
     </td>
     <td>
      RX Preamble Length
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      64
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      128
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      256
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      512
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1024
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1536
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      1
      <br/>
      0
      <br/>
      1
      <br/>
      0
      <br/>
      2048
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="13">
      1
      <br/>
      1
      <br/>
      0
      <br/>
      0
      <br/>
      4096
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      The bit numbers quoted above are the bit numbers in the RX_FINFO register.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Where preamble length is not predetermined and hard coded in the application, the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      received preamble length information may be used to select the preamble length for any
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      response message, by copying RXNSPL and RXPSR fields into the TXPSR configuration
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      respectively (TXPSR = RXNSPL &lt;&lt; 2 + RXNSPL).
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      This value is updated when a good PHR is detected (when the RXPHD status bit is set).
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RXBR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Receive Bit Rate report. This field reports the received bit rate. This information is signalled
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      in the received packet's PHR (see 2.9 for details): 0 = 850 kb/s, and 1 = 6.8Mb/s
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:13
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      This value is updated when a good PHR is detected (when the RXPHD status bit is set).
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      This bit is reserved.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:14
      <br/>
      RNG
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Receiver Ranging. This reflects the ranging bit in the received PHY header identifying the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      frame as a ranging frame.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      This value is updated when a good PHR is detected (when the RXPHD status bit is set).
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RXPRF
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RX Pulse Repetition Rate report. This field reports the PRF being employed in the receiver.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      This is determined by the RX_PCODE programmed in CHAN_CTRL register. The values are: 01
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:17,16
     </td>
     <td>
      = 16 MHz, 10 = 64 MHz
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-101-3">
  </span>
  <span id="page-101-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:4C – RX frame information
     </th>
    </tr>
    <tr>
     <td>
      RXPSR
     </td>
     <td>
      RX Preamble Repetition. This field reports the received packet's preamble length as signalled
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in the PHR (see 2.9 for details). The values of these two bits are defined by the standard as:
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
      <br/>
      bits:19,18
     </td>
     <td>
      00 = 16 symbols, 01 = 64 symbols, 10= 1024 symbols, and, 11= 4096 symbols
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      In addition to these standard preamble lengths, the DW3000 also supports the transmission
      <br/>
      of non-standard preamble lengths. These non-standard lengths cannot be signalled in the
      <br/>
      PHR; instead the DW3000 gives an estimate of the preamble length based on the RXPSR from
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the PHR and the RXPACC value. The estimate is reported using RXPSR and RXNSPL fields
      <br/>
      together as per Table 21 above.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This value is updated when a good PHR is detected (when the RXPHD status bit is set).
     </td>
    </tr>
    <tr>
     <td>
      RXPACC
     </td>
     <td>
      Preamble Accumulation Count. This reports the number of symbols of preamble and SFD
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      that are accumulated. The value is updated/available after a good PHR is detected (when the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:4C
      <br/>
      bits:31–20
     </td>
     <td>
      RXPHD status bit is set).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXPACC will usually be slightly smaller than the transmitted preamble length because
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      detecting the presence of the preamble consumes several symbols (a PAC size) and they do
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      not contribute to the CIR estimate.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: This value is similar but not the same as the IP_NACC from the CIA interface. IP_NACC
      <br/>
      allows for the effect of negative and zero symbols in the SFD to produce an effective
      <br/>
      accumulated symbol count and it should be used when determining RSSI.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-101-1">
   </span>
   <b>
    8.2.2.16 Sub-register 0x00:64 – Receive time stamp
   </b>
  </h2>
  <span id="page-101-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:64
     </td>
     <td>
      16
     </td>
     <td>
      ROD
     </td>
     <td>
      RX_TIME
     </td>
     <td>
      Receive time stamp
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x64 of register file 0x00 reports the  receive time stamp. The IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   defines a point during a packet reception which is  timestamped (shown in
   <a href="#page-32-2">
    Figure 13)
   </a>
   , this point is called th
   <a href="#page-251-4">
    e RMARKER.
   </a>
   DW3000 takes a coarse timestamp of  the symbol in which the
   <a href="#page-251-4">
    RMARKER
   </a>
   event occurs and to this adds various correction factors to give a resultant  time stamp value. Please refer to section
   <i>
    <a href="#page-40-2">
     4.1.7
    </a>
    –
    <a href="#page-40-2">
     RX message
    </a>
   </i>
   timestamp for more details of the corrections  applied.
  </p>
  <p block-type="Text">
   NOTE: these registers 0x64-&gt;0x73
   <b>
    cannot
   </b>
   be read in a single SPI transaction. A single SPI read from address  0x64 of 16 bytes will not return correct data.
  </p>
  <p block-type="Text">
   The
   <a href="#page-101-2">
    RX_TIME
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:00:64 – RX_TIME – Receive time stamp (Octets 0 to 3, 32-bits)
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="14">
      RX_STAMP (low 32 bits of 40-bit value)
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    REG:00:68 – RX_TIME – Receive time stamp (Octet 4)
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0
  </h3>
  <p block-type="Text">
   <a href="#page-102-1">
    RX_STAMP
   </a>
   (high 8 bits of 40) 0 0 0 0 0 0 0 0
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:00:70 – RX_TIME – Receive time stamp (Octets 8 to 11, 32-bits)
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th colspan="13">
      RX_RAWST
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The sub-fields o
   <a href="#page-101-2">
    f RX_TIME
   </a>
   register are described below:
  </p>
  <span id="page-102-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:64 – Receive time stamp
     </th>
    </tr>
    <tr>
     <td>
      RX_STAMP
     </td>
     <td>
      This 40-bit (5-octet) field reports the fully adjusted time of reception. Please refer to section
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      4.1.7 – RX message timestamp for more details of the adjustments applied. The units of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:64
     </td>
     <td>
      low order bit are approximately 15.65 picoseconds. The actual unit may be calculated as 1/
     </td>
    </tr>
    <tr>
     <td>
      bits:39–0
     </td>
     <td>
      (128*499.2×106
      <br/>
      ) seconds. The value is available here when the leading edge determination
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      and timestamp adjustments are completed (when the CIADONE event status flag bit is set).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: The RX timestamp estimate resulting from running the CIA on the preamble CIR is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      written here and also to the IP_TOA field in Sub-register 0x0C:00 – Preamble receive time
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      stamp and status, subsequently if STS is enabled the RX_STAMP value here may be over
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      written by the STS based RX timestamp estimate, which is also written to the STS_TOA field
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in Sub-register 0x0C:08 – STS receive time stamp and status. Please refer to § 6 – Secure
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      ranging / timestamping for details of the operation of the STS for secure ranging operations.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:68
      <br/>
      bits:31-8
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RX_RAWST
     </td>
     <td>
      This 32-bit (4-octet) field reports the Raw Timestamp for the packet. This is the value of the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      system clock (125 MHz) captured at start of the PHR (the high 32-bits). The precision here is
     </td>
    </tr>
    <tr>
     <td>
      reg:00:70
     </td>
     <td>
      approximately 125 MHz (8 ns), i.e. the least significant bit is zero.
     </td>
    </tr>
    <tr>
     <td>
      bits:31–0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-102-3">
   </span>
   <span id="page-102-2">
   </span>
   <b>
    8.2.2.17 Sub-register 0x00:74 – Transmit time stamp
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00:74
     </td>
     <td>
      5
     </td>
     <td>
      RO
     </td>
     <td>
      TX_TIME
     </td>
     <td>
      Transmit time stamp
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-102-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x74 of register file 0x00 reports the  transmit time stamp information. The IEEE802.15.4 standard
   <a href="#page-253-3">
    [1]
   </a>
   defines a point during a packet  transmission which is timestamped (shown in
   <a href="#page-32-2">
    Figure 13)
   </a>
   , this point is called the
   <a href="#page-251-4">
    RMARKER.
   </a>
   The DW3000 takes a timestamp of the symbol in which the
   <a href="#page-251-4">
    RMARKER
   </a>
   event occurs and to this adds the antenna delay to  give a resultant time stamp value, of when the RMARKER is launched from the antenna.
  </p>
  <p block-type="Text">
   Thi
   <a href="#page-102-0">
    s TX_TIME
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:00:74 – TX_TIME – Transmit time stamp (Octets 0 to 3, 32-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      TX_STAMP (low 32 bits of 40-bit value)
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      REG:00:78 – TX_TIME – Transmit time stamp (Octet 4, 8-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      TX_STAMP (high 8 bits of 40)
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The sub fields of
   <a href="#page-102-0">
    TX_TIME
   </a>
   register are laid out above. It is possible to read a variable number of bytes any  byte index. The individual sub-fields are described below:
  </p>
  <span id="page-103-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x00:74 – Transmit time stamp
     </th>
    </tr>
    <tr>
     <td>
      TX_STAMP
     </td>
     <td>
      This 40-bit (5-octet) field reports the fully adjusted time of transmission. The unit of the
     </td>
    </tr>
    <tr>
     <td>
      reg:00:74
      <br/>
      bits:39–0
     </td>
     <td>
      least significant bit is approximately 15.65 picoseconds. The actual unit may be calculated as
      <br/>
      1/ (128*499.2×106
      <br/>
      ) seconds. The value is available here when the PHR transmission has
      <br/>
      completed.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-103-3">
   </span>
   <b>
    8.2.2.18 Sub-register 0x01:00 – Transmit time stamp raw
   </b>
  </h4>
  <span id="page-103-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:00
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      TX_RAWST
     </td>
     <td>
      Transmit time stamp raw
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x00 of register file 0x01 reports the  raw transmit time stamp information. The IEEE802.15.4 standar
   <a href="#page-253-3">
    d [1]
   </a>
   defines a point during a packet  reception which is timestamped (shown in
   <a href="#page-32-2">
    Figure 13)
   </a>
   , this point is called th
   <a href="#page-251-4">
    e RMARKER.
   </a>
   The DW3000 takes a  timestamp of the symbol in which the
   <a href="#page-251-4">
    RMARKER
   </a>
   event occurs. This is a 32-bt register which contains 39-8  bits of the
   <a href="#page-102-0">
    TX_TIME
   </a>
   register prior to addition of antenna delay.
  </p>
  <h4>
   <span id="page-103-4">
   </span>
   <b>
    8.2.2.19 Sub-register 0x01:04 – Transmitter antenna delay
   </b>
  </h4>
  <span id="page-103-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:04
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      TX_ANTD
     </td>
     <td>
      16-bit delay from transmiter to the antenna
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x04 of register file 0x01, the  Transmitter Antenna Delay, is used to account for the delay between the internal digital timestamp of the
   <a href="#page-251-4">
    RMARKER
   </a>
   and the time the
   <a href="#page-251-4">
    RMARKER
   </a>
   is at the antenna. The value programmed here is automatically added  to the raw timestam
   <a href="#page-103-2">
    p TX_RAWST
   </a>
   to get th
   <a href="#page-103-1">
    e TX_STAMP
   </a>
   reported in
   <i>
    <a href="#page-102-2">
     Sub-register 0x00:74
    </a>
    – Transmit time
    <a href="#page-102-2">
     stamp
    </a>
   </i>
   . Refer to section
   <i>
    <a href="#page-243-1">
     10.3
    </a>
    – IC calibration –
    <a href="#page-243-1">
     antenna delay
    </a>
   </i>
   for details of calibration of antenna delay. The  units here are the same as those used for system time and time stamps, i.e. 499.2 MHz × 128, so the least  significant bit is about 15.65 picoseconds. The default antenna delay is 0x4015, which is approx. 256.74 ns.
  </p>
  <h2>
   <span id="page-104-2">
   </span>
   <b>
    8.2.2.20 Sub-register 0x01:08 – Acknowledgement time and response time
   </b>
  </h2>
  <span id="page-104-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:08
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      ACK_RESP_T
     </td>
     <td>
      Acknowledgement delay time and response time
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x08 of register file 0x01 is a  configuration register used for specifying turn-around times for DW3000 to use when automatically  switching between TX mode and RX modes. The
   <a href="#page-104-0">
    ACK_RESP_T
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="9">
      REG:01:08 – ACK_RESP – Acknowledgement time and response time
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td colspan="5">
      ACK_TIM
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="9">
      W4R_TIM
     </td>
    </tr>
    <tr>
     <td colspan="6">
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-104-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:08 – Acknowledgement time and response
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      time
     </td>
    </tr>
    <tr>
     <td>
      W4R_TIM
     </td>
     <td>
      Wait-for-Response turn-around Time. This 20-bit field is used to configure the turn-around
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      time between TX complete and RX enable when the wait for response function is being used.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:08
     </td>
     <td>
      This function is enabled by any of the TX and wait-4-response commands (TXW4R, TXW4RCCA,
     </td>
    </tr>
    <tr>
     <td>
      bits:19–0
     </td>
     <td>
      TXW4RDLY, TXW4RDLYREF, TXW4RDLYTS, and TXW4RDLYRS). The time specified by this
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      W4R_TIM parameter is in units of approximately 1 µs, or 128 system clock cycles.
      <br/>
      This
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      configuration may be used to save power by delaying the turn-on of the receiver, to align with
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the response time of the remote system, rather than turning on the receiver immediately after
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transmission completes. For more details see section 5.6 – Transmit and automatically wait
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      for response.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-105-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="7">
      Description of fields within Sub-register 0x01:08 – Acknowledgement time and response
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9">
      time
     </td>
    </tr>
    <tr>
     <td>
      ACK_TIM
     </td>
     <td>
      Auto-Acknowledgement turn-around Time. This 8-bit field is used to configure the turn
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9">
      around time between the correct receipt of a data frame (or a MAC command frame) and
     </td>
    </tr>
    <tr>
     <td>
      reg:01:08
     </td>
     <td colspan="12">
      the transmission by the DW3000 of the acknowledgement frame. The time here is specified
     </td>
    </tr>
    <tr>
     <td>
      bits:31–24
     </td>
     <td colspan="11">
      in units of preamble symbols. (This resultant time is slightly different depending on whether
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the PRF is 16 or 64 MHz, see Table 9 for details the preamble symbol lengths).This timer only
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      applies if auto-acknowledgement is in use and then only acts when the frame is correctly
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      received, passing through the RX frame filtering rules, and when the ACK bit in the frame's
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      MAC header is set to request acknowledgement. Please refer to section 5.5 – Automatic
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      acknowledgement Automatic for details of the Acknowledgement function. To ensure that
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the receiver is ready for the first preamble symbol, and assuming that the remote DW3000
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      has a its W4R_TIM parameter set to 0, the recommended minimum ACK_TIM settings are as
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      follows:
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      Data Rate
     </td>
     <td>
      Recommend min.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      ACK_TIM
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      850 kb/s
     </td>
     <td>
      2
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      6.8 Mb/s
     </td>
     <td>
      3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This is most important at the 6.8 Mb/s data rate, where preamble sequences are generally
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      short, and losing even a few preamble symbols could potentially compromise ACK reception.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Where the W4R_TIM parameter is larger than zero, the ACK_TIM setting should be increased
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      also to ensure that none of the packet is sent before the remote receiver is listening.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
      Note: When the CIA algorithm is being run, the frame reception RXFR (and RXFCG) event
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td colspan="11">
      status flags are delayed until the CIA algorithm completes. This is done to ensure that the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      receive timestamp information is valid when the interrupt is asserted. This delay is incurred
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by the Auto-Acknowledgement function, since it is initiated by the frame reception RXFR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="8">
      event also. The CIA processing delay is around 70 µs for a non-PDoA STS mode (35 µs each
      <br/>
      for preamble and STS CIR analysis). Any programmed ACK_TIM will act in addition to this,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      i.e. the delay timer will only start running when the RXFR event is asserted. Clearly, where a
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      remote device is waiting for the ACK response it will need to take this extra delay into
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      account in its turnaround receiver enablement and any timeouts it may be implementing.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      To speed up Auto-Acknowledgement transmission, FAST_AAT bit can be set or where the RX
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="7">
      timestamp is not required, the CIA analysis may be disabled by clearing both CIA_IPATOV
      <br/>
      and CIA_STS configuration bits in Sub-register 0x00:10 – System configuration.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should always be written as zero.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-105-2">
   </span>
   <b>
    8.2.2.21 Sub-register 0x01:0C – Transmit power control
   </b>
  </h2>
  <span id="page-105-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:0C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      TX_POWER
     </td>
     <td>
      TX power control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x0C of register file 0x01 is used for  configuration and control of the transmitter output power.
  </p>
  <p block-type="Text">
   The transmitter output power can be adjusted using this
   <i>
    Sub-register 0x01:0C –
    <a href="#page-105-2">
     Transmit power control
    </a>
   </i>
   .  Register, which contains the four octets each of which specifies a separate transmit power setting. Each  power control octet, specifies the power as a combination of a coarse gain parameter and a fine gain  parameter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="11">
      REG:01:0C – TW_POWER – TX power control register (octets 0 to 3)
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td colspan="5">
      STS_PWR
     </td>
     <td>
     </td>
     <td colspan="5">
      SHR_PWR
     </td>
     <td colspan="6">
      PHR_PWR
     </td>
     <td colspan="7">
      DATA_PWR
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td colspan="4">
      FINE
      <br/>
      COARSE
     </td>
     <td>
     </td>
     <td colspan="5">
      FINE
      <br/>
      COARSE
     </td>
     <td>
     </td>
     <td colspan="5">
      FINE
      <br/>
      COARSE
     </td>
     <td>
     </td>
     <td colspan="6">
      FINE
      <br/>
      COARSE
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td colspan="5">
      0x82
     </td>
     <td>
     </td>
     <td colspan="4">
      0x82
     </td>
     <td colspan="5">
      0x82
     </td>
     <td colspan="7">
      0x82
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual sub-fields o
   <a href="#page-105-0">
    f TX_POWER
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:0C – Transmit power control
     </th>
    </tr>
    <tr>
     <td>
      DATA_PWR
     </td>
     <td>
      This octet is used to control the TX power applied during the transmission of the Data (PHY
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Payload) part of the TX packet (see Figure 13).
     </td>
    </tr>
    <tr>
     <td>
      reg:01:0C
      <br/>
      bits:7–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The gain control range consists of 64 fine control steps (bits 7-2) and 4 coarse control steps
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (bits 1-0). The fine control steps provide approximately 25 dB of control, while the coarse
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      steps provide an additional 7 dB of control.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For the best current consumption performance, the coarse steps should be minimised for
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the desired output power.
     </td>
    </tr>
    <tr>
     <td>
      PHR_PWR
     </td>
     <td>
      This octet is used to control the TX power applied during the transmission of the PHY header
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (PHR) part of the TX packet (see Figure 13). When PHR is configured to be sent at higher
     </td>
    </tr>
    <tr>
     <td>
      reg:01:0C
     </td>
     <td>
      datarate (see PHR_6M8) then the power setting in this octet should match the DATA_PWR
     </td>
    </tr>
    <tr>
     <td>
      bits:15–8
     </td>
     <td>
      above.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The gain control is as specified in DATA_PWR above.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The BPRF PHR is peak-power-limited. To optimise the output TX power profile, it is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      recommended to reduce the PHR_PWR setting in comparison to the DATA_PWR, SHR_PWR
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      and STS_PWR settings.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For example, if the DATA_PWR is set to 0xFF, it is recommended to set PHR_PWR to 0xFC.
     </td>
    </tr>
    <tr>
     <td>
      SHR_PWR
     </td>
     <td>
      This octet is used to control the TX power applied during the transmission of the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      synchronisation header (SHR), which consists of the preamble and SFD, (see Figure 13).
     </td>
    </tr>
    <tr>
     <td>
      reg:01:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:23–16
     </td>
     <td>
      The gain control is as specified in DATA_PWR above.
     </td>
    </tr>
    <tr>
     <td>
      STS_PWR
     </td>
     <td>
      This octet is used to control the TX power applied during the STS part of the TX packet (see
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Figure 13).
     </td>
    </tr>
    <tr>
     <td>
      reg:01:08
      <br/>
      bits:31–24
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The gain control is as specified in DATA_PWR above.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Note:
   </b>
   For optimum performance, manufacturers have to calibrate the TX power of each unit/DW3000 IC  board/module to account for IC to IC variations and different IC to antenna losses. Usually the TX power is  set to the maximum allowed by spectral emission regulations (-41.3 dBm/MHz) and such that no other outof-band limits are exceeded.
  </p>
  <p block-type="Text">
   The register default values may be too high for the use case. In order to comply with regional spectrum  regulations the resultant output power spectrum should be checked.
  </p>
  <h2>
   <i>
    8.2.2.21.1 Transmit power control
   </i>
  </h2>
  <p block-type="Text">
   DW3000 provides functionality to exercise power control over various parts of the transmit packet individually. Please refer to section
   <a href="#page-32-0">
    3
   </a>
   <a href="#page-32-0">
    Message transmission,
   </a>
   for details of packet structure. If a packet is  short, it is possible to boost the power for the packet while staying within the regulatory limits. Each part of  the packet may be controlled separately so that the power can be boosted without violating the regulatory  limits for peak power. However, in general, the power settings for all parts of the packet should be  programmed to the same value.
  </p>
  <h4>
   <i>
    8.2.2.21.2 Transmit power variation across coarse and fine gain steps
   </i>
  </h4>
  <p block-type="Text">
   <a href="#page-108-0">
    Figure 27
   </a>
   below, shows typical TX power variation over coarse and fine gain steps, for the two channels.
  </p>
  <p>
   <img src="_page_108_Figure_4.jpeg"/>
  </p>
  <p>
   <b>
    Figure 27: Typical TX power variation with coarse and fine gain
   </b>
  </p>
  <p block-type="Text">
   0 5 10 15 20 25 30 35 40 45 50 55 60
  </p>
  <p block-type="Text">
   Fine Gain Setting
  </p>
  <h4>
   <span id="page-108-0">
   </span>
   <b>
    Note:
   </b>
  </h4>
  <p block-type="Text">
   <b>
    Channel 9:
   </b>
   the maximum coarse gain setting is 2, and the setting 3 should not be used.
  </p>
  <p block-type="Text">
   <b>
    Channel 5:
   </b>
   the recommended coarse gain setting is 2. There is only a marginal increase in TX  power using coarse gain setting of 3, but there is a relatively large increase in current when it is  applied. For further details see the Datasheet
   <a href="#page-253-8">
    [5].
   </a>
  </p>
  <h2>
   <span id="page-109-2">
   </span>
   <b>
    8.2.2.22 Sub-register 0x01:14 – Channel control
   </b>
  </h2>
  <span id="page-109-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:14
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      CHAN_CTRL
     </td>
     <td>
      Channel control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x14 of register file 0x01 is the channel  control register. This is used to select transmit and receive channels, and configure preamble codes and  some related parameters.
  </p>
  <p block-type="Text">
   The fields of th
   <a href="#page-109-1">
    e CHAN_CTRL
   </a>
   register are defined as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:01:14 – CHAN_CTRL – Channel control register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RX_PCODE
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      TX_PCODE
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      SFD
     </td>
     <td>
      _TYPE
     </td>
     <td>
      RF_CHAN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-109-4">
  </span>
  <span id="page-109-3">
  </span>
  <span id="page-109-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="9">
      Description of fields within Sub-register 0x01:14 – Channel control
     </th>
    </tr>
    <tr>
     <td>
      RF_CHAN
      <br/>
      reg:01:14
      <br/>
      bit:0
     </td>
     <td colspan="10">
      This selects the transmit and receive channel. Supported channels are 5, and 9. Setting bit 0
      <br/>
      to 0 selects channel 5 and to 1 selects channel 9. For the complete configuration of TX and RX
      <br/>
      block for each channel following registers also need to be configured:
      <br/>
      Full selection of TX channel requires that the following parameters are also set appropriately:
      <br/>
      •
      <br/>
      Sub-register 0x07:1A – RF
      <br/>
      •
      <br/>
      Sub-register 0x07:1C – RF TX control register 2
      <br/>
      •
      <br/>
      Sub-register 0x09:00 – PLL configuration
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="10">
      For correct operation of the DW3000 and compliance to the IEEE802.15.4 standard [1], the
      <br/>
      preamble code should be set according to the operating channel. For details of centre
      <br/>
      frequencies and preamble codes for the supported channels, please refer to section 2.6 – UWB
      <br/>
      channels and preamble codes.
     </td>
    </tr>
    <tr>
     <td>
      SFD_TYPE
     </td>
     <td colspan="9">
      Thise bits select the SFD type. Four different SFD types are supported. These are listed in the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9">
      Table 22.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:14
      <br/>
      bit:2-1
     </td>
     <td colspan="9">
      Table 22: SFD types
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      SFD_TYPE (bits 2:1)
     </td>
     <td>
      Sequence
     </td>
     <td>
      Description
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9" rowspan="2">
      00
      <br/>
      0+0-+00-
      <br/>
      IEEE 802.15.4 short 8-symbol SFD
      <br/>
      01
      <br/>
      ----+-00
      <br/>
      Decawave-defined 8-symbols SFD
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="8">
      10
      <br/>
      ----+-+--++--+00
      <br/>
      Decawave-defined 16-symbols SFD
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      11
     </td>
     <td>
      ---+--+-
     </td>
     <td>
      IEEE 802.15.4z defined 8-symbol SFD
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-110-4">
  </span>
  <span id="page-110-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:14 – Channel control
     </th>
    </tr>
    <tr>
     <td>
      TX_PCODE
     </td>
     <td>
      This field selects the preamble code used in the transmitter. The valid codes are 1 to 29. The
     </td>
    </tr>
    <tr>
     <td>
      reg:01:14
     </td>
     <td>
      user should select the preamble code from those recommended for the selected channel and
     </td>
    </tr>
    <tr>
     <td>
      bits:7–3
     </td>
     <td>
      the PRF they wish to use. The selection of the preamble code will set the PRF, selecting 1-8
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      will set 16 MHz PRF, selecting 9-24 will set 64 MHz PRF. Section 2.6 – UWB channels and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble codes details the preamble codes allowed in the supported channels.
     </td>
    </tr>
    <tr>
     <td>
      RX_PCODE
     </td>
     <td>
      This field selects the preamble code used in the receiver. The valid codes are 1 to 29. The user
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      should select the preamble code from those recommended for the selected channel and the
     </td>
    </tr>
    <tr>
     <td>
      reg:01:14
      <br/>
      bits:12–8
     </td>
     <td>
      PRF they wish to use. The selection of the preamble code will set the PRF, selecting 1-8 will
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      set 16 MHz PRF, selecting 9-24 will set 64 MHz PRF. Section 2.6 – UWB channels and preamble
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      codes details the preamble codes allowed in the supported channels.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:14
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–13
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-110-2">
   </span>
   <b>
    8.2.2.23 Sub-register 0x01:18 – LE PEND address 0 and 1
   </b>
  </h2>
  <span id="page-110-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:18
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      LE_PEND_01
     </td>
     <td>
      Low Energy device address 0 and 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x18 of register file 0x01 is a register  used for specifying the 16-bit addresses of LE devices for which there is data and PEND bit should be set in  the ACK frame (as a response to a MAC Data Request command from that node). See also section
   <a href="#page-53-0">
    5.5.2
   </a>
   <a href="#page-53-0">
    Frame pending bit.
   </a>
   The
   <a href="#page-110-1">
    LE_PEND_01
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:01:18 – LE_PEND_01 – LE PEND address
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th colspan="11">
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      LE_ADDR1
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      LE_ADDR0
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-110-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:18 – LE PEND address 0 and 1
     </th>
    </tr>
    <tr>
     <td>
      LE_ADDR0
      <br/>
      reg:01:18
     </td>
     <td>
      Low Energy device 16-bit address. Host may program a 16-bit address of a node for which
      <br/>
      it has pending data. Then when that node sends a MAC Data Request command, the device
      <br/>
      will reply with an ACK with PEND bit set. The host can then send data to that device in the
     </td>
    </tr>
    <tr>
     <td>
      bits:15–0
     </td>
     <td>
      following message. LE0_PEND bit must also be set.
      <br/>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
      <br/>
      in FF_CFG must also be configured.
      <br/>
      Section 5.4 describes frame filtering in more detail.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-111-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:18 – LE PEND address 0 and 1
     </th>
    </tr>
    <tr>
     <td>
      LE_ADDR1
     </td>
     <td>
      Low Energy device 16-bit address. Host may program a 16-bit address of a node for which
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      it has pending data. Then when that node sends a MAC Data Request command, the device
     </td>
    </tr>
    <tr>
     <td>
      reg:01:18
     </td>
     <td colspan="8">
      will reply with an ACK with PEND bit set. The host can then send data to that device in the
     </td>
    </tr>
    <tr>
     <td>
      bits:31–16
     </td>
     <td>
      following message. LE1_PEND bit must also be set.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in FF_CFG must also be configured.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Section 5.4 describes frame filtering in more detail
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-111-1">
   </span>
   <b>
    8.2.2.24 Sub-register 0x01:1C – LE PEND address 2 and 3
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:1C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      LE_PEND_23
     </td>
     <td>
      Low Energy device address 2 and 3
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-111-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x1C of register file 0x01 is a register  used for specifying the 16-bit addresses of LE devices for which there is data and PEND bit should be set in  the ACK frame (as a response to a MAC Data Request command from that node). See also section
   <a href="#page-53-0">
    5.5.2
   </a>
   <a href="#page-53-0">
    Frame pending bit.
   </a>
   The
   <a href="#page-111-0">
    LE_PEND_23
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:01:1C – LE_PEND_23 – LE PEND address
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="11">
     </td>
     <td>
     </td>
     <td colspan="13">
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      LE_ADDR3
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="13">
      LE_ADDR2
     </td>
    </tr>
    <tr>
     <td colspan="13">
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-111-4">
  </span>
  <span id="page-111-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:1C – LE PEND address 2 and 3
     </th>
    </tr>
    <tr>
     <td>
      LE_ADDR2
     </td>
     <td>
      Low Energy device 16-bit address. Host may program a 16-bit address of a node for which
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      it has pending data. Then when that node sends a MAC Data Request command, the device
     </td>
    </tr>
    <tr>
     <td rowspan="2">
      reg:01:1C
      <br/>
      bits:15–0
     </td>
     <td>
      will reply with an ACK with PEND bit set. The host can then send data to that device in the
     </td>
    </tr>
    <tr>
     <td>
      following message. LE2_PEND bit must also be set.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in FF_CFG must also be configured.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Section 5.4 describes frame filtering in more detail.
     </td>
    </tr>
    <tr>
     <td>
      LE_ADDR3
     </td>
     <td>
      Low Energy device 16-bit address. Host may program a 16-bit address of a node for which
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      it has pending data. Then when that node sends a MAC Data Request command, the device
     </td>
    </tr>
    <tr>
     <td>
      reg:01:1C
     </td>
     <td>
      will reply with an ACK with PEND bit set. The host can then send data to that device in the
     </td>
    </tr>
    <tr>
     <td>
      bits:31–16
     </td>
     <td>
      following message. LE3_PEND bit must also be set.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note AUTO_ACK bit in SYS_CFG, and frame filtering rules (e.g. to allow MAC commands)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in FF_CFG must also be configured.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Section 5.4 describes frame filtering in more detail.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-112-1">
   </span>
   <b>
    8.2.2.25 Sub-register 0x01:20 – SPI collision status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:20
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      SPI_COLLISION
     </td>
     <td>
      SPI collision status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x20 of register file 0x01 is a status  register used for specifying which DW3000 internal block caused the SPI collision error event. The
   <a href="#page-112-2">
    SPI_COLLISION
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="10">
      REG:01:20 – SPI_COLLISION – SPI collision status
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
      <br/>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
      <br/>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="3">
      SPI_COLLISION
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
      <br/>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
      <br/>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual sub-fields are described below:
  </p>
  <span id="page-112-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:20 – SPI collision status
     </th>
    </tr>
    <tr>
     <td>
      SPI_COLLISION
     </td>
     <td>
      SPI collision status. If there is a case of a failed SPI transaction caused by internal
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      contention the DW3000 will indicate this by the SPIERR event. This SPI_COLLISION status
     </td>
    </tr>
    <tr>
     <td>
      reg:01:20
     </td>
     <td colspan="6">
      indicates which internal DW3000 block has conflicted with the host SPI access:
     </td>
    </tr>
    <tr>
     <td>
      bits:4–0
     </td>
     <td>
      0x10 = AON,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x08 = CIA while accessing ROM,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x04 = CIA while accessing RAM,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x02 = digital receiver,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x01 = digital transmitter.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:20
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7–5
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-112-3">
   </span>
   <b>
    8.2.2.26 Sub-register 0x01:24 – RX double buffer status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:24
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      RDB_STATUS
     </td>
     <td>
      RX double buffer status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-112-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x24 of register file 0x01 is a status  register used for indicating the events following a reception of a frame when operating in double buffer  mode. It contains a sub section of status bits which happen as a result of frame reception. More details on  the operation of double buffering are given in sectio
   <a href="#page-41-0">
    n 4.4
   </a>
   <a href="#page-41-0">
    Double receive buffer.
   </a>
   Th
   <a href="#page-112-0">
    e RDB_STATUS
   </a>
   register  contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="10">
      REG:01:24 – RDB_STATUS – RX double buffer status
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
      <br/>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CP_ERR1
     </td>
     <td>
      CIADONE1
     </td>
     <td>
      RXFR1
     </td>
     <td>
      RXFCG1
     </td>
     <td>
      CP_ERR0
     </td>
     <td>
      CIADONE0
      <br/>
      RXFR0
     </td>
     <td>
      RXFCG0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
      <br/>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-112-0">
    RDB_STATUS
   </a>
   register sub-fields are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:24 – RX double buffer status
     </th>
    </tr>
    <tr>
     <td>
      RXFCG0
     </td>
     <td>
      Receiver FCS Good. This event status bit reflects the result of the frame CRC checking. When
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the frame has been received in RX_BUFFER_0 when operating in double buffer mode (see
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      section 4.4 Double receive buffer).
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
      When RXFCG0 is set to 1 it indicates that the CRC check result generated on the received data
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      matches with the 2-octet FCS sequence at the end of the frame. RXFR0 with RXFCG0 then
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      indicates the correct reception a valid frame in RX_BUFFER_0. The RXFCG0 status bit can be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      RXFR0
     </td>
     <td>
      Receiver Data Frame Ready. This event status bit is set to indicate that the completion of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the frame reception process of a frame in RX_BUFFER_0 when operating in double buffer
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
      <br/>
      bit:1
     </td>
     <td>
      mode (see section 4.4 Double receive buffer). It is expected that this will be used as the main
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      "Receive" (interrupt) event signalling the completion of a frame reception in double buffer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      mode, and, that the receive event processing routine will examine the RXFCG0 and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      determine whether the frame has been received correctly, and also to check the CIADONE0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event status flag to validate the receive timestamp information. The RXFR0 status bit can be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      CIADONE0
     </td>
     <td>
      CIA processing done on the CIR relating to a message in RX_BUFFER_0 when operating in
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      double buffer mode (see section 4.4 Double receive buffer). This event status bit is set to
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      indicate the completion by the CIA algorithm of the leading edge detection and its other
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      adjustments of the receive timestamp information.
      <br/>
      The resultant adjusted message RX
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      timestamp is then available in SET_1 register. The CIADONE0 status bit can be cleared by
     </td>
    </tr>
    <tr>
     <td>
      CP_ERR0
     </td>
     <td>
      writing a 1 to it.
      <br/>
      Scramble Timestamp Sequence (STS) error. The CPERR event status flag will get set if the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      STS_TOAST bits are non-zero on the frame that was received in RX_BUFFER_0.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      The CP_ERR0 status bit can be cleared by writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      bit:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RXFCG1
     </td>
     <td>
      Receiver FCS Good. This event status bit reflects the result of the frame CRC checking. When
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the frame has been received in RX_BUFFER_1 when operating in double buffer mode (see
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      section 4.4 Double receive buffer).
     </td>
    </tr>
    <tr>
     <td>
      bits:4
     </td>
     <td>
      When RXFCG1 is set to 1 it indicates that the CRC check result generated on the received data
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      matches with the 2-octet FCS sequence at the end of the frame. RXFR1 with RXFCG1 then
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      indicates the correct reception a valid frame in RX_BUFFER_1. The RXFCG1 status bit can be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      cleared by writing a 1 to it.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:24 – RX double buffer status
     </th>
    </tr>
    <tr>
     <td>
      RXFR1
     </td>
     <td>
      Receiver Data Frame Ready. This event status bit is set to indicate that the completion of the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      frame reception process of a frame in RX_BUFFER_1 when operating in double buffer mode
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      (see section 4.4 Double receive buffer). It is expected that this will be used as the main
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
      "Receive" (interrupt) event signalling the completion of a frame reception in double buffer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      mode, and, that the receive event processing routine will examine the RXFCG1 and determine
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      whether the frame has been received correctly, and also to check the CIADONE1 event status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      flag to validate the receive timestamp information. The RXFR1 status bit can be cleared by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      CIADONE1
     </td>
     <td>
      CIA processing done on the CIR relating to a message in RX_BUFFER_1 when operating in
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      double buffer mode (see section 4.4 Double receive buffer). This event status bit is set to
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
     </td>
     <td>
      indicate the completion by the CIA algorithm of the leading edge detection and its other
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
      adjustments of the receive timestamp information.
      <br/>
      The resultant adjusted message RX
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      timestamp is then available in SET_2 register. The CIADONE1 status bit can be cleared by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      writing a 1 to it.
     </td>
    </tr>
    <tr>
     <td>
      CP_ERR1
     </td>
     <td>
      Scramble Timestamp Sequence (STS) error. The CPERR event status flag will get set if the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      STS_TOAST bits are non-zero on the frame that was received in RX_BUFFER_1.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:24
      <br/>
      bit:7
     </td>
     <td>
      The CP_ERR1 status bit can be cleared by writing a 1 to it.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-114-0">
   </span>
   <b>
    8.2.2.27 Sub-register 0x01:28 – RX double buffer diagnostic configuration
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:28
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      RDB_DIAG
     </td>
     <td>
      RX double buffer diagnostic configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-114-1">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x28 of register file 0x01 is a  configuration register used for specifying the level of diagnostic data available after each receive event when  operating in double buffer mode. More details on the operation of double buffering are given in sectio
   <a href="#page-41-0">
    n 4.4
   </a>
   <a href="#page-41-0">
    Double receive buffer.
   </a>
   Th
   <a href="#page-114-1">
    e RDB_DIAG
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="11">
      REG:01:28 – RDB_DIAG – RX double buffer diagnostic configuration
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      MODE
      <br/>
      RDB_D
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual RDB_DIAG register sub-fields are described below:
  </p>
  <span id="page-115-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:28 – RX double buffer diagnostic
      <br/>
      configuration
     </th>
    </tr>
    <tr>
     <td>
      RDB_DMODE
      <br/>
      reg:01:28
      <br/>
      bits:2-0
     </td>
     <td colspan="5">
      RX double buffer diagnostic mode. The are 3 levels of diagnostic data that can be logged
      <br/>
      while RX double buffer mode is enabled:
      <br/>
      0x1 – Minimal set (logs 7 registers as shown in Table 44)
      <br/>
      0x2 – Medium set (logs 13 registers as shown in Table 44) and
      <br/>
      0x4 – Full set. (logs all registers as shown in Table 44)
      <br/>
      More details on the operation of double buffering are given in section 4.4 Double receive
      <br/>
      buffer.
      <br/>
      Note: The registers saved into the double buffer sets (SET_1 and SET_2) will depend on the
      <br/>
      CIA diagnostic level as set by MINDIAG.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:01:28
      <br/>
      bits:7–3
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-115-1">
   </span>
   <b>
    8.2.2.28 Sub-register 0x01:30 – AES configuration
   </b>
  </h2>
  <span id="page-115-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:30
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      AES_CFG
     </td>
     <td>
      AES configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x30 of register file 0x01 is a  configuration register used for the configuration of the DW3000
   <a href="#page-250-10">
    AES
   </a>
   block. The AES_CFG register contains  the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="11">
      REG:01:30 – AES_CFG – AES configuration
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      _OTP
      <br/>
      KEY
     </th>
     <th>
      _SEL
      <br/>
      CORE
     </th>
     <th>
     </th>
     <th>
      _SIZE
      <br/>
      TAG
     </th>
     <th>
     </th>
     <th>
      _SRC
      <br/>
      KEY
     </th>
     <th>
      _LOAD
      <br/>
      KEY
     </th>
     <th>
     </th>
     <th>
      _ADDR
      <br/>
      KEY
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      _SIZE
      <br/>
      KEY
     </th>
     <th>
      MODE
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual AES_CFG register sub-fields are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:30 – AES configuration
     </th>
    </tr>
    <tr>
     <td>
      MODE
     </td>
     <td>
      Mode of operation of AES core
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0: Encrypt – instructs the AES core to perform encryption on the input data
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
      <br/>
      bit:0
     </td>
     <td>
      1: Decrypt– instructs the AES core to perform decryption on the input data
     </td>
    </tr>
    <tr>
     <td>
      KEY_SIZE
     </td>
     <td>
      AES Key Size, configures the size of the KEY to be used by the AES engine.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0: 128 bits
     </td>
    </tr>
    <tr>
     <td rowspan="2">
      reg:01:30
      <br/>
      bits:2-1
     </td>
     <td>
      0x1: 192 bits
     </td>
    </tr>
    <tr>
     <td>
      0x2: 256 bits
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3 Unused and should not be configured
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-116-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:30 – AES configuration
     </th>
    </tr>
    <tr>
     <td>
      KEY_ADDR
     </td>
     <td>
      Address offset of AES KEY when using one of the AES KEY from the AES RAM (8 x 128 bits)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
      <br/>
      bits:5-3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      KEY_LOAD
     </td>
     <td>
      Load the AES KEY from AES KEY source (e.g. AES_KEY) into the AES core engine. This is done at
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the start of a session and all packets in the same session use the same pre-loaded key.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
     </td>
     <td>
      When using CCM mode, AES key should be loaded each time prior to starting of AES engine.
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
      This key update is needed even if the key remains the same.
     </td>
    </tr>
    <tr>
     <td>
      KEY_SRC
     </td>
     <td>
      AES key source: This bit selects if the AES KEY to be used for AES operation is the one stored
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in AES_KEY register (when this bit is set to 0) or (when this bit is set to 1) one of the KEYs
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
      <br/>
      bit:7
     </td>
     <td>
      stored in OTP memory or in AES RAM, as specified by the KEYOTP bit.
     </td>
    </tr>
    <tr>
     <td>
      TAG_SIZE
     </td>
     <td>
      Size of AES tag field. This is also known as the message integrity code size field. The AES tag
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      field can be configured to be one of the following:
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
     </td>
     <td>
      0x0: 0 bytes
     </td>
    </tr>
    <tr>
     <td>
      bits:10-8
     </td>
     <td>
      0x1: 4 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x2: 6 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3: 8 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x4: 10 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x5: 12 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x6: 14 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x7: 16 bytes
     </td>
    </tr>
    <tr>
     <td>
      CORE_SEL
     </td>
     <td>
      AES Core select. DW3000 supports two AES engine cores: GCM and CCM*. This bit selects
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      which AES core is used, when set to 0, the GCM is used; when set to 1 CCM* is used.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:11
      <br/>
      KEY_OTP
     </td>
     <td>
      AES key Memory source. When this bit is set to 0, the AES KEY used for the AES operation is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      taken from RAM (can be one of the 8 AES KEYs as specified by the KEYADDR) or when set to 1
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
     </td>
     <td>
      the AES KEY will be the one stored in the OTP (see 7.3.1 OTP memory map). Note KEYSRC
     </td>
    </tr>
    <tr>
     <td>
      bit:12
     </td>
     <td>
      needs to also be set to 1.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:30
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–13
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-116-2">
   </span>
   <b>
    8.2.2.29 Sub-register 0x01:34 – AES IV0
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemoni
      <br/>
      c
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:34
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      AES_IV0
     </td>
     <td>
      st IV 32-bit word for AES GCM core
      <br/>
      The 1
      <br/>
      mode, or
      <br/>
      when AES-CCM* core is used, the 4-bytes of the 13
      <br/>
      byte nonce (e.g. iv[12]) should be written into this
      <br/>
      register: i.e. iv[10], iv[9], iv[8], iv[7], where iv[10] is
      <br/>
      the least significant byte.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-116-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x34 of register file 0x01, this is the 1st IV 32-bit word for AES GCM core mode, or when AES-CCM* core is used, the 4-bytes of the 13 byte nonce  (e.g. iv[12]) should be written into this register: i.e. iv[10], iv[9], iv[8], iv[7], where iv[10] is the least  significant byte.
  </p>
  <h2>
   <span id="page-117-3">
   </span>
   <b>
    8.2.2.30 Sub-register 0x01:38 – AES IV1
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemoni
      <br/>
      c
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:38
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      AES_IV1
     </td>
     <td>
      nd IV 32-bit word for AES GCM core mode, or
      <br/>
      The 2
      <br/>
      when AES-CCM* core is used, the 4-bytes of the 13
      <br/>
      byte nonce (e.g. iv[12]) should be written into this
      <br/>
      register: i.e. iv[6], iv[5], iv[4], iv[3], where iv[6] is the
      <br/>
      least significant byte
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-117-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x38 of register file 0x01, this is the 2nd IV 32-bit word for AES GCM core mode, or when AES-CCM* core is used, the 4-bytes of the 13 byte nonce  (e.g. iv[12]) should be written into this register: i.e. iv[6], iv[5], iv[4], iv[3], where iv[6] is the least significant byte.
  </p>
  <h2>
   <span id="page-117-4">
   </span>
   <b>
    8.2.2.31 Sub-register 0x01:3C – AES IV2
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td rowspan="6">
      01:3C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      The 3rd IV 32-bit word for AES GCM core
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td rowspan="5">
      AES_IV2
     </td>
     <td>
      mode, or when AES-CCM* core is used, the 4-
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      bytes of the 13 byte nonce (e.g. iv[12])
     </td>
    </tr>
    <tr>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      should be written into this register: i.e. iv[2],
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td rowspan="2">
     </td>
     <td>
      iv[1], iv[0], don't care, where iv[2] is the least
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      significant byte
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-117-1">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x3C of register file 0x01 this is the 3rd IV 32-bit word for AES GCM core mode, or when AES-CCM* core is used, the 4-bytes of the 13 byte nonce  (e.g. iv[12]) should be written into this register: i.e. iv[2], iv[1], iv[0], don't care, where iv[2] is the least  significant byte.
  </p>
  <h3>
   <span id="page-117-5">
   </span>
   <b>
    8.2.2.32 Sub-register 0x01:40 – AES IV3
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td rowspan="2">
      01:40
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      When AES-CCM* core is used, the payload
     </td>
    </tr>
    <tr>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      AES_IV3
     </td>
     <td>
      length needs to be programmed here.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      This is not used in the AES GCM core mode.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-117-2">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x40 of register file 0x01, is a 16-bit  register which needs to contain the length of the payload which the AES engine is going to decrypt/encrypt.  This register is not used in the AES GCM core mode.
  </p>
  <h2>
   <b>
    8.2.2.33 Sub-register 0x01:42 – AES IV4
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:42
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      AES_IV4
     </td>
     <td>
      The two bytes of the 13 byte nonce (e.g.
      <br/>
      iv[12]) should be written into this register:
      <br/>
      i.e. iv[12], iv[11], where iv[12] is the least
      <br/>
      significant byte.
      <br/>
      This is not used in the AES GCM core mode.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x42 of register file 0x01, is a 16-bit  register which contains two bytes of the 13 byte nonce (e.g. iv[12]): i.e. iv[12], iv[11], where iv[12] is the  least significant byte. This register is not used in the AES GCM core mode.
  </p>
  <h3>
   <span id="page-118-1">
   </span>
   <b>
    8.2.2.34 Sub-register 0x01:44 – DMA configuration
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:44
     </td>
     <td>
      8
     </td>
     <td>
      RW
     </td>
     <td>
      DMA_CFG
     </td>
     <td>
      The DMA configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-118-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x44 of register file 0x01, this is the  configuration register for the AES-DMA engine. The AES-DMA Engine performs encryption/authentication of  packets and transfers data from/to the RAMs/buffers.
  </p>
  <p block-type="Text">
   The
   <a href="#page-118-0">
    DMA_CFG
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
      REG:01:44 – DMA_CFG – DMA configuration (octets 0 to 3)
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      _SEL
      <br/>
      _END
      <br/>
      CP
     </th>
     <th>
     </th>
     <th>
     </th>
     <th colspan="7">
      DST_ADDR
     </th>
     <th>
     </th>
     <th>
      DST_PORT
     </th>
     <th>
     </th>
     <th colspan="5">
      SRC_ADDR
     </th>
     <th>
     </th>
     <th>
     </th>
     <th colspan="3">
      SRC_PORT
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:01:48 – DMA_CFG – DMA configuration (octets 4 to 7)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      PYLD_SIZE
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      HDR_SIZE
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-118-0">
    DMA_CFG
   </a>
   register sub-fields are described below:
  </p>
  <span id="page-119-1">
  </span>
  <span id="page-119-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:44 – DMA configuration
     </th>
    </tr>
    <tr>
     <td>
      SRC_PORT
     </td>
     <td>
      Source memory port for DMA transfer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0: AES scratch RAM
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
     </td>
     <td>
      0x1: RX buffer 0
     </td>
    </tr>
    <tr>
     <td>
      bits:2-0
     </td>
     <td>
      0x2: RX buffer 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3: TX buffer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x4-0x7: Unused
     </td>
    </tr>
    <tr>
     <td>
      SRC_ADDR
     </td>
     <td>
      Address offset within source memory for DMA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transfer (0 – 1024 bytes)
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
      <br/>
      bits:12-3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      DST_PORT
     </td>
     <td>
      Destination memory port for DMA transfer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0: AES scratch RAM.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
     </td>
     <td>
      0x1: RX buffer 0
     </td>
    </tr>
    <tr>
     <td>
      bits:15-13
     </td>
     <td>
      0x2: RX buffer 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3: TX buffer
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x4: STS key register
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x5-0x7: Unused
     </td>
    </tr>
    <tr>
     <td>
      DST_ADDR
     </td>
     <td>
      Address offset within destination memory for DMA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transfer (0 – 1024 bytes)
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:25-16
      <br/>
      CP_END_SEL
     </td>
     <td>
      Select the endianess of the CP seed port.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0 = BigEndian.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
     </td>
     <td>
      1= Little Endian
     </td>
    </tr>
    <tr>
     <td>
      bit:26
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:44
      <br/>
      bits:31–26
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      HDR_SIZE
     </td>
     <td>
      Size of header field in the packet to be transferred via the DMA (0 to 127 bytes)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:48
     </td>
     <td>
      Note, the payload length does not include MIC (TAG_SIZE) and FCS lengths. Thus if RX or TX
     </td>
    </tr>
    <tr>
     <td>
      bits:6-0
     </td>
     <td>
      frame length is 100 bytes and header length is 10 bytes, MIC is 16 bytes and FCS is 2 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      then payload length is 100-10-16-2 = 72 bytes.
     </td>
    </tr>
    <tr>
     <td>
      PYLD_SIZE
     </td>
     <td>
      Size of payload field in the packet to be transferred via the DMA (0 to 1023 bytes)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:48
     </td>
     <td>
      Note, the payload length does not include MIC (TAG_SIZE) and FCS lengths. Thus if RX or TX
     </td>
    </tr>
    <tr>
     <td>
      bits:16:7
     </td>
     <td>
      frame length is 100 bytes and header length is 10 bytes, MIC is 16 bytes and FCS is 2 bytes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      then payload length is 100-10-16-2 = 72 bytes.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:48
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:23–17
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-119-2">
   </span>
   <b>
    8.2.2.35 Sub-register 0x01:4C – AES start
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:4C
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      AES_START
     </td>
     <td>
      Start AES operation
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x4C of register file 0x01, this is the  AES core operation register. The AES_START register contains the following bitmapped sub-fields:
  </p>
  <p>
   <img src="_page_120_Figure_3.jpeg"/>
  </p>
  <p block-type="Text">
   The individual AES_START register sub-fields are described below:
  </p>
  <span id="page-120-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x01:4C – AES start
     </th>
    </tr>
    <tr>
     <td>
      AES_START
     </td>
     <td colspan="6">
      Start AES operation. Set this bit to start AES operation, the bit will be cleared by AES core once
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      operation starts.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:4C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:4C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7–1
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-120-2">
   </span>
   <b>
    8.2.2.36 Sub-register 0x01:50 – AES status
   </b>
  </h4>
  <span id="page-120-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th colspan="2">
      Mnemonic
      <br/>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:50
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      AES_STS
     </td>
     <td>
      The AES Status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x50 of register file 0x01, this is the  AES core status register. The
   <a href="#page-120-0">
    AES_STS
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="8">
      REG:01:50 – AES_STS – AES status
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      _FULL
      <br/>
      M
      <br/>
      RA
     </td>
     <td>
      MPTY
      <br/>
      _E
      <br/>
      M
      <br/>
      RA
     </td>
     <td>
      _CONF
      <br/>
      M
      <br/>
      ME
     </td>
     <td>
      TRANS_ERR
     </td>
     <td>
      _ERR
      <br/>
      AUTH
     </td>
     <td>
      AES_DONE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-120-0">
    AES_STS
   </a>
   register sub-fields are described below:
  </p>
  <p>
   <img src="_page_121_Picture_1.jpeg"/>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Field
     </td>
     <td>
      Description of fields within Sub-register 0x01:50 – AES status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      AES_DONE
     </td>
     <td>
      AES operation complete. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      AUTH_ERR
     </td>
     <td>
      AES authentication error. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0: The tag/MIC that was supplied with the encrypted data has been validated correctly.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
      1: The tag/MIC that was supplied with the encrypted data has not been validated correctly,
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
      therefore the protected (frame) content should not be trusted.
     </td>
    </tr>
    <tr>
     <td>
      TRANS_ERR
     </td>
     <td>
      Indicates error with DMA transfer to memory. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This will occur when writing more data to a buffer than the buffer can hold. Size of data is
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:2
     </td>
     <td>
      too big for the destination buffer.
     </td>
    </tr>
    <tr>
     <td>
      MEM_CONF
     </td>
     <td>
      Indicates access conflict between multiple masters (SPI host, CIA engine and AES-DMA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      engine) trying to access same memory. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RAM_EMPTY
     </td>
     <td>
      Indicates AES scratch RAM is empty. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RAM_FULL
     </td>
     <td>
      Indicates AES scratch RAM is full. Write 1 to clear.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:01:50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7–6
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-121-2">
   </span>
   <b>
    8.2.2.37 Sub-register 0x01:54 – AES KEY
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      01:54
     </td>
     <td>
      16
     </td>
     <td>
      RW
     </td>
     <td>
      AES_KEY
     </td>
     <td>
      The 128-bit KEY for the AES GCM/CCM* core
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-121-0">
   </span>
   Register file: 0x00-0x1 –
   <a href="#page-72-1">
    General configuration registers,
   </a>
   sub-register 0x54 of register file 0x01, this is the  128-bit key (four 32-bit words) for the AES GCM/CCM* core.
  </p>
  <h2>
   <span id="page-121-1">
   </span>
   <b>
    Register file: 0x02 – STS configuration and status registers
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="2">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x02
     </td>
     <td>
      55
     </td>
     <td>
      -
     </td>
     <td>
      STS_CONFIG
     </td>
     <td>
      Scrambled Timestamp Sequence configuration and status
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      registers
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x02 is concerned with the use of the DW3000 STS block. It contains a number of  sub-registers. An overview of these is given by
   <a href="#page-122-0">
    Table 23.
   </a>
   Each of these sub-registers is separately described  in the sub-sections below.
  </p>
  <span id="page-122-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register 0x02
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0x00
     </th>
     <th>
      STS_CFG
     </th>
     <th colspan="4">
      STS configuration
     </th>
    </tr>
    <tr>
     <th>
      0x04
     </th>
     <th>
      STS_CTRL
     </th>
     <th>
      STS control
     </th>
    </tr>
    <tr>
     <th>
      0x08
     </th>
     <th>
      STS_STS
     </th>
     <th>
      STS status
     </th>
    </tr>
    <tr>
     <th>
      0x0C
     </th>
     <th>
      STS_KEY
     </th>
     <th>
      STS 128-bit KEY
     </th>
    </tr>
    <tr>
     <th>
      0x1C
     </th>
     <th>
      STS_IV
     </th>
     <th>
      STS 128-bit IV
     </th>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 23: Register file: 0x02 –
    <a href="#page-121-1">
     STS configuration and status
    </a>
    overview
   </b>
  </h2>
  <h2>
   <span id="page-122-3">
   </span>
   <b>
    8.2.3.1 Sub-register 0x02:00 – STS configuration
   </b>
  </h2>
  <span id="page-122-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x02:00
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      STS_CFG
     </td>
     <td>
      The STS configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x02 –
   <a href="#page-121-1">
    STS configuration and status ,
   </a>
   sub-register 0x00, this contains the configuration settings  for STS generation. Th
   <a href="#page-122-1">
    e STS_CFG
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="10">
      REG:02:04 – STS_CFG – STS configuration
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      CPS_LEN
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-122-1">
    STS_CFG
   </a>
   register sub-fields are described below:
  </p>
  <span id="page-122-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x02:00 – STS configuration
     </th>
    </tr>
    <tr>
     <td>
      CPS_LEN
     </td>
     <td>
      STS length. This 8-bit field specifies the length of the STS in blocks of 8. The default CPS_LEN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      value of 7 selects a STS length of ~64 μs (or 64 x 512 chips). A value of 3 gives the minimum
     </td>
    </tr>
    <tr>
     <td>
      reg:02:00
     </td>
     <td>
      supported STS length of 32. The maximum CPS_LEN value 255 results in an STS length of
     </td>
    </tr>
    <tr>
     <td>
      bit:7-0
     </td>
     <td>
      ~2048 μs (i.e. 2048 x 512 chips).
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:02:04
     </td>
     <td>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
     </td>
    </tr>
    <tr>
     <td>
      bits:7–2
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-122-4">
   </span>
   <b>
    8.2.3.2 Sub-register 0x02:04 – STS control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-123-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      02:04
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      STS_CTRL
     </td>
     <td>
      The STS control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x02 –
   <a href="#page-121-1">
    STS configuration and status ,
   </a>
   sub-register 0x04, this contains the control bits of STS  generation. The
   <a href="#page-123-2">
    STS_CTRL
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:02:04 – STS_CTRL – STS control
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      RST_LAST
     </td>
     <td>
      _IV
      <br/>
      LOAD
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-123-2">
    STS_CTRL
   </a>
   register sub-fields are described below:
  </p>
  <span id="page-123-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x02:04 – STS control
     </th>
    </tr>
    <tr>
     <td>
      LOAD_IV
     </td>
     <td>
      Load STS_IV bit into the AES-128 block for the generation of STS. Writing 1 loads the bits.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: CP_SPC configuration must be set before asserting this bit. This bit has priority over
     </td>
    </tr>
    <tr>
     <td>
      reg:02:04
     </td>
     <td>
      RST_LAST below.
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
      This is a self clearing bit. When a 1 is written to this bit it is cleared to 0 one clock cycle later.
     </td>
    </tr>
    <tr>
     <td>
      RST_LAST
     </td>
     <td>
      Start from last, when it is set to 1 the STS generation starts from the last count that was used
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by the AES-128 block for the generation of the previous STS.
     </td>
    </tr>
    <tr>
     <td>
      reg:02:04
      <br/>
      bit:1
     </td>
     <td>
      This is a self clearing bit. When a 1 is written to this bit it is cleared to 0 one clock cycle later.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:02:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7–2
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-123-3">
   </span>
   <b>
    8.2.3.3 Sub-register 0x02:08 – STS status
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      02:08
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      STS_STS
     </td>
     <td>
      The STS status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-123-0">
   </span>
   Register file: 0x02 –
   <a href="#page-121-1">
    STS configuration and status ,
   </a>
   sub-register 0x08, this contains the status of STS  reception. Th
   <a href="#page-123-0">
    e STS_STS
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="14">
      REG:02:08 – STS_STS – STS status
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="7">
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      ACC_QUAL
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-123-0">
    STS_STS
   </a>
   register sub-fields are described below:
  </p>
  <span id="page-124-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Field
     </td>
     <td>
      Description of fields within Sub-register 0x02:08 – STS status
     </td>
    </tr>
    <tr>
     <td>
      ACC_QUAL
     </td>
     <td>
      STS accumulation quality. This 12-bit field reports a quality measure of the accumulation of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the STS. It is very important to assess ACC_QUAL before accepting that a receive timestamp
     </td>
    </tr>
    <tr>
     <td rowspan="2">
      reg:02:08
      <br/>
      bits:11-0
     </td>
     <td>
      STS_TOA value has not been corrupted and is sufficiently good to be trusted in a two-way
     </td>
    </tr>
    <tr>
     <td>
      ranging exchange.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Please refer to in § 6 – Secure ranging / timestamping for more details on using this value.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:02:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–12
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-124-5">
   </span>
   <b>
    8.2.3.4 Sub-register 0x02:0C– STS KEY
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      02:0C
     </td>
     <td>
      16
     </td>
     <td>
      RW
     </td>
     <td>
      STS_KEY
     </td>
     <td>
      The 128-bit KEY for the STS
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-124-1">
   </span>
   Register file: 0x02 –
   <a href="#page-121-1">
    STS configuration and status ,
   </a>
   sub-register 0x0C, this is the 128-bit key (four 32-bit  words) used by the AES-128 block for the generation of the scrambled timestamp sequence
   <a href="#page-252-0">
    (STS)
   </a>
   . (The  lower order octets are at lower offset addresses). Please refer to in
   <i>
    §
    <a href="#page-61-0">
     6
    </a>
    –
    <a href="#page-61-0">
     Secure ranging / timestamping
    </a>
   </i>
   for  more details on this process. The default value is 0x738123B B5E5A4ED 8DF43A20 C9A375FA.
  </p>
  <h2>
   <span id="page-124-6">
   </span>
   <b>
    8.2.3.5 Sub-register 0x02:1C– STS IV
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      02:1C
     </td>
     <td>
      16
     </td>
     <td>
      RW
     </td>
     <td>
      STS_IV
     </td>
     <td>
      The 128-bit IV for the STS
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-124-0">
   </span>
   Register file: 0x02 –
   <a href="#page-121-1">
    STS configuration and status ,
   </a>
   sub-register 0x1C, this is the 128-bit IV (four 32-bit words)  used by the AES-128 block for the generation of the scrambled timestamp sequence
   <a href="#page-252-0">
    (STS)
   </a>
   . (The lower order  octets are at lower offset addresses). Please refer to in
   <i>
    §
    <a href="#page-61-0">
     6
    </a>
    –
    <a href="#page-61-0">
     Secure ranging / timestamping
    </a>
   </i>
   for more details  on this process. Default value is 0x1.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
   Sub-register 0x0F:48 –
   <a href="#page-216-0">
    Counter debug
   </a>
   contains the current value of the low 32-bits of the
   <a href="#page-124-0">
    STS_IV.
   </a>
  </p>
  <h2>
   <span id="page-124-3">
   </span>
   <b>
    Register file: 0x03 – Receiver tuning parameters
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x03
     </td>
     <td>
     </td>
     <td>
      RW
     </td>
     <td>
      RX_TUNE
     </td>
     <td>
      Receiver tuning parameters
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-124-4">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x03 is for control and configuration of the DW3000 receiver. The following tuning  parameters should be configured depending on the channel used. They optimise the receiver performance,  when 64 MHz PRF has been configured. Other sub-registers in this Register file are reserved and should not  be modified.
  </p>
  <span id="page-125-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
     </th>
     <th>
      Mnemonic
     </th>
     <th>
     </th>
     <th colspan="6">
     </th>
    </tr>
    <tr>
     <th>
      0x03
     </th>
     <th>
     </th>
     <th>
      Channel 5 value
     </th>
     <th colspan="5">
      Channel 9 value
     </th>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td>
      DGC_CFG0
     </td>
     <td>
      0x10000240
     </td>
     <td>
      0x10000240
     </td>
    </tr>
    <tr>
     <td>
      0x20
     </td>
     <td>
      DGC_CFG1
     </td>
     <td>
      0x1b6da489
     </td>
     <td>
      0x1b6da489
     </td>
    </tr>
    <tr>
     <td>
      0x38
     </td>
     <td>
      DGC_LUT_0
     </td>
     <td>
      0x0001C0FD
     </td>
     <td>
      0x0002A8FE
     </td>
    </tr>
    <tr>
     <td>
      0x3C
     </td>
     <td>
      DGC_LUT_1
     </td>
     <td>
      0x0001C43E
     </td>
     <td>
      0x0002AC36
     </td>
    </tr>
    <tr>
     <td>
      0x40
     </td>
     <td>
      DGC_LUT_2
     </td>
     <td>
      0x0001C6BE
     </td>
     <td>
      0x0002A5FE
     </td>
    </tr>
    <tr>
     <td>
      0x44
     </td>
     <td>
      DGC_LUT_3
     </td>
     <td>
      0x0001C77E
     </td>
     <td>
      0x0002AF3E
     </td>
    </tr>
    <tr>
     <td>
      0x48
     </td>
     <td>
      DGC_LUT_4
     </td>
     <td>
      0x0001CF36
     </td>
     <td>
      0x0002AF7d
     </td>
    </tr>
    <tr>
     <td>
      0x4C
     </td>
     <td>
      DGC_LUT_5
     </td>
     <td>
      0x0001CFB5
     </td>
     <td>
      0x0002AFB5
     </td>
    </tr>
    <tr>
     <td>
      0x50
     </td>
     <td>
      DGC_LUT_6
     </td>
     <td>
      0x0001CFF5
     </td>
     <td>
      0x0002AFB5
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 24: Receiver tuning parameters
   </b>
  </h2>
  <p block-type="Text">
   <b>
    Note
   </b>
   : When 16 MHz PRF is used, then the RX_TUNE_EN bit (bit 0 in register
   <a href="#page-125-1">
    DGC_CFG)
   </a>
   needs to be cleared.
  </p>
  <h4>
   <span id="page-125-3">
   </span>
   <b>
    8.2.4.1 Sub-register 0x03:18 – RX tune configuration
   </b>
  </h4>
  <span id="page-125-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      03:18
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      DGC_CFG
     </td>
     <td>
      The RX tuning configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x03 –
   <a href="#page-124-3">
    Receiver tuning parameters,
   </a>
   sub-register 0x18, this is a RX tune configuration register, it  contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:03:18 – DGC_CFG – RX tune configuration
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      THR_64
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RX_TUNE_EN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual
   <a href="#page-125-1">
    DGC_CFG
   </a>
   register sub-fields are described below:
  </p>
  <span id="page-125-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x03:18 – RX tune configuration
     </th>
    </tr>
    <tr>
     <td>
      RX_TUNE_EN
     </td>
     <td>
      RX tuning enable bit. This bit should be set to 1 when 64 MHz PRF is used, and set to 0
      <br/>
      otherwise.
     </td>
    </tr>
    <tr>
     <td>
      reg:03:18
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      THR_64
     </td>
     <td>
      RX tuning threshold configuration for 64 MHz PRF. This should be changed from the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      default value of 0x38 to 0x32, to give a more optimised receiver performance.
     </td>
    </tr>
    <tr>
     <td>
      reg:03:18
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:14-9
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x03:18 – RX tune configuration
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:03:18
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits: various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-126-1">
   </span>
   <b>
    8.2.4.2 Sub-register 0x03:60 – DGC report
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      03:60
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      DGC_DBG
     </td>
     <td>
      Reports DGC information
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x03 –
   <a href="#page-124-3">
    Receiver tuning parameters,
   </a>
   sub-register 0x60, this is a DGC reporting register, it  contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
      REG:03:60 – DGC_DBG – DGC_report
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      DGC_DECISION
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual DGC_DBG register sub-fields are described below:
  </p>
  <span id="page-126-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x03:60 – DGC report
     </th>
    </tr>
    <tr>
     <td>
      DGC_DECISION
     </td>
     <td>
      DGC decision index.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:03:60
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:30-28
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:03:18
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits: various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-126-2">
   </span>
   <b>
    Register file: 0x04 – External sync control and RX calibration
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      12
     </td>
     <td>
      RW
     </td>
     <td>
      EXT_SYNC
     </td>
     <td>
      External synchronisation control and RX calibration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-126-3">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x04 is for control of the DW3000 synchronisation hardware, and RX calibration  function.
  </p>
  <p block-type="Text">
   There is a separate application note giving details of the external synchronisation. Please consult with  Decawave applications support team for details. The capabilities of the DW3000 with respect to external  synchronisation are described briefly in section
   <i>
    <a href="#page-65-1">
     7.1-
    </a>
    <a href="#page-65-1">
     External Synchronisation
    </a>
   </i>
   .
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register 0x04
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      EC_CTRL
     </td>
     <td>
      External clock synchronisation counter configuration
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      RX_CAL
     </td>
     <td>
      RX calibration block configuration
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      RX_CAL_RESI
     </td>
     <td>
      RX calibration block result
     </td>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td>
      RX_CAL_RESQ
     </td>
     <td>
      RX calibration block result
     </td>
    </tr>
    <tr>
     <td>
      0x20
     </td>
     <td>
      RX_CAL_STS
     </td>
     <td>
      RX calibration block status
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-127-4">
   </span>
   <b>
    8.2.5.1 Sub-register 0x04:00 External clock sync control
   </b>
  </h3>
  <span id="page-127-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      04:00
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      EC_CTRL
     </td>
     <td>
      External clock synchronisation counter configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration,
   </a>
   sub-register 0x00 is the External clock  synchronisation counter configuration register,
   <a href="#page-127-2">
    EC_CTRL.
   </a>
   The
   <a href="#page-127-2">
    EC_CTRL
   </a>
   register is used to configure the  external synchronisation mode. The
   <a href="#page-127-2">
    EC_CTRL
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      REG:04:00 –EC_CTRL– External clock synchronisation counter configuration
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      MODE
      <br/>
      _
      <br/>
      OSTR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      OSTS_WAIT
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-127-2">
    e EC_CTRL
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-127-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x04:00 External clock sync control
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:04:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:various
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      OSTS_WAIT
     </td>
     <td>
      Wait counter used for external timebase reset. See 7.1.1 – One Shot Timebase Reset (OSTR)
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Mode.
     </td>
    </tr>
    <tr>
     <td>
      reg:04:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:10:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      OSTR_MODE
     </td>
     <td>
      External timebase reset mode enable bit. For details of use, please refer to section 7.1.1 –
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      One Shot Timebase Reset (OSTR) Mode.
     </td>
    </tr>
    <tr>
     <td>
      reg:04:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:11
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-127-5">
   </span>
   <span id="page-127-1">
   </span>
   <b>
    8.2.5.2 Sub-register 0x04:0C RX calibration configuration
   </b>
  </h3>
  <span id="page-127-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      04:0C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RX_CAL
     </td>
     <td>
      RX calibration block configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration,
   </a>
   sub-register 0x0C is RX calibration block  configuration register,
   <a href="#page-127-0">
    RX_CAL.
   </a>
   The
   <a href="#page-127-0">
    RX_CAL
   </a>
   register is used to configure the RX calibration block prior to  enabling the RX operation. The
   <a href="#page-127-0">
    RX_CAL
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:04:0C –RX_CAL– RX calibration block configuration
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      COMP_DLY
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      CAL_EN
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      MODE
      <br/>
      CAL_
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-127-0">
    e RX_CAL
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x04:0C RX
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:04:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:various
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CAL_MODE
     </td>
     <td>
      RX calibration mode:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0 = normal mode, should be set to this for normal receiver operation
     </td>
    </tr>
    <tr>
     <td>
      reg:04:0C
     </td>
     <td>
      1 = calibration mode, needs to be set when RX calibration is perfomed
     </td>
    </tr>
    <tr>
     <td>
      bits:1:0
     </td>
     <td>
      2, 3 = reserved vaues
     </td>
    </tr>
    <tr>
     <td>
      CAL_EN
     </td>
     <td>
      RX calibration enable.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Set this to 1 to start RX calibration. The bit will self-clear when calibration is finished. The
     </td>
    </tr>
    <tr>
     <td>
      reg:04:0C
      <br/>
      bit:4
     </td>
     <td>
      RX_CAL_STS will be set when calibration is complete.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      COMP_DLY
     </td>
     <td>
      RX calibration tuning value. The host should set this to 0x2, for optimal performance. Other
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      values should not be used.
     </td>
    </tr>
    <tr>
     <td>
      reg:04:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:19:16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-128-0">
   </span>
   <b>
    8.2.5.3 Sub-register 0x04:14 RX calibration result I
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      04:14
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RX_CAL_RESI
     </td>
     <td>
      RX calibration block result I
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-128-1">
   </span>
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration,
   </a>
   sub-register 0x14 is RX calibration block result  register. This register reports the result once the RX calibration is complete. It is a 29-bit register. If a value of  0x1fffffff is read back then the calibration has failed and the host should not use receiver function. The  device RX calibration should be repeated. If either RX_CAL_RESI or RX_CAL_RESQ report failure the RX cal  should be repeated.
  </p>
  <h2>
   <span id="page-129-3">
   </span>
   <b>
    8.2.5.4 Sub-register 0x04:1C RX calibration result Q
   </b>
  </h2>
  <span id="page-129-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th colspan="2">
      Length
      <br/>
      ID
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      04:1C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RX_CAL_RESQ
     </td>
     <td>
      RX calibration block result Q
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration,
   </a>
   sub-register 0x1C is RX calibration block result  register. This register reports the result once the RX calibration is complete. It is a 29-bit register. If a value of  0x1fffffff is read back then the calibration has failed and the host should not use receiver function. The  device RX calibration should be repeated. If either RX_CAL_RESI or RX_CAL_RESQ report failure the RX cal  should be repeated.
  </p>
  <h4>
   <span id="page-129-5">
   </span>
   <b>
    8.2.5.5 Sub-register 0x04:20 RX calibration status
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      04:20
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      RX_CAL_STS
     </td>
     <td>
      RX calibration block status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-129-6">
   </span>
   <i>
    Register file: 0x04 – External sync control
   </i>
   <a href="#page-126-2">
    and RX calibration,
   </a>
   sub-register 0x20 is RX calibration block status  register. This register reports the status once the RX calibration is complete. It is a single bit register. If bit 0  is set, the RX calibration is complete, host can write 1 to clear.
  </p>
  <h2>
   <span id="page-129-2">
   </span>
   <b>
    Register file: 0x05 – GPIO control and status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x05
     </td>
     <td>
      47
     </td>
     <td>
      -
     </td>
     <td>
      GPIO_CTRL
     </td>
     <td>
      General Purpose Input-Output control registers
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-129-1">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x05 is concerned with the use of the GPIO. It contains a number of sub-registers.  An overview of these is given by
   <a href="#page-129-0">
    Table 25.
   </a>
   Each of these sub-registers is separately described in the subsections below.
  </p>
  <p block-type="Text">
   <b>
    Note: the GPIO clocks need to be turned on, before enabling or disabling the GPIO mode or value. The GPIO clocks are enabled by setting
    <a href="#page-220-0">
     GPIO_CLK_EN,
    </a>
    <a href="#page-221-2">
     GPIO_DCLK_EN
    </a>
    an
    <a href="#page-221-3">
     d GPIO_DRST_N
    </a>
    in
    <a href="#page-218-1">
     Sub-register
    </a>
    0x11:04 –
    <a href="#page-218-1">
     Clock control
    </a>
   </b>
  </p>
  <span id="page-129-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
      <br/>
      0x05
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      GPIO_MODE
     </td>
     <td>
      GPIO Mode Control Register
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      GPIO_PULL_EN
     </td>
     <td>
      GPIO Drive Strength and Pull Control
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      GPIO_DIR
     </td>
     <td>
      GPIO Direction Control Register
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      GPIO_OUT
     </td>
     <td>
      GPIO Data Output Register
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      GPIO_IRQE
     </td>
     <td>
      GPIO Interrupt Enable
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 25: Register file: 0x05 –
    <a href="#page-129-2">
     GPIO control and status
    </a>
    overview
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
      <br/>
      0x05
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      GPIO_ISTS
     </td>
     <td>
      GPIO Interrupt Status
     </td>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td>
      GPIO_ISEN
     </td>
     <td>
      GPIO Interrupt Sense Selection
     </td>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td>
      GPIO_IMODE
     </td>
     <td>
      GPIO Interrupt Mode (Level / Edge)
     </td>
    </tr>
    <tr>
     <td>
      0x20
     </td>
     <td>
      GPIO_IBES
     </td>
     <td>
      GPIO Interrupt "Both Edge" Select
     </td>
    </tr>
    <tr>
     <td>
      0x24
     </td>
     <td>
      GPIO_ICLR
     </td>
     <td>
      GPIO Interrupt Latch Clear
     </td>
    </tr>
    <tr>
     <td>
      0x28
     </td>
     <td>
      GPIO_IDBE
     </td>
     <td>
      GPIO Interrupt De-bounce Enable
     </td>
    </tr>
    <tr>
     <td>
      0x2C
     </td>
     <td>
      GPIO_RAW
     </td>
     <td>
      GPIO Raw State
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-130-1">
   </span>
   <b>
    8.2.6.1 Sub-register 0x05:00 – GPIO mode control
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:00
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_MODE
     </td>
     <td>
      GPIO mode control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-130-0">
   </span>
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x00 is the GPIO Mode Control Register,
   <a href="#page-130-0">
    GPIO_MODE.
   </a>
   The
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   register is used to select whether the GPIO is operating as a GPIO or has  another special function. The
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:05:00 – GPIO_MODE – GPIO mode control register
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      MSGP8
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP7
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP6
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP5
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP4
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP3
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP2
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP1
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      MSGP0
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-130-0">
    e GPIO_MODE
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:00 – GPIO mode control
     </th>
    </tr>
    <tr>
     <td>
      MSGP0
     </td>
     <td>
      Mode Selection for GPIO0/RXOKLED. Allowed values are:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      000: The pin operates as GPIO0 – This is the default (reset) state.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:00
     </td>
     <td>
      001: The pin operates as the RXOKLED output.
     </td>
    </tr>
    <tr>
     <td>
      bits:2-0
     </td>
     <td>
      010: The pin operates as PDOA_SW_0, it will go high when device is in TX state.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      011 – 111: Reserved. Do not select this value.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When operating as the RXOKLED driver, the output is asserted briefly when the receiver
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      completes the reception of a frame with a good FCS/CRC. The on time for the RXOKLED
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      depends on the blink time set in Sub-register 0x11:16 – LED control.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: Lighting LEDs will drain power in battery-powered applications.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-131-3">
  </span>
  <span id="page-131-2">
  </span>
  <span id="page-131-1">
  </span>
  <span id="page-131-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:00 – GPIO mode control
     </th>
    </tr>
    <tr>
     <th>
      MSGP1
     </th>
     <th>
      Mode Selection for GPIO1/SFDLED. Allowed values are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as GPIO1– This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin operates as the SFDLED output.
     </th>
    </tr>
    <tr>
     <th>
      bits:5-3
     </th>
     <th>
      010: The pin operates as PDOA_SW_1, it will go high when device is in RX state.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      011 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When operating as the driver, the output is asserted briefly when the receiver detects the SFD
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      sequence in the RX packet. The on time is determined by the blink time configuration set in
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Sub-register 0x11:16 – LED control
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note: Lighting LEDs will drain power in battery-powered applications.
     </th>
    </tr>
    <tr>
     <th>
      MSGP2
     </th>
     <th>
      Mode Selection for GPIO2/RXLED. Allowed values are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as the GPIO2 output – This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin operates as the RXLED output.
     </th>
    </tr>
    <tr>
     <th>
      bits:8-6
     </th>
     <th>
      010: The pin operates as PDOA_SW_2, it will go high when device is receiving or transmitting
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      from RF port 1.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      011 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When operating as the RXLED driver, the output is asserted when the receiver is on, and stays
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      on for a brief period after the receiver is turned off. The minimum on time is determined by
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      the blink time configurable in Sub-register 0x11:16 – LED control.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Note: Lighting LEDs will drain power in battery-powered applications.
     </th>
    </tr>
    <tr>
     <th>
      MSGP3
     </th>
     <th>
      Mode Selection for GPIO3/TXLED. Allowed values are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as GPIO3– This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin operates as the TXLED output.
     </th>
    </tr>
    <tr>
     <th>
      bits:11-9
     </th>
     <th>
      010: The pin operates as PDOA_SW_3, it will go high when device is receiving or transmitting
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      from RF port 2
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      011 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      When operating as the TXLED driver, the output is asserted briefly when the transmitter
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      completes sending a packet. The blink time is configurable via Sub-register 0x11:16 – LED
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      control. Note: Lighting LEDs will drain power in battery-powered applications.
     </th>
    </tr>
    <tr>
     <th>
      MSGP4
     </th>
     <th>
      Mode Selection for GPIO4/EXTPA. Allowed values are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as GPIO4– This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin is configured for use as EXTPA (External Power Amplifier). This pin can enable an
     </th>
    </tr>
    <tr>
     <th>
      bits:14-12
     </th>
     <th>
      external Power Amplifier.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      010: IRQ
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      010 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Refer to § 7.1 External Synchronisation for further information on the use of EXTPA.
     </th>
    </tr>
    <tr>
     <th>
      MSGP5
     </th>
     <th>
      Mode Selection for GPIO5/EXTTXE. Allowed values are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as GPIO5 – This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin is configured for use as EXTTXE (External Transmit Enable). This pin goes high
     </th>
    </tr>
    <tr>
     <th>
      bits:17-15
     </th>
     <th>
      when the DW3000 is in transmit mode.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      010 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Refer to § 7.1 External Synchronisation for further information on the use of EXTTXE.
     </th>
    </tr>
    <tr>
     <th>
      MSGP6
     </th>
     <th>
      Mode Selection forGPIO6/EXTRXE. Allowed values of MSGP6 are:
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      000: The pin operates as GPIO6– This is the default (reset) state.
     </th>
    </tr>
    <tr>
     <th>
      reg:05:00
     </th>
     <th>
      001: The pin is configured for use as EXTRXE (External Receiver Enable). This pin goes high
     </th>
    </tr>
    <tr>
     <th>
      bits:20-18
     </th>
     <th>
      when the DW3000 is in receive mode.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      010 – 111: Reserved. Do not select this value.
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Refer to § 7.1 External Synchronisation for further information on the use of EXTRXE.
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:00 – GPIO mode control
     </th>
    </tr>
    <tr>
     <td>
      MSGP7
     </td>
     <td>
      Mode Selection for GPIO7. Values are:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      000: Default (reset) state: The pin operates as "SYNC" input, which is a reserved test function.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:00
     </td>
     <td>
      001: The pin operates as GPIO7.
     </td>
    </tr>
    <tr>
     <td>
      bits:23-21
     </td>
     <td>
      010 – 111: Reserved. Do not select this value.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      MSGP8
     </td>
     <td>
      Mode Selection for IRQ/GPIO8. Allowed values are:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      000: The pin operates as the IRQ output – This is the default (reset) state.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:00
     </td>
     <td>
      001: The pin operates as GPIO8.
     </td>
    </tr>
    <tr>
     <td>
      bits:26-24
     </td>
     <td>
      010 – 111: Reserved. Do not select this value.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:31–27
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-132-1">
   </span>
   <b>
    8.2.6.2 Sub-register 0x05:04 – GPIO drive strength control
   </b>
  </h2>
  <span id="page-132-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:04
     </td>
     <td colspan="3">
      2
      <br/>
      RW
      <br/>
      GPIO_PULL_EN
     </td>
     <td>
      GPIO drive strength and pull control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x04 can be used to lower the drive strength of the  GPIOs. Setting to 0 will lower the drive strength.
  </p>
  <p block-type="Text">
   The
   <a href="#page-132-0">
    GPIO_PULL_EN
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:05:04 – GPIO_PULL_EN – GPIO drive strength control
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GPEN 8
     </th>
     <th>
      GPEN 7
     </th>
     <th>
      GPEN 6
     </th>
     <th>
      GPEN 5
     </th>
     <th>
      4
      <br/>
      GPEN
     </th>
     <th>
      3
      <br/>
      GPEN
     </th>
     <th>
      2
      <br/>
      GPEN
     </th>
     <th>
      1
      <br/>
      GPEN
     </th>
     <th>
      0
      <br/>
      GPEN
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-132-2">
   </span>
   <b>
    8.2.6.3 Sub-register 0x05:08 – GPIO direction control
   </b>
  </h3>
  <span id="page-132-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:08
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_DIR
     </td>
     <td>
      GPIO direction control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x08 is the GPIO Direction Control Register,
   <a href="#page-132-3">
    GPIO_DIR.
   </a>
   Th
   <a href="#page-132-3">
    e GPIO_DIR
   </a>
   register applies to the GPIO pins when they are selected to operate as GPIOs via  the
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   register. It contains a bit for each GPIO to individually configure that GPIO as an input or  an output. A GDP direction bit value of 1 means the pin is an input. A GDP bit value of 0 means the pin is an  output.
  </p>
  <p block-type="Text">
   The
   <a href="#page-132-3">
    GPIO_DIR
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:05:08 – GPIO_DIR – GPIO direction control register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      8
      <br/>
      GDP
     </th>
     <th>
      7
      <br/>
      GDP
     </th>
     <th>
      6
      <br/>
      GDP
     </th>
     <th>
      GDP5
     </th>
     <th>
      GDP4
     </th>
     <th>
      GDP3
     </th>
     <th>
      GDP2
     </th>
     <th>
      GDP1
     </th>
     <th>
      GDP0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-132-3">
    e GPIO_DIR
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-133-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:08 – GPIO direction
     </th>
    </tr>
    <tr>
     <td>
      GDP0
     </td>
     <td>
      Direction Selection for GPIO0. Reading this bit shows the direction setting for GPIO0.Values:
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
      <br/>
      bit:0
     </td>
     <td>
      1 = input, 0 = output.
     </td>
    </tr>
    <tr>
     <td>
      GDP1
     </td>
     <td>
      Direction Selection for GPIO1. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
      <br/>
      bit:1
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP2
     </td>
     <td>
      Direction Selection for GPIO2. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
      <br/>
      bit:2
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP3
     </td>
     <td>
      Direction Selection for GPIO3. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
      <br/>
      bit:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP4
     </td>
     <td>
      Direction Selection for GPIO4. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
      <br/>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP5
     </td>
     <td>
      Direction Selection for GPIO5. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:5
      <br/>
      GDP6
     </td>
     <td>
      Direction Selection for GPIO6. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP7
      <br/>
      reg:05:08
     </td>
     <td>
      Direction Selection for GPIO7. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GDP8
     </td>
     <td>
      Direction Selection for GPIO8. (See GDP0).
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:8
      <br/>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–9
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-133-0">
   </span>
   <b>
    8.2.6.4 Sub-register 0x05:0C – GPIO data output configuration
   </b>
  </h3>
  <span id="page-133-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:0C
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_OUT
     </td>
     <td>
      GPIO data output configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text" class="has-continuation">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x0C is the GPIO data output register. The
   <a href="#page-133-1">
    GPIO_OUT
   </a>
   register applies to the GPIO pins when they are selected to operate as GPIO outputs via the
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   and
   <a href="#page-132-3">
    GPIO_DIR
   </a>
   registers. It contains a bit for each GPIO pin to individually select the data to  output on the GPIO output pin. When reading from the
   <a href="#page-133-1">
    GPIO_OUT
   </a>
   register output value bits will show the
  </p>
  <p block-type="Text">
   current output setting for the GPIO pins. Note, this does not mean this is being output since that depends  also on the appropriate selection of the
   <a href="#page-130-0">
    GPIO_MODE
   </a>
   and
   <a href="#page-132-3">
    GPIO_DIR
   </a>
   registers.
  </p>
  <p block-type="Text">
   The
   <a href="#page-133-1">
    GPIO_OUT
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:05:0C – GPIO_OUT – GPIO data output configuration
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      8
      <br/>
      GOP
     </th>
     <th>
      GOP7
     </th>
     <th>
      GOP6
     </th>
     <th>
      GOP5
     </th>
     <th>
      GOP4
     </th>
     <th>
      GOP3
     </th>
     <th>
      GOP2
     </th>
     <th>
      GOP1
     </th>
     <th>
      GOP0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-133-1">
    e GPIO_OUT
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-134-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:0C – GPIO data output configuration
     </th>
    </tr>
    <tr>
     <td>
      GOP0
      <br/>
      reg:05:0C
      <br/>
      bit:0
     </td>
     <td>
      Output state setting for the GPIO0 output. Reading this bit shows the current setting for
      <br/>
      GPIO0. Value: 1 = logic 1 voltage high output and, value 0 = logic 1 voltage low output.
     </td>
    </tr>
    <tr>
     <td>
      GOP1
      <br/>
      reg:05:0C
      <br/>
      bit:1
     </td>
     <td>
      Output state setting for GPIO1. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP2
      <br/>
      reg:05:0C
      <br/>
      bit:2
     </td>
     <td>
      Output state setting for GPIO2. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP3
      <br/>
      reg:05:0C
      <br/>
      bit:3
     </td>
     <td>
      Output state setting for GPIO3. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP4
      <br/>
      reg:05:0C
      <br/>
      bit:4
     </td>
     <td>
      Output state setting for GPIO4. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP5
      <br/>
      reg:05:0C
      <br/>
      bit:5
     </td>
     <td>
      Output state setting for GPIO5. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP6
      <br/>
      reg:05:0C
      <br/>
      bit:6
     </td>
     <td>
      Output state setting for GPIO6. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP7
      <br/>
      reg:05:0C
      <br/>
      bit:7
     </td>
     <td>
      Output state setting for GPIO7. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      GOP8
      <br/>
      reg:05:0C
      <br/>
      bit:8
     </td>
     <td>
      Output state setting for GPIO8. (See GOP0).
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:08
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-134-0">
   </span>
   <b>
    8.2.6.5 Sub-register 0x05:10 – GPIO interrupt enable
   </b>
  </h3>
  <span id="page-134-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:10
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_IRQE
     </td>
     <td>
      GPIO interrupt enable
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x10 is the GPIO interrupt enable register. The
   <a href="#page-134-1">
    GPIO_IRQE
   </a>
   register allows a GPIO input pin to be selected as an interrupt source into the DW3000.  Additional configuration registers
   <a href="#page-138-1">
    GPIO_IMODE,
   </a>
   <a href="#page-137-1">
    GPIO_ISEN,
   </a>
   <a href="#page-139-1">
    GPIO_IBES
   </a>
   and
   <a href="#page-141-1">
    GPIO_IDBE
   </a>
   allow the interrupt  to be set as level sensitive with control of whether it is the low or high state that generates the interrupt, or  as edge sensitive with control of the edge(s) that generates the interrupt, and includes a configurable debounce circuit that can be used to ignore transients on the input. Th
   <a href="#page-134-1">
    e GPIO_IRQE
   </a>
   register contains a bit for  each GPIO pin to allow each to be individually selected as interrupt source. Setting the appropriate bit to 1  enables the corresponding GPIO input as an interrupt source, a value of 0 disables that interrupt. When a  GPIO interrupt is triggered it is signalled to the host via the
   <a href="#page-98-5">
    GPIOIRQ
   </a>
   event status bit in
   <i>
    <a href="#page-91-1">
     Sub-register 0x00:44
    </a>
    –
    <a href="#page-91-1">
     System event status
    </a>
   </i>
   . The bits of th
   <a href="#page-134-1">
    e GPIO_IRQE
   </a>
   register are as following:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:05:10 – GPIO_IRQE – GPIO interrupt enable register
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GIRQE8
     </th>
     <th>
      GIRQE7
     </th>
     <th>
      GIRQE6
     </th>
     <th>
      GIRQE5
     </th>
     <th>
      GIRQ E4
     </th>
     <th>
      GIRQ E3
     </th>
     <th>
      GIRQE2
     </th>
     <th>
      GIRQE1
     </th>
     <th>
      GIRQE0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits identified above are individually described below:
  </p>
  <span id="page-135-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:10 – GPIO interrupt enable
     </th>
    </tr>
    <tr>
     <td>
      GIRQE0
     </td>
     <td>
      GPIO IRQ Enable for GPIO0 input. Value 1 = enable GPIO input GPIO0 as an interrupt source.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:0
     </td>
     <td>
      Value 0 = GPIO0 is not an interrupt source.
     </td>
    </tr>
    <tr>
     <td>
      GIRQE1
     </td>
     <td>
      GPIO IRQ Enable for GPIO1 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:1
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE2
     </td>
     <td>
      GPIO IRQ Enable for GPIO2 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:2
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE3
     </td>
     <td>
      GPIO IRQ Enable for GPIO3 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE4
     </td>
     <td>
      GPIO IRQ Enable for GPIO4 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE5
     </td>
     <td>
      GPIO IRQ Enable for GPIO5 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:5
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE6
     </td>
     <td>
      GPIO IRQ Enable for GPIO6 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:6
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE7
     </td>
     <td>
      GPIO IRQ Enable for GPIO7 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIRQE8
     </td>
     <td>
      GPIO IRQ Enable for GPIO8 input. Value 1 = enable, 0 = disable.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
      <br/>
      bit:8
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      Bits:15–9
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-136-1">
   </span>
   <b>
    8.2.6.6 Sub-register 0x05:14 – GPIO interrupt status
   </b>
  </h2>
  <span id="page-136-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:14
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_ISTS
     </td>
     <td>
      GPIO interrupt status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x14 is the GPIO interrupt status register. The
   <a href="#page-136-0">
    GPIO_ISTS
   </a>
   register acts to set the state/event that gives rise to a GPI interrupt. Assuming that the GPIO is an  input and that it is enabled as an interrupt via the
   <a href="#page-134-1">
    GPIO_IRQE
   </a>
   register, then th
   <a href="#page-138-1">
    e GPIO_IMODE
   </a>
   register  together wit
   <a href="#page-137-1">
    h GPIO_ISEN
   </a>
   selects whether the interrupt is level or edge sensitive, and this
   <a href="#page-136-0">
    GPIO_ISTS
   </a>
   register  selects which level or edge is the state/event that causes the interrupt. The
   <a href="#page-136-0">
    GPIO_ISTS
   </a>
   bits are as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:05:14 – GPIO_ISTS– GPIO interrupt status
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      8
      <br/>
      GISTS
     </th>
     <th>
      7
      <br/>
      GISTS
     </th>
     <th>
      6
      <br/>
      GISTS
     </th>
     <th>
      GISTS5
     </th>
     <th>
      4
      <br/>
      GISTS
     </th>
     <th>
      GISTS3
     </th>
     <th>
      GISTS2
     </th>
     <th>
      GISTS1
     </th>
     <th>
      0
      <br/>
      GISTS
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      The bits of the GPIO_ISTS register identified above are individually described below:
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:14 – GPIO interrupt status
     </th>
    </tr>
    <tr>
     <td>
      GISTS0
      <br/>
      reg:05:14
      <br/>
      bit:0
     </td>
     <td>
      Value 1 means GPIO0 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS1
      <br/>
      reg:05:14
      <br/>
      bit:1
     </td>
     <td>
      Value 1 means GPIO1 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS2
      <br/>
      reg:05:14
      <br/>
      bit:2
     </td>
     <td>
      Value 1 means GPIO2 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS3
      <br/>
      reg:05:14
      <br/>
      bit:3
     </td>
     <td>
      Value 1 means GPIO3 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS4
      <br/>
      reg:05:14
      <br/>
      bit:4
     </td>
     <td>
      Value 1 means GPIO4 gave rise to the GPIOIRQ SYS_STATUS event
     </td>
    </tr>
    <tr>
     <td>
      GISTS5
      <br/>
      reg:05:14
      <br/>
      bit:5
     </td>
     <td>
      Value 1 means GPIO5 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS6
      <br/>
      reg:05:14
      <br/>
      bit:6
     </td>
     <td>
      Value 1 means GPIO6 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS7
      <br/>
      reg:05:14
      <br/>
      bit:7
     </td>
     <td>
      Value 1 means GPIO7 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
    <tr>
     <td>
      GISTS8
      <br/>
      reg:05:14
      <br/>
      bit:8
     </td>
     <td>
      Value 1 means GPIO8 gave rise to the GPIOIRQ SYS_STATUS event.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:14 – GPIO interrupt status
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:14
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–9
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-137-0">
   </span>
   <b>
    8.2.6.7 Sub-register 0x05:18 – GPIO interrupt sense selection
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:18
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_ISEN
     </td>
     <td>
      GPIO interrupt sense selection
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-137-1">
   </span>
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x18 is the GPIO interrupt sense selection register.  The
   <a href="#page-137-1">
    GPIO_ISEN
   </a>
   register acts to set the state/event that gives rise to a GPI interrupt. Assuming that the GPIO  is an input and that it is enabled as an interrupt via the
   <a href="#page-134-1">
    GPIO_IRQE
   </a>
   register, then the
   <a href="#page-138-1">
    GPIO_IMODE
   </a>
   register  selects whether the interrupt is level or edge sensitive, and this register
   <a href="#page-137-1">
    GPIO_ISENGPIO_ISEN
   </a>
   selects which  level or edge is the state/event that causes the interrupt. The
   <a href="#page-137-1">
    GPIO_ISEN
   </a>
   register contains a bit for each  GPIO pin to allow each to be individually configured. The bits are as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:05:18 – GPIO_ISEN – GPIO interrupt sense selection register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GISEN8
     </th>
     <th>
      GISEN7
     </th>
     <th>
      GISEN6
     </th>
     <th>
      GISEN5
     </th>
     <th>
      GISEN4
     </th>
     <th>
      GISEN3
     </th>
     <th>
      GISEN2
     </th>
     <th>
      GISEN1
     </th>
     <th>
      GISEN0
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-137-1">
    GPIO_ISEN
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:18 – GPIO interrupt sense selection
     </th>
    </tr>
    <tr>
     <td>
      GISEN0
      <br/>
      reg:05:18
      <br/>
      bit:0
     </td>
     <td>
      GPIO IRQ Sense selection GPIO0 input. Value 0 = Active high level sensitive interrupt or rising
      <br/>
      edge triggered interrupt.
      <br/>
      Value 1 = Active low level sensitive interrupt or falling-edge
      <br/>
      triggered interrupt.
     </td>
    </tr>
    <tr>
     <td>
      GISEN1
      <br/>
      reg:05:18
      <br/>
      bit:1
     </td>
     <td>
      GPIO IRQ sense for GPIO1 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN2
      <br/>
      reg:05:18
      <br/>
      bit:2
     </td>
     <td>
      GPIO IRQ sense for GPIO2 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN3
      <br/>
      reg:05:18
      <br/>
      bit:3
     </td>
     <td>
      GPIO IRQ sense for GPIO3 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN4
      <br/>
      reg:05:18
      <br/>
      bit:4
     </td>
     <td>
      GPIO IRQ sense for GPIO4 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN5
      <br/>
      reg:05:18
      <br/>
      bit:5
     </td>
     <td>
      GPIO IRQ sense for GPIO5 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:18 – GPIO interrupt sense selection
     </th>
    </tr>
    <tr>
     <td>
      GISEN6
      <br/>
      reg:05:18
      <br/>
      bit:6
     </td>
     <td>
      GPIO IRQ sense for GPIO6 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN7
      <br/>
      reg:05:18
      <br/>
      bit:7
     </td>
     <td>
      GPIO IRQ sense for GPIO7 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      GISEN8
      <br/>
      reg:05:18
      <br/>
      bit:8
     </td>
     <td>
      GPIO IRQ sense for GPIO8 input. Value 0 = High or Rising-Edge, 1 = Low or falling-edge.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:18
      <br/>
      bits:31–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-138-0">
   </span>
   <b>
    8.2.6.8 Sub-register 0x05:1C– GPIO interrupt mode selection
   </b>
  </h3>
  <span id="page-138-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:1C
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_IMODE
     </td>
     <td>
      GPIO interrupt mode (level/edge)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x1C is the GPIO interrupt mode selection register.  Assuming that the GPIO is an input and enabled as an interrupt via the
   <a href="#page-134-1">
    GPIO_IRQE
   </a>
   register, then this
   <a href="#page-138-1">
    GPIO_IMODE
   </a>
   register acts to select whether the interrupt is level sensitive or edge triggered. The
   <a href="#page-138-1">
    GPIO_IMODE
   </a>
   register contains a bit for each GPIO pin to allow each to be individually configured. The bits  are as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:05:1C – GPIO_IMODE – GPIO interrupt mode selection register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      MOD8
      <br/>
      GI
     </th>
     <th>
      MOD7
      <br/>
      GI
     </th>
     <th>
      MOD6
      <br/>
      GI
     </th>
     <th>
      MOD5
      <br/>
      GI
     </th>
     <th>
      MOD4
      <br/>
      GI
     </th>
     <th>
      MOD3
      <br/>
      GI
     </th>
     <th>
      MOD2
      <br/>
      GI
     </th>
     <th>
      MOD1
      <br/>
      GI
     </th>
     <th>
      MOD0
      <br/>
      GI
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-138-1">
    GPIO_IMODE
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:1C– GPIO interrupt mode
     </th>
    </tr>
    <tr>
     <td>
      GIMOD0
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO0 input. Value 0 = Level sensitive interrupt. Value 1 = Edge
     </td>
    </tr>
    <tr>
     <td>
      reg:05:1C
      <br/>
      bit:0
     </td>
     <td>
      triggered interrupt.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD1
      <br/>
      reg:05:1C
      <br/>
      bit:1
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO1 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD2
      <br/>
      reg:05:1C
      <br/>
      bit:2
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO2 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD3
      <br/>
      reg:05:1C
      <br/>
      bit:3
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO3 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:1C– GPIO interrupt mode
     </th>
    </tr>
    <tr>
     <td>
      GIMOD4
      <br/>
      reg:05:1C
      <br/>
      bit:4
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO4 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD5
      <br/>
      reg:05:1C
      <br/>
      bit:5
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO5 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD6
      <br/>
      reg:05:1C
      <br/>
      bit:6
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO6 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD7
      <br/>
      reg:05:1C
      <br/>
      bit:7
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO7 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      GIMOD8
      <br/>
      reg:05:1C
      <br/>
      bit:8
     </td>
     <td>
      GPIO IRQ Mode selection for GPIO8 input. Value 0 = Level, 1 = Edge.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:1C
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-139-0">
   </span>
   <b>
    8.2.6.9 Sub-register 0x05:20 – GPIO interrupt "Both-Edge" selection
   </b>
  </h2>
  <span id="page-139-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:20
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_IBES
     </td>
     <td>
      GPIO interrupt "Both Edge" selection
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x20 is the GPIO interrupt "Both Edge" selection  register. This only applies when edge sensitive interrupts are enabled in th
   <a href="#page-138-1">
    e GPIO_IMODE
   </a>
   register. In this  case th
   <a href="#page-137-1">
    e GPIO_ISEN
   </a>
   register normally acts to select which edge triggers the interrupt. Thi
   <a href="#page-139-1">
    s GPIO_IBES
   </a>
   register overrides th
   <a href="#page-137-1">
    e GPIO_ISEN
   </a>
   register to select both edges as which edge triggers the interrupt. The
   <a href="#page-139-1">
    GPIO_IBES
   </a>
   register contains a bit for each GPIO pin to allow each to be individually configured. The bits are  as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:05:20 – GPIO_IBES – GPIO interrupt "Both Edge" selection register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GIBES8
     </th>
     <th>
      GIBES7
     </th>
     <th>
      GIBES6
     </th>
     <th>
      GIBES5
     </th>
     <th>
      GIBES4
     </th>
     <th>
      GIBES3
     </th>
     <th>
      GIBES2
     </th>
     <th>
      GIBES1
     </th>
     <th>
      GIBES0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-139-1">
    GPIO_IBES
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:20 – GPIO interrupt "Both-Edge" selection
     </th>
    </tr>
    <tr>
     <td>
      GIBES0
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO0 input. Value 0 = GPIO_IMODE register selects the
     </td>
    </tr>
    <tr>
     <td>
      reg:05:20
     </td>
     <td>
      edge. Value 1 = Both edges trigger the interrupt.
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      GIBES1
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO1 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      reg:05:20
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:20 – GPIO interrupt "Both-Edge" selection
     </th>
    </tr>
    <tr>
     <td>
      GIBES2
      <br/>
      reg:05:20
      <br/>
      bit:2
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO2 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES3
      <br/>
      reg:05:20
      <br/>
      bit:3
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO3 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES4
      <br/>
      reg:05:20
      <br/>
      bit:4
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO4 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES5
      <br/>
      reg:05:20
      <br/>
      bit:5
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO5 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES6
      <br/>
      reg:05:20
      <br/>
      bit:6
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO6 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES7
      <br/>
      reg:05:20
      <br/>
      bit:7
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO7 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      GIBES8
      <br/>
      reg:05:20
      <br/>
      bit:8
     </td>
     <td>
      GPIO IRQ "Both Edge" selection for GPIO8 input. Value 0 = use GPIO_IMODE, 1 = Both Edges.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:20
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-140-0">
   </span>
   <b>
    8.2.6.10 Sub-register 0x05:24 – GPIO interrupt latch clear
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:24
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_ICLR
     </td>
     <td>
      GPIO interrupt latch clear
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-140-1">
   </span>
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x24 is the GPIO interrupt clear register. When a  GPIO interrupt occurs that meets the configured criteria (edge/level etc.) that event is latched in an internal  interrupt latch. To clear the interrupt the host needs to write a 1 to the appropriate bit of this
   <a href="#page-140-1">
    GPIO_ICLR
   </a>
   register. There is no way to read the interrupt latch, which means that only one GPIO can be enabled to  interrupt at a time, unless the host has some other external way to distinguish events. Although level  sensitive interrupts are latched, if the active level persists, then clearing the latch will be ineffective, since  the interrupt will occur again immediately. Th
   <a href="#page-140-1">
    e GPIO_ICLR
   </a>
   register contains a bit for each GPIO pin as  follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:05:24 – GPIO_ICLR – GPIO interrupt latch clear
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GICLR8
     </th>
     <th>
      GICLR7
     </th>
     <th>
      GICLR6
     </th>
     <th>
      GICLR5
     </th>
     <th>
      GICLR4
     </th>
     <th>
      GICLR3
     </th>
     <th>
      GICLR2
     </th>
     <th>
      GICLR1
     </th>
     <th>
      GICLR0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:24 – GPIO interrupt latch clear
     </th>
    </tr>
    <tr>
     <td>
      GICLR0
      <br/>
      reg:05:24
      <br/>
      bit:0
     </td>
     <td>
      GPIO IRQ latch clear for GPIO0 input. Write 1 to clear the GPIO0 interrupt latch. Writing 0
      <br/>
      has no effect. Reading returns zero.
     </td>
    </tr>
    <tr>
     <td>
      GICLR1
      <br/>
      reg:05:24
      <br/>
      bit:1
     </td>
     <td>
      GPIO IRQ latch clear for GPIO1 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR2
      <br/>
      reg:05:24
      <br/>
      bit:2
     </td>
     <td>
      GPIO IRQ latch clear for GPIO2 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR3
      <br/>
      reg:05:24
      <br/>
      bit:3
     </td>
     <td>
      GPIO IRQ latch clear for GPIO3 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR4
      <br/>
      reg:05:24
      <br/>
      bit:4
     </td>
     <td>
      GPIO IRQ latch clear for GPIO4 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR5
      <br/>
      reg:05:24
      <br/>
      bit:5
     </td>
     <td>
      GPIO IRQ latch clear for GPIO5 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR6
      <br/>
      reg:05:24
      <br/>
      bit:6
     </td>
     <td>
      GPIO IRQ latch clear for GPIO6 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR7
      <br/>
      reg:05:24
      <br/>
      bit:7
     </td>
     <td>
      GPIO IRQ latch clear for GPIO7 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      GICLR8
      <br/>
      reg:05:24
      <br/>
      bit:8
     </td>
     <td>
      GPIO IRQ latch clear for GPIO8 input. Write 1 to clear the interrupt latch.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:24
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-140-1">
    GPIO_ICLR
   </a>
   register identified above are individually described below:
  </p>
  <h3>
   <span id="page-141-0">
   </span>
   <b>
    8.2.6.11 Sub-register 0x05:28 – GPIO interrupt de-bounce enable
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:28
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      GPIO_IDBE
     </td>
     <td>
      GPIO interrupt de-bounce enable
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-141-1">
   </span>
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x28 is the GPIO interrupt de-bounce enable  register. Th
   <a href="#page-141-1">
    e GPIO_IDBE
   </a>
   controls a filtering function that operates on the GPIO inputs prior to their  presentation into the GPIO interrupt logic. This de-bounce filter circuit removes short transients by using the  kilohertz clock (as enabled by the
   <a href="#page-221-4">
    LP_CLK_EN
   </a>
   bit in
   <i>
    Sub-register 0x11:04 –
    <a href="#page-218-1">
     Clock control
    </a>
   </i>
   ) to sample the input  signal. See
   <a href="#page-223-3">
    LP_CLK_DIV
   </a>
   in
   <i>
    Sub-register 0x11:08 –
    <a href="#page-221-1">
     Sequencing control
    </a>
   </i>
   for a description of the kilohertz clock.  The de-bounce filter is active when a state change of the GPIO input needs to persist for two cycles of this  clock before it will be seen by the interrupt handling logic. The
   <a href="#page-141-1">
    GPIO_IDBE
   </a>
   register contains a bit for each  GPIO pin as follows:
  </p>
  <p block-type="Text">
   <b>
    REG:05:28 – GPIO_IDBE – GPIO interrupt de-bounce enable
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      GIDBE8
     </th>
     <th>
      GIDBE7
     </th>
     <th>
      GIDBE6
     </th>
     <th>
      GIDBE5
     </th>
     <th>
      GIDBE4
     </th>
     <th>
      GIDBE3
     </th>
     <th>
      GIDBE2
     </th>
     <th>
      GIDBE1
     </th>
     <th>
      GIDBE0
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-141-1">
    GPIO_IDBE
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:28 – GPIO interrupt de-bounce enable
     </th>
    </tr>
    <tr>
     <td>
      GIDBE0
      <br/>
      reg:05:28
      <br/>
      bit:0
     </td>
     <td>
      GPIO IRQ de-bounce enable for GPIO0. Value 1 = de-bounce enabled. Value 0 = de-bounce
      <br/>
      disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE1
      <br/>
      reg:05:28
      <br/>
      bit:1
     </td>
     <td>
      GPIO1 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE2
      <br/>
      reg:05:28
      <br/>
      bit:2
     </td>
     <td>
      GPIO2 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE3
      <br/>
      reg:05:28
      <br/>
      bit:3
     </td>
     <td>
      GPIO3 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE4
      <br/>
      reg:05:28
      <br/>
      bit:4
     </td>
     <td>
      GPIO4 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE5
      <br/>
      reg:05:28
      <br/>
      bit:5
     </td>
     <td>
      GPIO5 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE6
      <br/>
      reg:05:28
      <br/>
      bit:6
     </td>
     <td>
      GPIO6 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE7
      <br/>
      reg:05:28
      <br/>
      bit:7
     </td>
     <td>
      GPIO7 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      GIDBE8
      <br/>
      reg:05:28
      <br/>
      bit:8
     </td>
     <td>
      GPIO8 IRQ de-bounce configuration. Value 1 = de-bounce enabled, 0 = de-bounce disabled.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:28
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-142-0">
   </span>
   <b>
    8.2.6.12 Sub-register 0x05:2C – GPIO raw state
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      05:2C
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      GPIO_RAW
     </td>
     <td>
      GPIO raw state
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-142-1">
   </span>
   Register file: 0x05 –
   <a href="#page-129-2">
    GPIO control and status,
   </a>
   sub-register 0x2C allows the raw state of the GPIO pin to be  read. Th
   <a href="#page-142-1">
    e GPIO_RAW
   </a>
   register contains a bit for each GPIO pin as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:05:2C – GPIO_RAW – GPIO raw state
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      WP8
      <br/>
      GRA
     </th>
     <th>
      WP7
      <br/>
      GRA
     </th>
     <th>
      WP6
      <br/>
      GRA
     </th>
     <th>
      WP5
      <br/>
      GRA
     </th>
     <th>
      WP4
      <br/>
      GRA
     </th>
     <th>
      WP3
      <br/>
      GRA
     </th>
     <th>
      WP2
      <br/>
      GRA
     </th>
     <th>
      WP1
      <br/>
      GRA
     </th>
     <th>
      WP0
      <br/>
      GRA
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-142-1">
    GPIO_RAW
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x05:2C – GPIO raw state
     </th>
    </tr>
    <tr>
     <td>
      GRAWP0
      <br/>
      reg:05:2C
      <br/>
      bit:0
     </td>
     <td>
      This bit reflects the raw state of GPIO0. It samples the input present on the GPIO, i.e. 0 or 1.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP1
      <br/>
      reg:05:2C
      <br/>
      bit:1
     </td>
     <td>
      GPIO1 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP2
      <br/>
      reg:05:2C
      <br/>
      bit:2
     </td>
     <td>
      GPIO2 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP3
      <br/>
      reg:05:2C
      <br/>
      bit:3
     </td>
     <td>
      GPIO3 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP4
      <br/>
      reg:05:2C
      <br/>
      bit:4
     </td>
     <td>
      GPIO4 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP5
      <br/>
      reg:05:2C
      <br/>
      bit:5
     </td>
     <td>
      GPIO5 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP6
      <br/>
      reg:05:2C
      <br/>
      bit:6
     </td>
     <td>
      GPIO6 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP7
      <br/>
      reg:05:2C
      <br/>
      bit:7
     </td>
     <td>
      GPIO7 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      GRAWP8
      <br/>
      reg:05:2C
      <br/>
      bit:8
     </td>
     <td>
      GPIO8 port raw state.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:05:2C
      <br/>
      bits:15–9
     </td>
     <td>
      Bits marked '-' are reserved and should be written as zero.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-143-0">
   </span>
   <b>
    Register file: 0x06 – Digital receiver configuration
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x06
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      DRX_CONF
     </td>
     <td>
      Digital receiver configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x06 is concerned with the low-level digital receiver configuration. It contains a  number of sub-registers. An overview of these is given by
   <a href="#page-144-0">
    Table 26.
   </a>
   Each of these sub-registers is separately  described in the sub-sections below.
  </p>
  <span id="page-144-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
      <br/>
      0x06
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0x00
     </th>
     <th>
      DTUNE0
     </th>
     <th>
      PAC configuration
     </th>
    </tr>
    <tr>
     <th>
      0x02
     </th>
     <th>
      RX_SFD_TOC
     </th>
     <th>
      SFD timeout
     </th>
    </tr>
    <tr>
     <th>
      0x04
     </th>
     <th>
      PRE_TOC
     </th>
     <th>
      Preamble detection timeout
     </th>
    </tr>
    <tr>
     <th>
      0x0C
     </th>
     <th>
      DTUNE3
     </th>
     <th>
      Receiver tuning register
     </th>
    </tr>
    <tr>
     <th>
      0x14
     </th>
     <th>
      DTUNE_5
     </th>
     <th>
      Digital Tuning Reserved register
     </th>
    </tr>
    <tr>
     <th>
      0x29
     </th>
     <th>
      DRX_CAR_INT
     </th>
     <th>
      Carrier recovery integrator register
     </th>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 26: Register file: 0x06 –
    <a href="#page-143-0">
     Digital receiver configuration
    </a>
    overview
   </b>
  </h2>
  <h2>
   <span id="page-144-2">
   </span>
   <b>
    8.2.7.1 Sub-register 0x06:00 – Digital RX tuning register 0
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:00
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      DTUNE0
     </td>
     <td>
      Digital tuning register 0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-144-1">
   </span>
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x00 is a tuning register. The value here  needs to change depending on a number of parameters. Please take care not to write other values to this  register as doing so may cause the DW3000 to malfunction.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:06:00 – DTUNE0 – Digital tuning register 0
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      DT0B4
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      PAC
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x06:00 – Digital RX tuning register
     </th>
    </tr>
    <tr>
     <td>
      PAC
     </td>
     <td>
      Preamble Acquisition Chunk size.The PAC size should be selected depending on the
     </td>
    </tr>
    <tr>
     <td>
      reg:06:00
      <br/>
      bits:1-0
     </td>
     <td>
      expected preamble length in the receiver. For details of PAC size and its role please refer to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      section 4 – To enable the receiver, the host issues an RX start command (see section on
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Fast Commands). The receiver will start by searching for preamble continually until
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble has been detected or acquired, then a demodulation will be attempted. A
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble detection timeout may be set to allow the receiver to stop searching for
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble after a desired period (which is programmable in PRE_TOC). A receive sequence
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      is shown in Figure 16.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Preamble Table 12 gives the recommended PAC size configuration for each preamble
      <br/>
      length.
      <br/>
      0x00 – is used for a PAC of 8
      <br/>
      0x01 – is used for a PAC of 16
      <br/>
      0x02 – is used for a PAC of 32
      <br/>
      0x03 – is used for a PAC of 4.
     </td>
    </tr>
    <tr>
     <td>
      DT0B4
     </td>
     <td>
      Tuning bit 4 of digital tuning reg0. This bit should be cleared to zero for best performance.
     </td>
    </tr>
    <tr>
     <td>
      reg:06:00
      <br/>
      bit:4
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should not be modified.
     </td>
    </tr>
    <tr>
     <td>
      reg:06:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–2
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-144-1">
    DTUNE0
   </a>
   register identified above are individually described below:
  </p>
  <h2>
   <span id="page-145-1">
   </span>
   <b>
    8.2.7.2 Sub-register 0x06:02 – SFD detection timout count
   </b>
  </h2>
  <span id="page-145-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:02
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      RX_SFD_TOC
     </td>
     <td>
      SFD detection timeout count
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x02 is used to set the 16-bi
   <a href="#page-252-1">
    t SFD
   </a>
   detection  timeout counter period, in units of preamble symbols. The
   <a href="#page-252-1">
    SFD
   </a>
   detection timeout starts running as soon as  preamble is detected. If the
   <a href="#page-252-1">
    SFD
   </a>
   sequence is not detected before the timeout period expires then the  timeout will act to abort the reception currently in progress, and set
   <a href="#page-97-1">
    RXSTO
   </a>
   event status bit.
   <a href="#page-252-1">
    SFD
   </a>
   timeout  events are also counted in
   <i>
    Sub-register 0x0F:10 – SFD
    <a href="#page-208-1">
     timeout error counter
    </a>
   </i>
   , assuming that counting is  enabled by the
   <a href="#page-205-0">
    EVC_EN
   </a>
   bit in
   <i>
    Sub-register 0x0F:00 –
    <a href="#page-205-1">
     Event counter control
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   The purpose of th
   <a href="#page-252-1">
    e SFD
   </a>
   detection timeout is to recover from the occasional false preamble detection events  that occur. By default this value is 65 symbols (64+8-8+1), which is set to match the default preamble,
   <a href="#page-252-1">
    SFD
   </a>
   length and PAC size. When it is known that a shorter or longer preamble is being used then the
   <a href="#page-145-0">
    RX_SFD_TOC
   </a>
   value can be reduced or increased appropriately. It is recommended to set it according to formula: preamble  length + 1 – PAC size + SFD length. (The reduction of th
   <a href="#page-145-0">
    e RX_SFD_TOC
   </a>
   value by the PAC size is done because one PAC size of the preamble length will be lost as part of the preamble detection).
  </p>
  <p block-type="Text">
   <b>
    WARNING: Please do NOT set
    <a href="#page-145-0">
     RX_SFD_TOC
    </a>
    to zero (disablin
    <a href="#page-252-1">
     g SFD
    </a>
    detection timeout), because in the event  of false preamble detection, the IC will remain in receive mode until commanded to do otherwise by the  external microcontroller, which can lead to significant reduction in battery life.
   </b>
  </p>
  <h2>
   <span id="page-146-2">
   </span>
   <b>
    8.2.7.3 Sub-register 0x06:04 – Preamble detection timeout count
   </b>
  </h2>
  <span id="page-146-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:04
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PRE_TOC
     </td>
     <td colspan="2">
      Preamble detection timeout count
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x04 is used to set the 16-bit preamble  detection timeout period, in units of PAC size symbols. The default/reset value is zero which disables the  preamble detection timeout. The preamble detection timeout starts running as soon as the receiver is  enabled to hunt for preamble. In the case of delayed receive (as commanded using th
   <a href="#page-237-7">
    e CMD_DRX)
   </a>
   the  preamble detection timeout starts after the delay when the receiver actually turns on to hunt for preamble.  If a preamble sequence in not detected before the timeout period expires then the timeout will act to abort  the reception currently in progress, and set the
   <a href="#page-96-1">
    RXPTO
   </a>
   event status bit in
   <i>
    <a href="#page-91-1">
     Sub-register 0x00:44
    </a>
    – System
    <a href="#page-91-1">
     event status
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   In cases where a response is expected at a particular time, this timeout can be used to flag that the expected  response is not starting on time and hence to turn off the receiver earlier than would otherwise be the case,  (i.e. if just employing the frame wait timeout). This can give a good power saving, in situations of sending a  message and awaiting a response that often does not come.
  </p>
  <p block-type="Text">
   The
   <a href="#page-146-0">
    PRE_TOC
   </a>
   is programmed in units of
   <a href="#page-251-5">
    PAC
   </a>
   size, which can be 4, 8, 16 or 32 symbols.
   <a href="#page-29-1">
    Table 9
   </a>
   gives the  preamble symbol lengths. The
   <a href="#page-251-5">
    PAC
   </a>
   size is set in
   <a href="#page-144-1">
    DTUNE0.
   </a>
   As this is a 16-bit counter the maximum preamble  detection timeout possible is 65535 × (
   <i>
    <a href="#page-251-5">
     PAC
    </a>
    size)
   </i>
   , a period of over 250 ms for the smallest
   <a href="#page-251-5">
    PAC
   </a>
   size. A value  of zero disables the preamble detection timeout.
  </p>
  <p block-type="Text">
   Example: Supposing our preamble length is 1024 symbols and th
   <a href="#page-251-5">
    e PAC
   </a>
   size is set to 32 (in line with
   <a href="#page-38-0">
    Table 12)
   </a>
   and, we send a message and know that the response (if present) will come after exactly 30 ms (because the  responder is using delayed send to begin the response exactly 30 ms after receiving our message). We can  command a 30 ms delayed receive (timed from our message transmission time) and have
   <a href="#page-146-0">
    PRE_TOC
   </a>
   programmed to a value of 32, which is the preamble length (1024) divided by the
   <a href="#page-251-5">
    PAC
   </a>
   size (32).
  </p>
  <h2>
   <span id="page-146-3">
   </span>
   <b>
    8.2.7.4 Sub-register 0x06:0C – Digital RX tuning register 3
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:0C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      DTUNE3
     </td>
     <td colspan="2">
      Digital receiver tuning register 3
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-146-1">
   </span>
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x0C is a 32-bit tuning register. The value  here needs to change from the default 0xAF5F584C to 0xAF5F35CC for optimal receiver performance.
  </p>
  <h2>
   <span id="page-147-0">
   </span>
   <b>
    8.2.7.5 Sub-register 0x06:14 – Digital RX tuning register 5
   </b>
  </h2>
  <span id="page-147-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:14
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      DTUNE_5
     </td>
     <td>
      Digital Tuning Reserved register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x14 is a reserved register.
  </p>
  <h3>
   <span id="page-147-2">
   </span>
   <b>
    8.2.7.6 Sub-register 0x06:29 – Carrier recovery integrator register
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      06:29
     </td>
     <td>
      3
     </td>
     <td>
      RO
     </td>
     <td>
      DRX_CAR_INT
     </td>
     <td colspan="2">
      Carrier recovery integrator register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-147-3">
   </span>
   Register file: 0x06 –
   <a href="#page-143-0">
    Digital receiver configuration,
   </a>
   sub-register 0x29 is a read-only register estimate of the  remote transmitter's frequency offset. This is generated during the reception of each packet as the receiver  locks on and compensates for the frequency offset of the transmitting device to successfully receive a  packet. This is a 21-bit signed number with the lower 17 bits (fractional part), and the upper 4 bits as the  integer portion of the number. When a packet is successfully received, this register can be read and  converted to the frequency error (in Hz) using the formula:
  </p>
  <p block-type="Equation">
   <math display="block">
    F_{offset} = \frac{C_{int} \times 2^{-17}}{2(\frac{N_{samples}}{F_s})}
   </math>
   <br/>
   \nwhere
   <br/>
   \n
   <math display="block">
    C_{int} = carrier integrator value
   </math>
   <br/>
   \n
   <math display="block">
    N_{samples} = \begin{cases} 8192 for 110kb/s \\ 1024 otherwise \\ 998.4 \times 10^6 \end{cases}
   </math>
  </p>
  <p block-type="Text">
   Foffset is the absolute frequency error in Hz. It can be converted to a clock offset (in ppm) by scaling by the  carrier frequency as follows
  </p>
  <p block-type="Equation">
   <math display="block">
    Offset_{ppm} = -10^6 \times \frac{F_{offset}}{F_c}
   </math>
   <br/>
   where
   <br/>
   <math>
    F_{offset} = frequency of fset in Hz
   </math>
   <br/>
   <math>
    F_c = 6489.6MHz for channel 5
   </math>
  </p>
  <p block-type="Text">
   The minus sign is produced by the process of measuring the clock offset.
  </p>
  <p block-type="Text">
   For a particular channel, the formulas reduce to multiplying the content of the carrier integrator register  with the appropriate constant from the table below:
  </p>
  <p>
   © Decawave Ltd 2019 Version 1.1 Page 148 of 255
  </p>
  <span id="page-148-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Data Rate
     </th>
     <th>
      Channel 5
     </th>
     <th>
      Channel 9
     </th>
    </tr>
    <tr>
     <td>
      850 kb/s, 6.81 Mb/s
     </td>
     <td>
      -0.5731e-3
     </td>
     <td>
      -0.1252e-3
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 27: Constants for frequency offset calculation
   </b>
  </h4>
  <p block-type="Text">
   <b>
    NOTE:
   </b>
   The carrier recovery algorithm continues to run during the reception of the whole packet so that, in  processing a receive interrupt say, the
   <a href="#page-147-3">
    DRX_CAR_INT
   </a>
   register value reflects the value at the end of reception.  An alternative value is given i
   <a href="#page-183-0">
    n CIA_DIAG_0
   </a>
   register.
  </p>
  <h2>
   <span id="page-148-2">
   </span>
   <b>
    Register file: 0x07 – Analog RF configuration block
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x07
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      RF_CONF
     </td>
     <td colspan="2">
      Analog RF configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x07 is concerned with the low-level configuration of the IC analog blocks. It  contains a number of sub-registers. An overview of these is given by
   <a href="#page-148-1">
    Table 28.
   </a>
   Each of these sub-registers is  separately described in the sub-sections below.
  </p>
  <h4>
   <span id="page-148-3">
   </span>
   <b>
    Table 28: Register file: 0x07 –
    <a href="#page-148-2">
     Analog RF configuration
    </a>
    block overview
   </b>
  </h4>
  <span id="page-148-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET
      <br/>
      in
      <br/>
      Register
      <br/>
      0x07
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0x00
     </th>
     <th>
      RF_ENABLE
     </th>
     <th>
      RF enable
     </th>
    </tr>
    <tr>
     <th>
      0x04
     </th>
     <td>
      RF_CTRL_MASK
     </td>
     <td>
      RF enable mask
     </td>
    </tr>
    <tr>
     <th>
      0x14
     </th>
     <td>
      RF_SWITCH
     </td>
     <td>
      RF switch configuration
     </td>
    </tr>
    <tr>
     <th>
      0x1A
     </th>
     <td>
      RF_TX_CTRL_1
     </td>
     <td>
      RF transmitter configuration
     </td>
    </tr>
    <tr>
     <th>
      0x1C
     </th>
     <td>
      RF_TX_CTRL_2
     </td>
     <td>
      RF transmitter configuration
     </td>
    </tr>
    <tr>
     <th>
      0x28
     </th>
     <td>
      TX_TEST
     </td>
     <td>
      Transmitter test configuration
     </td>
    </tr>
    <tr>
     <th>
      0x34
     </th>
     <td>
      SAR_TEST
     </td>
     <td>
      Transmitter Calibration – SAR temperature
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <td>
     </td>
     <td>
      sensor read enable
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-148-4">
   </span>
   <b>
    8.2.8.1 Sub-register 0x07:00 – RF control enable
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:00
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RF_ENABLE
     </td>
     <td>
      RF control enable
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-148-5">
   </span>
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x00 is a 32-bit configuration register for the  transceiver. This register can be used to enable TX RF blocks when exercising certain test modes (e.g. Continuous Wave mode).
   <a href="#page-149-0">
    Table 29: RF_ENABLE
   </a>
   and RF_CTRL_MASK values shows the value to program to
  </p>
  <p block-type="Text">
   <span id="page-149-0">
   </span>
   this register when we want to force the transmitter on even when a packet is not being transmitted. Please  take care not to write other values to the reserved area of this register as doing so may cause the DW3000  to malfunction.
   <b>
    Note:
   </b>
   the same value should be written into
   <a href="#page-149-3">
    RF_CTRL_MASK
   </a>
   register.
  </p>
  <h4>
   <b>
    Table 29:
    <a href="#page-148-5">
     RF_ENABLE
    </a>
    and
    <a href="#page-149-3">
     RF_CTRL_MASK
    </a>
    values
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      TX Channel
     </th>
     <th colspan="2">
      32-bit value to program to
      <br/>
      RF_ENABLE and RF_CTRL_MASK
     </th>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      0x02003C00
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      0x02001C00
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-149-2">
   </span>
   <b>
    8.2.8.2 Sub-register 0x07:04 – RF control mask
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:04
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RF_CTRL_MASK
     </td>
     <td>
      RF control mask
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-149-3">
   </span>
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x04 is a 32-bit configuration register for the  transceiver. This register can be used to enable TX RF blocks when exercising certain test modes (e.g. Continuous Wave mode).
   <a href="#page-149-0">
    Table 29: RF_ENABLE
   </a>
   and RF_CTRL_MASK values shows the value to program to  this register when we want to force the transmitter on even when a packet is not being transmitted. Please  take care not to write other values to the reserved area of this register as doing so may cause the DW3000  to malfunction.
   <b>
    Note:
   </b>
   this register should match the value written int
   <a href="#page-148-5">
    o RF_ENABLE
   </a>
   register.
  </p>
  <h3>
   <span id="page-149-4">
   </span>
   <b>
    8.2.8.3 Sub-register 0x07:14 – RF switch control
   </b>
  </h3>
  <span id="page-149-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:14
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RF_SWITCH
     </td>
     <td>
      TX RX switch control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x14 is a 32-bit control register for the TXRX  switch. Th
   <a href="#page-149-1">
    e RF_SWITCH
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:07:14 – RF_SWITCH – TX RX switch control
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      16
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      15 14 13 12 11 10 9
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      TRXS
     </th>
     <th>
      WCTRL
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      WEN
      <br/>
      TRXS
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      WCTRL
      <br/>
      ANTS
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      WEN
      <br/>
      ANTS
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      WPDOAPORT
      <br/>
      ANTS
     </th>
     <th>
      WNOTOGGLE
      <br/>
      ANTS
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-149-1">
    RF_SWITCH:
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x07:14 – RF switch control
     </th>
    </tr>
    <tr>
     <td>
      ANTSWNOTOGGLE
     </td>
     <td>
      When set to 1, the automatic toggling of the antenna switch is disabled when the
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
      <br/>
      bit:0
     </td>
     <td>
      device is operating in PDoA modes. Setting this bit to 0 will allow device to
      <br/>
      automatically toggle the switch, this is the default operation.
     </td>
    </tr>
    <tr>
     <td>
      ANTSWPDOAPORT
     </td>
     <td>
      Specifies the starting port for reception when the device is operating in PDoA modes.
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
      <br/>
      bit:1
     </td>
     <td>
      If set to 0, which is the default operation, RF port 1 will be used as the starting port,
      <br/>
      when set to 1, RF port 2 will be used as the starting port.
     </td>
    </tr>
    <tr>
     <td>
      ANTSWEN
     </td>
     <td>
      Setting this to 1 will enable manual control of the antenna switch (various options
      <br/>
      are detailed in ANTSWCTRL below),. This means that the switch needs to be toggled
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
      <br/>
      bit:8
     </td>
     <td>
      by the host software. When it is set to 0, which is the default operation,
      <br/>
      the switch
      <br/>
      will be automatically controlled.
     </td>
    </tr>
    <tr>
     <td>
      ANTSWCTRL
     </td>
     <td>
      Manual control of antenna switch when ANTSWEN is set. This is the bitmask with the
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
     </td>
     <td>
      following bit definitions:
     </td>
    </tr>
    <tr>
     <td>
      bits:14:12
     </td>
     <td>
      0x0 – disconnect from RF ports
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x1 – configure switch for RF port 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x2 – configure switch for RF port 2
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      All others – Reserved
     </td>
    </tr>
    <tr>
     <td>
      TRXSWEN
     </td>
     <td>
      Setting this to 1 will enable manual control of the TX RX switch. When set to 0, the
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
     </td>
     <td>
      switch is automatically controlled by the device.
     </td>
    </tr>
    <tr>
     <td>
      bit:16
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TRXSWCTRL
     </td>
     <td>
      TX/RX switch control when TRXSWEN bit is set. This is bitmask with following bit
      <br/>
      definitions:
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
     </td>
     <td>
      0x01 – configure switch for TX
     </td>
    </tr>
    <tr>
     <td>
      bits:29-24
     </td>
     <td>
      0x2a – configure switch for RX channel 9
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x1c – configure switch for RX channel 5
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      All others – Reserved
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These fields are reserved.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:07:14
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-150-0">
   </span>
   <b>
    8.2.8.4 Sub-register 0x07:1A – RF TX control register 1
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:1A
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      RF_TX_CTRL_1
     </td>
     <td>
      Analog TX control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x1A is an 8-bit control register for the  transmitter. The value here needs to be set to 0x0E for the optimal performance.
  </p>
  <h2>
   <span id="page-151-2">
   </span>
   <b>
    8.2.8.5 Sub-register 0x07:1C – RF TX control register 2
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:1C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RF_TX_CTRL_2
     </td>
     <td>
      Analog TX control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-151-0">
   </span>
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x1C is a 32-bit control register for the  transmitter. The value here needs to be set depending on the TX channel selected by th
   <a href="#page-109-4">
    e RF_CHAN
   </a>
   configuration in
   <i>
    <a href="#page-109-2">
     Sub-register 0x01:14
    </a>
    – Channel control
   </i>
   . The values required are given i
   <a href="#page-151-0">
    n Table 30.
   </a>
   Please  take care not to write other values to this register as doing so may cause the DW3000 to malfunction.
  </p>
  <h4>
   <span id="page-151-3">
   </span>
   <b>
    Table 30
    <a href="#page-151-3">
     : RF_TX_CTRL_2
    </a>
    values
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      TX Channel
     </th>
     <th>
      32-bit value to program to
      <br/>
      RF_TX_CTRL_2
     </th>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      0x1C071134
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      0x1C010034
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:07:1C –RF_TX_CTRL_2– Transmitter analog settings
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      PG_DELAY
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-151-3">
    RF_TX_CTRL_2:
   </a>
  </p>
  <span id="page-151-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      PG_DELAY
     </td>
     <td>
      the Pulse Generator Delay value. Sets the width of the transmitted pulses thereby setting
     </td>
    </tr>
    <tr>
     <td>
      reg:07:1C
      <br/>
      bits:5:0
     </td>
     <td>
      the transmit bandwidth . The value used here depends on the TX channel selected by the
      <br/>
      RF_CHAN configuration in Sub-register 0x01:14 – Channel control. Recommended values
      <br/>
      are given in Table 31 below; note however that these values may need to be tuned for
      <br/>
      spectral regulation compliance depending on external circuitry.
     </td>
    </tr>
    <tr>
     <td>
      Reserved
     </td>
     <td>
      These fields are reserved. Program only as directed in Table 30.
     </td>
    </tr>
    <tr>
     <td>
      reg:07:1C
      <br/>
      bits:various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 31
    <a href="#page-151-4">
     : PG_DELAY
    </a>
    recommended values
   </b>
  </h4>
  <span id="page-151-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      TX Channel
     </th>
     <th>
      6-bit value to program into PG_DELAY
     </th>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      0x34
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      0x34
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-152-0">
   </span>
   <b>
    8.2.8.6 Sub-register 0x07:28 – TX test
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:28
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      TX_TEST
     </td>
     <td>
      Transmitter test register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x28, is used for configuring transmitter test  modes. It contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
      REG:07:28 – TX_TEST – Transmitter test register
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      TX_ENTEST
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within TX_TEST:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x07:28 – TX test
     </th>
    </tr>
    <tr>
     <td>
      TX_ENTEST
     </td>
     <td>
      Transmitter test enable. This is bitmask with following bit definitions:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x01 – configure transmitter for continuous wave transmission mode 4
     </td>
    </tr>
    <tr>
     <td>
      reg:07:28
     </td>
     <td colspan="6">
      0x02 – configure transmitter for continuous wave transmission mode 3
     </td>
    </tr>
    <tr>
     <td>
      bits:0-3
     </td>
     <td>
      0x04 – configure transmitter for continuous wave transmission mode 2
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x08 – configure transmitter for continuous wave transmission mode 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      All others – Reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      More information can be found in PG_TEST
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved and should always be written as zero to avoid
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      any malfunction of the DW3000.
     </td>
    </tr>
    <tr>
     <td>
      reg:07:28
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-152-1">
   </span>
   <b>
    8.2.8.7 Sub-register 0x07:34 – SAR temperature sensor read enable
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:34
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      SAR_TEST
     </td>
     <td>
      SAR temperature sensor read enable
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-152-2">
   </span>
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x34, contains the following bitmapped subfields:
  </p>
  <h2>
   <b>
    REG:07:34 – SAR_TEST – SAR TS read enable
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0 - - - - - - - - - - - - - SAR_RDEN - - 0 0 0 0 0 0 0 0
  </h2>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-152-2">
    SAR_TEST:
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x07:34 – SAR temperature sensor read enable
     </th>
    </tr>
    <tr>
     <td>
      SAR_RDEN
     </td>
     <td>
      Writing 1 enables the SAR temperature sensor reading
     </td>
    </tr>
    <tr>
     <td>
      reg:07:34
      <br/>
      bit:2
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:07:34
      <br/>
      bits:various
     </td>
     <td>
      Bits marked '-' in this register are reserved and should always be written as zero to avoid
      <br/>
      any malfunction of the DW3000.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-153-0">
   </span>
   <b>
    8.2.8.8 Sub-register 0x07:40 – LDO voltage tune
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:40
     </td>
     <td>
      8
     </td>
     <td>
      RW
     </td>
     <td>
      LDO_TUNE
     </td>
     <td>
      Internal LDO voltage tuning parameter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x40 is the LDO voltage tuning register.  Please take care not to write to this register unless you are loading the calibrated value from OTP.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:07:40 – LDO_TUNE – LDO voltage tuning
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      LDO_TUNE (low 40 bits)
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:07:44 – LDO_TUNE – LDO voltage tuning
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td colspan="12">
      LDO_TUNE (high 28 bits)
     </td>
    </tr>
    <tr>
     <th>
      0
     </th>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within LDO_TUNE:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x07:40 – LDO voltage tune
     </th>
    </tr>
    <tr>
     <td>
      LDO_TUNE
     </td>
     <td>
      This register is used to control the output voltage levels of the on chip LDOs. For
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      production devices, on power-up this register is loaded with a trim value stored in OTP
     </td>
    </tr>
    <tr>
     <td>
      reg:07:40
     </td>
     <td>
      memory – see LDOTUNE_CAL in Table 17. This value can be automatically copied from
     </td>
    </tr>
    <tr>
     <td>
      bits:60:0
     </td>
     <td>
      OTP into the register using LDO_KICK. Ensure that the LDOTUNE_CAL OTP value is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      programmed before attempting to copy it over to this address – i.e. if OTP reads 0x0 then
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      default should be used.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Note:
   </b>
   When programming OTP memory the LDO_TUNE bits [15-12] need to be set to 0xf.
  </p>
  <h2>
   <b>
    8.2.8.9 Sub-register 0x07:48 – LDO control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:48
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      LDO_CTRL
     </td>
     <td>
      LDO control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x48 is a 32-bit configuration register for the  transceiver. This register can be used to enable LDO blocks when excercising certain test modes (e.g.  Continuous Wave mode), please see DW3000 APIs for detail
   <a href="#page-253-7">
    s [3]
   </a>
  </p>
  <h3>
   <b>
    8.2.8.10 Sub-register 0x07:48 – LDO load
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="4">
      Description
     </th>
    </tr>
    <tr>
     <td>
      07:51
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      LDO_RLOAD
     </td>
     <td>
      LDO tuning register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x07 –
   <a href="#page-148-2">
    Analog RF configuration
   </a>
   block, sub-register 0x51 is a 8-bit tuning register for the  transceiver. This register should be set to 0x14 for optimal operation.
  </p>
  <h3>
   <span id="page-154-0">
   </span>
   <b>
    Register file: 0x08 – Transmitter calibration block
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      TX_CAL
     </td>
     <td>
      Transmitter calibration block
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x08 is the transmit calibration block concerned with ensuring the optimum configuration of  the transmit signal. It contains a number of sub-registers. An overview of these is given by
   <a href="#page-155-0">
    Table 32.
   </a>
   Each  of these sub-registers is separately described in the sub-sections below.
  </p>
  <span id="page-155-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
      <br/>
      0x08
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="4">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td colspan="4">
      SAR_CTRL
      <br/>
      Transmitter Calibration – SAR control
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td colspan="4">
      SAR_STATUS
      <br/>
      Transmitter Calibration – SAR status
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td colspan="4">
      SAR_READING
      <br/>
      Transmitter Calibration – Latest SAR readings
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td colspan="4">
      SAR_WAKE_RD
      <br/>
      Transmitter Calibration – SAR readings at last wake-up
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      PGC_CTRL
     </td>
     <td>
      Transmitter Calibration – Pulse Generator control
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      PGC_STATUS
     </td>
     <td>
      Transmitter Calibration – Pulse Generator status
     </td>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td colspan="3">
      PG_TEST
      <br/>
      Transmitter Calibration – Pulse Generator test
     </td>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td colspan="5">
      PG_CAL_TARGET
      <br/>
      Transmitter Calibration – Pulse Generator count target value
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 32: Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
    overview
   </b>
  </h2>
  <h2>
   <span id="page-155-1">
   </span>
   <b>
    8.2.9.1 Sub-register 0x08:00 – SAR control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:00
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      SAR_CTRL
     </td>
     <td>
      Transmitter Calibration – SAR control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-155-2">
   </span>
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x00, contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:08:00 – SAR_CTRL – Transmitter Calibration SAR control
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      SAR_START
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   Definition of the bit fields within
   <a href="#page-155-2">
    SAR_CTRL:
   </a>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:00 – SAR control
     </th>
    </tr>
    <tr>
     <td>
      SAR_START
     </td>
     <td>
      Writing 1 sets SAR enable and writing 0 clears the enable. Once the enable is set, the host
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      should poll the SAR status (SAR_STATUS) which will be set to 1 once the SAR sampling
     </td>
    </tr>
    <tr>
     <td>
      reg:08:00
      <br/>
      bit:0
     </td>
     <td>
      has completed. The temperature and voltage values can be read then.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register SAR_CTRL are reserved and should always be written as zero to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      avoid any malfunction of the DW3000.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–1
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-155-3">
   </span>
   <b>
    8.2.9.2 Sub-register 0x08:04 – SAR status
   </b>
  </h3>
  <span id="page-155-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:04
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      SAR_STATUS
     </td>
     <td>
      Transmitter Calibration – SAR status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x04, contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:08:04 – TC_SARC – Transmitter Calibration SAR status
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      SAR_DONE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-155-4">
    SAR_STATUS:
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:04 – SAR status
     </th>
    </tr>
    <tr>
     <td>
      SAR_DONE
     </td>
     <td>
      The SAR status bit is zero when SAR is gathering data from the sensors, and will be set to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      1 when the data is ready to be read.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register SAR_STATUS are reserved and should always be written as zero
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      to avoid any malfunction of the DW3000.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15–1
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-156-0">
   </span>
   <b>
    8.2.9.3 Sub-register 0x08:08 – Latest SAR readings
   </b>
  </h2>
  <span id="page-156-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:08
     </td>
     <td>
      3
     </td>
     <td>
      RO
     </td>
     <td>
      SAR_READING
     </td>
     <td>
      Transmitter Calibration –Latest SAR readings
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x08, contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:08:08 – SAR_READING – Transmitter Calibration latest SAR readings
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="5">
      SAR_LTEMP
     </th>
     <th colspan="8">
      SAR_LVBAT
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-156-1">
    SAR_READING:
   </a>
  </p>
  <span id="page-157-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:08 – Latest SAR readings
     </th>
    </tr>
    <tr>
     <td>
      SAR_LVBAT
     </td>
     <td>
      Latest SAR reading for Voltage level. The 8-bit value reported here is the voltage reading,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      from the last time the SAR A/D was used to sample the battery voltage monitor output.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:08
      <br/>
      bits:7–0
     </td>
     <td>
      The LSB is approximately 6 mV. The value can be converted to an actual voltage by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      employing the formula:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Voltage (volts) = ( (SAR_LVBAT – OTP_READ(Vmeas
      <br/>
      @ 3.0 V) ) * 0.0251) + 3.0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This uses the stored 3.0 V reading in the OTP that was recorded during production test.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The effective range of measurement is 2.25 V to 3.76 V. For more details please refer to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For more details please refer to section 7.4 – Measuring IC temperature and voltage.
     </td>
    </tr>
    <tr>
     <td>
      SAR_LTEMP
     </td>
     <td>
      Latest SAR reading for Temperature level.
      <br/>
      The 8-bit value reported here is the
     </td>
    </tr>
    <tr>
     <td>
      reg:08:08
     </td>
     <td>
      temperature reading from the SAR A/D sampling of the DW3000 internal temperature
     </td>
    </tr>
    <tr>
     <td>
      bits:15–8
     </td>
     <td>
      sensor. The LSB is approximately 0.8 °C. The value can be converted to an actual voltage
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by employing the formula:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Temperature (°C )= ( (SAR_LTEMP –
      <br/>
      @ 22°C)
      <br/>
      OTP_READ(Vtemp
      <br/>
      ) x 1.05) + 22
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This uses the stored 22°C reading in the OTP that was recorded during production test.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For additional details please refer to section 7.4 – Measuring IC temperature and voltage.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      In order to read temperature sensor, the SAR_TEST needs to be set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register TC_SARL are reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:08:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:23–16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-157-0">
   </span>
   <b>
    8.2.9.4 Sub-register 0x08:0C – Wake up SAR readings
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:0C
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      SAR_WAKE_RD
     </td>
     <td>
      Transmitter Calibration – SAR readings at last wake-up
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-157-1">
   </span>
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x06, is a 16-bit status register that contains  the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:08:0C – TC_SARW– Transmitter Calibration SAR readings at last wake-up
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th colspan="7">
      SAR_WTEMP
     </th>
     <th colspan="8">
      SAR_WVBAT
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-157-1">
    SAR_WAKE_RD:
   </a>
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:0C – Wake up SAR readings
     </th>
    </tr>
    <tr>
     <td>
      SAR_WBAT
     </td>
     <td>
      SAR reading of Voltage level taken at last wake up event. The 8-bit value reported here is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the voltage reading from the SAR A/D sampling of the battery voltage monitor output
     </td>
    </tr>
    <tr>
     <td>
      reg:08:0C
     </td>
     <td>
      during wake up. For this to be valid the DW3000 has to have been reset or woken from
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
     </td>
     <td>
      sleeping with the ONW_RUN_SAR bit enabled in the (saved) Sub-register 0x0A:00 – AON
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      on wake configuration.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:0C – Wake up SAR readings
     </th>
    </tr>
    <tr>
     <td>
      SAR_WTEMP
     </td>
     <td>
      RFU
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NOTE: . To read device temperature SAR_READING register needs to be used.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:15– 8
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-158-0">
   </span>
   <b>
    8.2.9.5 Sub-register 0x08:10 – PG calibration control
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:10
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PGC_CTRL
     </td>
     <td>
      Transmitter Calibration – Pulse Generator control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x10, is a 16-bit control register that controls  the pulse generator calibration. There are two modes of operation:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     <span id="page-158-2">
     </span>
     <span id="page-158-1">
     </span>
     1. PGC_CNT: calculation o
     <a href="#page-160-4">
      f PG_COUNT
     </a>
     value from a give
     <a href="#page-151-4">
      n PG_DELAY
     </a>
    </li>
    <li block-type="ListItem">
     <span id="page-158-3">
     </span>
     2. PGC_DLY: auto-calibration which updates the
     <a href="#page-151-4">
      PG_DELAY
     </a>
     given a reference
     <a href="#page-160-4">
      PG_COUNT
     </a>
     value.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   When operating in
   <a href="#page-158-2">
    PGC_CNT
   </a>
   mode when the calibration is compete it will report new pulse generator count  value based on the curren
   <a href="#page-151-4">
    t PG_DELAY
   </a>
   value. When operating in
   <a href="#page-158-3">
    PGC_DLY
   </a>
   mode and the calibration is  complete, a new pulse generator delay will be generated based on the curren
   <a href="#page-161-4">
    t PG_TARGET
   </a>
   value.
  </p>
  <p block-type="Text">
   The count value is then stored automatically into th
   <a href="#page-159-1">
    e PGC_STATUS
   </a>
   register. This delay count gives a  consistent reflection of the bandwidth regardless of temperature.
  </p>
  <p block-type="Text">
   <a href="#page-158-1">
    PGC_CTRL
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:08:10 – TC_PG_CTRL – Transmitter Calibration – Pulse Generator control settings
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      PG
     </td>
     <td>
      MEAS
      <br/>
      C_T
     </td>
     <td>
     </td>
     <td>
      AUTO_CAL
      <br/>
      _
      <br/>
      C
      <br/>
      PG
     </td>
     <td>
      PG_START
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   Definition of the bit fields within
   <a href="#page-158-1">
    PGC_CTRL:
   </a>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:10 – PG calibration control
     </th>
    </tr>
    <tr>
     <td>
      PGC_START
     </td>
     <td>
      Start the pulse generator calibration. Note: This bit is self-clearing when calibration is
      <br/>
      complete.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-159-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:10 – PG calibration control
     </th>
    </tr>
    <tr>
     <td>
      PGC_AUTO_CAL
     </td>
     <td>
      Start the pulse generator auto-calibration. Note: This bit is self-clearing when
     </td>
    </tr>
    <tr>
     <td>
      reg:08:10
      <br/>
      bit:1
     </td>
     <td>
      calibration is complete. The desired PG_TARGET value should be programmed before
      <br/>
      running auto-cal. Once auto-cal has compelted the new value of PG_DELAY will be
      <br/>
      written to TX_CTRL register.
     </td>
    </tr>
    <tr>
     <td>
      PGC_TMEAS
     </td>
     <td>
      Number of clock cycles over which to run the pulse generator calibration counter.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:10
      <br/>
      bit5:2
     </td>
     <td>
      These are the 4 most significant bits of a 10 bit counter clocked by the system clock.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register PGC_CTRL are reserved and should not be changed to avoid
     </td>
    </tr>
    <tr>
     <td>
      reg:08:10
     </td>
     <td>
      any malfunction of the DW3000.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-159-0">
   </span>
   <b>
    8.2.9.6 Sub-register 0x08:14 – PG calibration status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:14
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      PGC_STATUS
     </td>
     <td>
      Transmitter Calibration – PG calibration status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-159-1">
   </span>
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x09, is a 16-bit status register.
  </p>
  <p block-type="Text">
   The reference value that is required for temperature bandwidth compensation is the contents of the
   <a href="#page-159-1">
    PGC_STATUS
   </a>
   register,
   <a href="#page-160-5">
    PG_DELAY_CNT,
   </a>
   which represents a counter incremented with every pulse generated  by the DW3000 IC's internal pulse generator. Intuitively, this count value (referred to as
   <a href="#page-160-4">
    PG_COUNT)
   </a>
   will vary  inversely with the
   <a href="#page-151-4">
    PG_DELAY
   </a>
   value – if the delay between pulses increases, the number of pulses within a  given timeframe will decrease, and vice versa.
   <a href="#page-160-5">
    PG_DELAY_CNT
   </a>
   represents a counter that increments with  every pulse generated by the DW3000 IC's internal pulse generator.
  </p>
  <p block-type="Text">
   The
   <a href="#page-151-4">
    PG_DELAY
   </a>
   value will not give the same bandwidth for varying temperatures. Th
   <a href="#page-160-4">
    e PG_COUNT
   </a>
   value,  however, will give a stable bandwidth across all temperatures. It is taken as a reference as the DW3000 has a  pulse generator auto-calibration procedure; the procedure takes a
   <a href="#page-160-4">
    PG_COUNT
   </a>
   value and calculates the
   <a href="#page-151-4">
    PG_DELAY
   </a>
   value from this. This
   <a href="#page-151-4">
    PG_DELAY
   </a>
   value can then be programmed in to give the desired bandwidth.
  </p>
  <p block-type="Text">
   That contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:08:14 – PGC_STATUS – Transmitter Calibration – Pulse Generator status
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      AUTOCAL_DONE
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      PG_DELAY_CNT
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <h2>
   Definition of the bit fields within
   <a href="#page-159-1">
    PGC_STATUS:
   </a>
  </h2>
  <span id="page-160-5">
  </span>
  <span id="page-160-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:14 – PG calibration status
     </th>
    </tr>
    <tr>
     <td>
      PG_DELAY_CNT
     </td>
     <td>
      Pulse generator count value (PG_COUNT) calculated by the calibration routine which
     </td>
    </tr>
    <tr>
     <td>
      reg:08:14
     </td>
     <td>
      gives the PG_DELAY.
     </td>
    </tr>
    <tr>
     <td>
      bits:11-0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      AUTOCAL_DONE
     </td>
     <td>
      Auto-calibration of the PG_DELAY has completed. The new value of PG_DELAY has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      been written to TX_CTRL register.
     </td>
    </tr>
    <tr>
     <td>
      reg:08:14
      <br/>
      bit:12
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register PGC_STATUS are reserved and should not be changed to
     </td>
    </tr>
    <tr>
     <td>
      reg:08:14
     </td>
     <td>
      avoid any malfunction of the DW3000.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-160-2">
   </span>
   8.2.9.7
   <b>
    Sub-register 0x08:18 – PG test
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:18
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PG_TEST
     </td>
     <td>
      Transmitter Calibration – Pulse Generator test
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-160-1">
   </span>
   <span id="page-160-0">
   </span>
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x18 is an 16-bit configuration register for use  in setting the transmitter into continuous wave (CW) mode. This CW mode is employed during the crystal  trimming operation which may be done at module manufacturing stage as part of calibrating the crystal  oscillator's operating frequency. At all other times, for normal operation, the value in this register should be  left in its default power on value of 0x0000.
   <a href="#page-160-0">
    Table 33
   </a>
   shows the values to write to this register in either  mode.
  </p>
  <h4>
   <b>
    Table 33:
    <a href="#page-160-2">
     Sub-register 0x08:18
    </a>
    – PG test values
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      MODE
     </th>
     <th>
      16-bit value to program into
      <br/>
      PG_TEST
     </th>
    </tr>
    <tr>
     <td>
      Normal operation
     </td>
     <td>
      0x0000
     </td>
    </tr>
    <tr>
     <td>
      Continuous Wave (CW) Test Mode
     </td>
     <td>
      0x000F
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   For more details of crystal trimming please refer to section
   <i>
    <a href="#page-242-1">
     10.1
    </a>
    – IC calibration –
    <a href="#page-242-1">
     crystal oscillator trim
    </a>
   </i>
   .
  </p>
  <h3>
   <span id="page-160-6">
   </span>
   <b>
    8.2.9.8 Sub-register 0x08:1C – PG count target value
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      08:1C
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      PG_CAL_TARGET
     </td>
     <td>
      Transmitter Calibration – PG count target value
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-160-3">
   </span>
   <i>
    Register file: 0x08 –
    <a href="#page-154-0">
     Transmitter calibration block
    </a>
   </i>
   , sub-register 0x1C, is a 16-bit register that contains
   <a href="#page-161-4">
    PG_TARGET
   </a>
   value. Target value o
   <a href="#page-160-4">
    f PG_COUNT
   </a>
   at which point PG auto cal will complete. The device will  return a count value as close as possible to the target. The register contains the following bitmapped subfields:
  </p>
  <h2>
   <b>
    REG:08:1C – PG_CAL_TARGET – Transmitter Calibration PG count target value
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0 - - - -
   <a href="#page-161-4">
    PG_TARGET
   </a>
   0 0 0 0 0 0 0 0 1 0 1 0 0 1 1 0
  </h2>
  <h2>
   Definition of the bit fields within
   <a href="#page-160-3">
    PG_CAL_TARGET:
   </a>
  </h2>
  <span id="page-161-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x08:1C – PG count target value
     </th>
    </tr>
    <tr>
     <td>
      PG_TARGET
     </td>
     <td>
      Pulse generator target value of PG_COUNT at which point PG auto cal will complete. The
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      device will return a count value as close as possible to the target
     </td>
    </tr>
    <tr>
     <td>
      reg:08:1C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:11–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in register PG_CAL_TARGET are reserved and should not be changed to
     </td>
    </tr>
    <tr>
     <td>
      reg:08:1C
     </td>
     <td>
      avoid any malfunction of the DW3000.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-161-2">
   </span>
   <b>
    Register file: 0x09 – Frequency synthesiser control block
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x09
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      FS_CTRL
     </td>
     <td>
      Frequency synthesiser control block
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x09 is the frequency synthesiser control block. Its main functionality is the  generation of the carrier frequency necessary for the operating channel. It contains a number of subregisters. An overview of these is given by
   <a href="#page-161-0">
    Table 34.
   </a>
   Each of these sub-registers is separately described in  the sub-sections below.
  </p>
  <h4>
   <b>
    Table 34: Register file: 0x09 –
    <a href="#page-161-2">
     Frequency synthesiser control block
    </a>
    overview
   </b>
  </h4>
  <span id="page-161-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register 0x09
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      PLL_CFG
     </td>
     <td>
      PLL configuration
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      PLL_CC
     </td>
     <td>
      PLL coarse code
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      PLL_CAL
     </td>
     <td>
      PLL calibration configuration
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      XTAL
     </td>
     <td>
      Crystal trim
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-161-3">
   </span>
   <b>
    8.2.10.1 Sub-register 0x09:00 – PLL configuration
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      09:00
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PLL_CFG
     </td>
     <td>
      PLL configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-161-1">
   </span>
   Register file: 0x09 –
   <a href="#page-161-2">
    Frequency synthesiser control block,
   </a>
   sub-register 0x00 is the PLL configuration register.  This allows per channel configuration of the PLL.
  </p>
  <h2>
   <span id="page-162-0">
   </span>
   <b>
    Table 35: Reference values Sub-register 0x09:00 – PLL
    <a href="#page-161-3">
     configuration
    </a>
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      TX Channel
     </th>
     <th colspan="7">
      Sub-register 0x09:00 – PLL
      <br/>
      configuration values
     </th>
    </tr>
    <tr>
     <td>
      5
     </td>
     <td>
      0x1F3C
     </td>
    </tr>
    <tr>
     <td>
      9
     </td>
     <td>
      0x0F3C
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-162-2">
   </span>
   <b>
    8.2.10.2 Sub-register 0x09:04 – PLL coarse code
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      09:04
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      PLL_CC
     </td>
     <td>
      PLL coarse code – starting code for calibration procedure
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-162-3">
   </span>
   Register file: 0x09 –
   <a href="#page-161-2">
    Frequency synthesiser control block,
   </a>
   sub-register 0x04 is the PLL configuration register. It sets the starting code for PLL calibration. If OTP address 0x35 (
   <a href="#page-68-0">
    PLL_LOCK_CODE
   </a>
   ) has a non-zero value, it  should be copied to this register, prior to PLL calibration, the
   <a href="#page-163-2">
    USE_OLD
   </a>
   bit should also be set.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:09:04 – PLL_CC – PLL starting code
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31
      <br/>
      30
      <br/>
      29
      <br/>
      28
      <br/>
      27
      <br/>
      26
      <br/>
      25
      <br/>
      22
      <br/>
      24
      <br/>
      23
     </th>
     <th>
      21
      <br/>
      20
      <br/>
      19
      <br/>
      18
      <br/>
      17
      <br/>
      16
      <br/>
      15
      <br/>
      14
      <br/>
      13
      <br/>
      12
      <br/>
      11
      <br/>
      10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
      <br/>
      6
      <br/>
      5
      <br/>
      4
      <br/>
      3
      <br/>
      2
      <br/>
      1
      <br/>
      0
     </th>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      CH5_CODE
     </th>
     <th>
      CH9_CODE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      1
      <br/>
      1
      <br/>
      1
      <br/>
      1
     </th>
     <th>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      1
      <br/>
      0
      <br/>
      1
      <br/>
      1
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-162-3">
    PLL_CC
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x09:04 – PLL coarse code
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:09:04
      <br/>
      bits: 31:22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CH5_CODE
     </td>
     <td>
      PLL calibration coarse code for channel 5. The default value is 0xF.
     </td>
    </tr>
    <tr>
     <td>
      reg:09:04
      <br/>
      bit:21:8
     </td>
     <td>
      Following PLL calibration, this value may be updated with a new code value. This value may
      <br/>
      change per device.
     </td>
    </tr>
    <tr>
     <td>
      CH9_CODE
     </td>
     <td>
      PLL calibration coarse code for channel 9. The default code is 0xB.
     </td>
    </tr>
    <tr>
     <td>
      reg:09:4
      <br/>
      bits:6–0
     </td>
     <td>
      Following PLL calibration, this value may be updated with a new code value. This value may
      <br/>
      change per device and/or over temperature.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-162-4">
   </span>
   <b>
    8.2.10.3 Sub-register 0x09:08 – PLL calibration
   </b>
  </h3>
  <span id="page-162-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      09:08
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PLL_CAL
     </td>
     <td>
      PLL calibration configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x09 –
   <a href="#page-161-2">
    Frequency synthesiser control block,
   </a>
   sub-register 0x08 is the PLL calibration register.
  </p>
  <h2>
   <b>
    REG:09:08 – PLL_CAL – PLL calibration configuration
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      15
     </td>
     <td>
      14
     </td>
     <td>
      13
     </td>
     <td>
      12
     </td>
     <td>
      11
     </td>
     <td>
      10
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      CAL_EN
     </td>
     <td>
     </td>
     <td>
      PLL_CFG_LD
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      USE_OLD
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the PLL_CAL register identified above are individually described below:
  </p>
  <span id="page-163-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x09:08 – PLL calibration
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:09:08
      <br/>
      bits:15:9
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CAL_EN
     </td>
     <td>
      PLL calibration enable bit. This bit needs to be set if PLL needs to be recalibrated, e.g. on
     </td>
    </tr>
    <tr>
     <td>
      reg:09:08
     </td>
     <td>
      channel 9 when temperature changes by 20° or if device is configured for one channel (e.g
     </td>
    </tr>
    <tr>
     <td>
      bit:8
     </td>
     <td>
      5) and then needs to be reconfigured to the other e.g. channel 9, but is not reset prior to re
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      configuration.This bit will self clear.
     </td>
    </tr>
    <tr>
     <td>
      PLL_CFG_LD
     </td>
     <td>
      PLL calibration configuration value. The default is 0x31, a more optimal setting of 0x81 should
     </td>
    </tr>
    <tr>
     <td>
      reg:09:8
     </td>
     <td>
      be used.
     </td>
    </tr>
    <tr>
     <td>
      bits:7–2
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      USE_OLD
     </td>
     <td>
      When this is set to 1 the device will use the coarse code value as set in PLL_CC register as
     </td>
    </tr>
    <tr>
     <td>
      reg:09:8
     </td>
     <td>
      starting point for PLL calibration.
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-163-2">
   </span>
   <span id="page-163-1">
   </span>
   <b>
    8.2.10.4 Sub-register 0x09:14 – Crystal trim register
   </b>
  </h3>
  <span id="page-163-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      09:14
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      XTAL
     </td>
     <td>
      Frequency synthesiser – Crystal trim
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x09 –
   <a href="#page-161-2">
    Frequency synthesiser control block,
   </a>
   sub-register 0x14 is the crystal trim register. This allows a fine control over the crystal oscillator to tune the DW3000 operating frequencies quite precisely.  For details of the use of this register please refer to section
   <a href="#page-242-1">
    10.1
   </a>
   –
   <i>
    IC calibration –
    <a href="#page-242-1">
     crystal oscillator
    </a>
    trim
   </i>
   .
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="9">
      REG:09:14 – XTAL – Crystal trim setting
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      XTAL_TRIM
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-163-0">
    XTAL
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-164-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x09:14 – Crystal trim register
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:09:14
      <br/>
      bits:7, 6
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      XTAL_TRIM
     </td>
     <td>
      Crystal Trim. Crystals may be trimmed using this register setting to tune out errors, see 10.1
     </td>
    </tr>
    <tr>
     <td>
      reg:09:14
     </td>
     <td>
      – IC calibration – crystal oscillator trim.
     </td>
    </tr>
    <tr>
     <td>
      bits:5–0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-164-5">
   </span>
   <b>
    Register file: 0x0A – Always-on system control interface
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x0A
     </td>
     <td>
      23
     </td>
     <td>
      -
     </td>
     <td>
      AON
     </td>
     <td colspan="2">
      Always on system control interface block
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-164-2">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x0A is the Always-On system control block,
   <a href="#page-164-2">
    (AON)
   </a>
   .
  </p>
  <p block-type="Text">
   The
   <a href="#page-164-2">
    AON
   </a>
   block contains a low-power configuration array that remains powered-up as long as power (from  the battery, for example) is supplied to the DW3000 via the VDD1 pin. User configurations, from SPI  accessible host interface registers, can be automatically saved in the AON memory when the DW3000 enters
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states and automatically restored from the AON memory when the DW3000 wakes  from sleeping. Additional discussion of these modes may be found in section
   <i>
    <a href="#page-21-1">
     2.5.1
    </a>
    –
    <a href="#page-21-1">
     SLEEP and DEEPSLEEP
    </a>
   </i>
   .
  </p>
  <p block-type="Text">
   This Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   controls the functions that remain on when the  IC enters its low-power
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states, and configures the activities the DW3000 should take as  the IC wakes from these sleep states. It contains a number of Sub-registers. An overview of these is given by
   <a href="#page-164-0">
    Table 36.
   </a>
   Each of these Sub-registers is separately described in the sub-sections below.
  </p>
  <h4>
   <b>
    Table 36: Register file: 0x0A –
    <a href="#page-164-5">
     Always-on system control
    </a>
    overview
   </b>
  </h4>
  <span id="page-164-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
      <br/>
      0x0A
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="4">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      AON_DIG_CFG
     </td>
     <td>
      AON wake up configuration
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      register
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      AON_CTRL
     </td>
     <td>
      AON control register
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      AON_RDATA
     </td>
     <td>
      AON direct access read data result
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      AON_ADDR
     </td>
     <td>
      AON direct access address
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      AON_WDATA
     </td>
     <td>
      AON direct access write data
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      AON_CFG
     </td>
     <td>
      AON configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-164-4">
   </span>
   <b>
    8.2.11.1 Sub-register 0x0A:00 – AON on wake configuration
   </b>
  </h3>
  <span id="page-164-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:00
     </td>
     <td>
      3
     </td>
     <td>
      RW
     </td>
     <td>
      AON_DIG_CFG
     </td>
     <td>
      AON wake up configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x00 is a 24-bit configuration register  that is used to control what the DW3000 IC does as it wakes up from low-power
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   states.  The
   <a href="#page-164-1">
    AON_DIG_CFG
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="14">
      REG:0A:00 – AON_DIG_CFG – AON wake-up configuration register
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
      <br/>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      W_PGFCAL
      <br/>
      ON
     </th>
     <th>
      -
     </th>
     <th>
      W_GO2RX
      <br/>
      ON
     </th>
     <th>
      W_GO2IDLE
      <br/>
      ON
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      RUN_SAR
      <br/>
      W_
      <br/>
      ON
     </th>
     <th>
      _DLD
      <br/>
      W_AON
      <br/>
      ON
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
      <br/>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-164-1">
    AON_DIG_CFG:
   </a>
  </p>
  <span id="page-165-2">
  </span>
  <span id="page-165-1">
  </span>
  <span id="page-165-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0A:00 – AON on wake configuration
     </th>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0A:00
      <br/>
      bits:[various]
     </td>
     <td>
      Bits marked '-' in register 0x0A:00 are reserved and should be left unchanged to
      <br/>
      avoid any malfunction of the DW3000.
     </td>
    </tr>
    <tr>
     <td>
      ONW_AON_DLD
      <br/>
      reg:0A:00
      <br/>
      bit:0
     </td>
     <td>
      On Wake-up download the AON array. On Wake-download configurations from the
      <br/>
      AON memory into the host interface register set. When the ONW_AON_DLD bit is set
      <br/>
      to 1 the values of user configuration registers are restored to their pre-sleep
      <br/>
      configuration values. When the ONW_AON_DLD bit is 0 the values of user
      <br/>
      configuration registers revert to their power-on-reset value when the DW3000
      <br/>
      wakes-up from SLEEP or DEEPSLEEP.
     </td>
    </tr>
    <tr>
     <td>
      ONW_RUN_SAR
      <br/>
      reg:0A:00
      <br/>
      bit:1
     </td>
     <td>
      On Wake-up Run the (temperature and voltage) Analog-to-Digital Convertors. The
      <br/>
      DW3000 is equipped with 8-bit A/D convertors to sample the IC temperature and its
      <br/>
      input battery voltage. Setting this bit will cause the automatic initiation of
      <br/>
      temperature and input battery voltage measurements when the DW3000 wakes
      <br/>
      from SLEEP or DEEPSLEEP states. As a result the temperature is measured before
      <br/>
      the IC heats up (and so may be a good measure of the ambient temperature around
      <br/>
      the IC), and, the battery voltage is measured before any significant current drain
      <br/>
      occurs (which may be useful in checking battery health). The resultant temperature
      <br/>
      and voltage values are available in Sub-register 0x08:0C – Wake up SAR readings. For
      <br/>
      more details of this functionality, please refer to section 7.4 – Measuring IC
      <br/>
      temperature and voltage.
      <br/>
      NOTE: For DW3000 only voltage can be read after wake up. The temperature needs
      <br/>
      to be read via SAR_READING register.
     </td>
    </tr>
    <tr>
     <td>
      ONW_GO2IDLE
      <br/>
      reg:0A:00
      <br/>
      bit:8
     </td>
     <td>
      On Wake-up go to IDLE_PLL state. Following completion of wake up, the device will
      <br/>
      automatically proceed to IDLE_PLL state from IDLE_RC.
     </td>
    </tr>
    <tr>
     <td>
      ONW_GO2RX
      <br/>
      reg:0A:00
      <br/>
      bit:9
     </td>
     <td>
      On Wake-up go to
      <br/>
      RX. Following the completion of wake
      <br/>
      up, the device will
      <br/>
      automatically proceed from IDLE_RC to IDLE_PLL state and then to RX.
     </td>
    </tr>
    <tr>
     <td>
      ONW_PGFCAL
      <br/>
      reg:0A:00
      <br/>
      bit:11
     </td>
     <td>
      On Wake-up perform RX calibration, for more details see RX_CAL register.
      <br/>
      If this is not set, then the host will need to manually perform RX calibration prior to
      <br/>
      enabling the receiver.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-166-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      8.2.11.2
     </th>
     <th>
      Sub-register
      <br/>
      0x0A:04
      <br/>
      –
      <br/>
      AON
      <br/>
      control register
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-166-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:04
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      AON_CTRL
     </td>
     <td>
      AON control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x04 is an 8-bit control register. The  bits in this register in general cause direct activity within the
   <a href="#page-164-2">
    AON
   </a>
   block with respect to the store
   <a href="#page-164-2">
    d AON
   </a>
   memory. The bits then act like commands that are processed by the DW3000 and the bits are automatically  cleared as the activity is taken.
  </p>
  <p block-type="Text">
   The
   <a href="#page-166-1">
    AON_CTRL
   </a>
   register contains the following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="14">
      REG:0A:04 – AON_CTRL – AON Control Register
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      DCA_ENAB
     </td>
     <td>
      -
     </td>
     <td>
      WRITE_HI
      <br/>
      DCA_
     </td>
     <td>
      WRITE
      <br/>
      DCA_
     </td>
     <td>
      DCA_READ
     </td>
     <td>
      CFG_UPLOAD
     </td>
     <td>
      SAVE
     </td>
     <td>
      RESTORE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Definition of the bit fields within
   <a href="#page-166-1">
    AON_CTRL:
   </a>
  </p>
  <span id="page-166-5">
  </span>
  <span id="page-166-4">
  </span>
  <span id="page-166-3">
  </span>
  <span id="page-166-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0A:04 – AON control register
     </th>
    </tr>
    <tr>
     <td>
      RESTORE
      <br/>
      reg:0A:04
      <br/>
      bit:0
     </td>
     <td>
      When this bit is set the DW3000 will copy the user configurations from the AON memory
      <br/>
      to the host interface register set. The RESTORE bit will auto clear when this command is
      <br/>
      executed.
     </td>
    </tr>
    <tr>
     <td>
      SAVE
      <br/>
      reg:0A:04
      <br/>
      bit:1
     </td>
     <td>
      When this bit is set the DW3000 will copy the user configurations from the host interface
      <br/>
      register set into the AON memory. It will then proceed to upload the AON block
      <br/>
      configurations. The SAVE bit will auto clear when this command is executed.
     </td>
    </tr>
    <tr>
     <td>
      CFG_UPLOAD
      <br/>
      reg:0A:04
      <br/>
      bit:2
     </td>
     <td>
      Upload the AON block configurations to the AON.
      <br/>
      This control will copy the AON
      <br/>
      configurations of
      <br/>
      Sub-register 0x0A:14 – AON configuration register into the AON configuration registers.
      <br/>
      This may be done for instance to enter SLEEP state after correctly configuring it in those
      <br/>
      two registers, although SLEEP state may also be automatically entered under certain
      <br/>
      conditions by appropriate configurations within Sub-register 0x11:08 – Sequencing
      <br/>
      control. If the CFG_UPLOAD is being set for a purpose other than going to sleep then it
      <br/>
      needs to be explicitly cleared immediately after use as it is not self-clearing. Going to
      <br/>
      sleep will automatically clear this bit.
     </td>
    </tr>
    <tr>
     <td>
      DCA_READ
      <br/>
      reg:0A:04
      <br/>
      bit:3
     </td>
     <td>
      Direct AON memory access read. When this bit is set, (and direct access is enabled via
      <br/>
      the DCA_ENAB bit below), it commands a direct read of the low-power configuration
      <br/>
      array store memory. The address to read from is specified in Sub-register 0x0A:0C – AON
      <br/>
      memory address and the resultant read data is presented in Sub-register 0x0A:08 – AON
      <br/>
      read data. This access is needed to retrieve the result of a calibration measurement on
      <br/>
      the low-power oscillator, See DW3000 APIs for details [3].
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-167-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0A:04 – AON control register
     </th>
    </tr>
    <tr>
     <td>
      DCA_WRITE
     </td>
     <td>
      Direct AON memory write access. When this bit is set, (and direct access is enabled via
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the DCA_ENAB bit below), it commands a direct write of the low-power configuration
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:04
      <br/>
      bit:4
     </td>
     <td>
      array store memory. The address to write to is specified in Sub-register 0x0A:0C – AON
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      memory address and the data to write is presented in Sub-register 0x0A:10 – AON data
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      to write. This access is needed to retrieve the result of a calibration measurement on the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      low-power oscillator, See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      DCA_WRITE_HI
     </td>
     <td>
      Direct AON memory write access. This bit together with DCA_WRITE bit needs to be set
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      when using address &gt; 0xFF, (and direct access is enabled via the DCA_ENAB bit below), it
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:04
      <br/>
      bit:5
     </td>
     <td>
      commands a direct write of the low-power configuration array store memory.
      <br/>
      The
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      address to write to is specified in Sub-register 0x0A:0C – AON memory address and the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      data to write is presented in Sub-register 0x0A:10 – AON data to write. This access is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      needed to retrieve the result of a calibration measurement on the low-power oscillator,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      Bits marked '-' in this register are reserved and should always be written as zero to avoid
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:04
     </td>
     <td>
      any malfunction of the DW3000.
     </td>
    </tr>
    <tr>
     <td>
      bit:6
      <br/>
      DCA_ENAB
     </td>
     <td>
      Direct AON memory access enable bit.
      <br/>
      This bit needs to be set to 1 to enable the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:04
     </td>
     <td>
      DCA_READ above to operate. Note: DCA_ENAB must to be reset to 0 to allow the
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
      automatic saving/restoring of user configurations to/from the AON memory, as needed
      <br/>
      for correct operation during entry and exit from SLEEP and DEEPSLEEP states.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-167-2">
   </span>
   <span id="page-167-0">
   </span>
   <b>
    8.2.11.3 Sub-register 0x0A:08 – AON read data
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:08
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      AON_RDATA
     </td>
     <td>
      AON direct access read data result
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-167-1">
   </span>
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x08 is an 8-bit register used to return  the result of a direct access read of a location in the AON memory array. The location to read from is  specified by
   <i>
    Sub-register 0x0A:0C – AON
    <a href="#page-168-1">
     memory address
    </a>
   </i>
   and the read is initiated using th
   <a href="#page-166-5">
    e DCA_READ
   </a>
   control bit in
   <i>
    <a href="#page-166-0">
     Sub-register
    </a>
    0x0A:04 – AON control
   </i>
   register
   <i>
    .
   </i>
  </p>
  <h3>
   <i>
    8.2.11.3.1 Reading from a specified address within
    <a href="#page-164-2">
     AON
    </a>
    memory
   </i>
  </h3>
  <p block-type="Text">
   <a href="#page-168-0">
    Figure 28
   </a>
   shows the procedural flow for reading from specified address i
   <a href="#page-164-2">
    n AON
   </a>
   memory:
  </p>
  <p>
   <img src="_page_168_Figure_2.jpeg"/>
  </p>
  <p>
   <span id="page-168-2">
   </span>
   <b>
    Figure 28: Flow chart for direct read of
    <a href="#page-164-2">
     AON
    </a>
    address
   </b>
  </p>
  <h3>
   <span id="page-168-1">
   </span>
   <span id="page-168-0">
   </span>
   <b>
    8.2.11.4 Sub-register 0x0A:0C – AON memory address
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:0C
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      AON_ADDR
     </td>
     <td>
      AON direct access address
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x0C is an 16-bit register used to  specify the address (9-bits) for a direct access read of the AON memory array. The read is initiated using the
   <a href="#page-166-5">
    DCA_READ
   </a>
   control bit in
   <i>
    <a href="#page-166-0">
     Sub-register
    </a>
    0x0A:04 – AON control
   </i>
   register and the read result is returned in
   <i>
    <a href="#page-167-0">
     Sub
    </a>
    register
    <a href="#page-167-0">
     0x0A:08
    </a>
    – AON read
   </i>
   data.
  </p>
  <h2>
   <span id="page-169-0">
   </span>
   <b>
    8.2.11.5 Sub-register 0x0A:10 – AON data to write
   </b>
  </h2>
  <span id="page-169-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:10
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      AON_WDATA
     </td>
     <td>
      AON direct access write data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x10 is is an 8-bit register used to  provide the data for the direct write access of the AON memory array, to the address specified by
   <i>
    <a href="#page-168-1">
     Sub
    </a>
    register 0x0A:0C – AON
    <a href="#page-168-1">
     memory
    </a>
   </i>
   address. The write is initiated using th
   <a href="#page-167-3">
    e DCA_WRITE
   </a>
   control bit in
   <i>
    <a href="#page-166-0">
     Sub
    </a>
    register
    <a href="#page-166-0">
     0x0A:04
    </a>
    – AON control
   </i>
   register
   <i>
    .
   </i>
  </p>
  <h4>
   <span id="page-169-2">
   </span>
   <i>
    8.2.11.5.1 Writing to a specified address within
    <a href="#page-164-2">
     AON
    </a>
    memory
   </i>
  </h4>
  <p block-type="Text">
   <a href="#page-170-0">
    Figure 29
   </a>
   shows the procedural flow for writing to specified address in
   <a href="#page-164-2">
    AON
   </a>
   memory:
  </p>
  <p>
   <img src="_page_170_Figure_2.jpeg"/>
  </p>
  <p>
   <span id="page-170-1">
   </span>
   <span id="page-170-0">
   </span>
   <b>
    Figure 29: Flow chart for direct write o
    <a href="#page-164-2">
     f AON
    </a>
    address
   </b>
  </p>
  <h2>
   <b>
    8.2.11.6 Sub-register 0x0A:14 – AON configuration
   </b>
  </h2>
  <span id="page-171-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0A:14
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      AON_CFG
     </td>
     <td>
      AON configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0A –
   <a href="#page-164-5">
    Always-on system control interface,
   </a>
   sub-register 0x14 is an 8-bit configuration register  for the always on block. The fields of this register are interpreted inside the
   <a href="#page-164-2">
    AON
   </a>
   block, which can only  happen after these are loaded into th
   <a href="#page-164-2">
    e AON
   </a>
   block via th
   <a href="#page-166-2">
    e CFG_UPLOAD
   </a>
   command in
   <i>
    <a href="#page-166-0">
     Sub-register
    </a>
    0x0A:04 – AON control
   </i>
   <a href="#page-166-0">
    register.
   </a>
   The
   <a href="#page-171-0">
    AON_CFG
   </a>
   register contains the following fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="8">
      REG:0A:14 – AON_CFG – AON configuration register
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9
      <br/>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      PRES_SLEEP
     </td>
     <td>
      WUP
      <br/>
      WAKE_
     </td>
     <td>
      WAKE_CSN
     </td>
     <td>
      BROUT_EN
     </td>
     <td>
      WAKE_CNT
     </td>
     <td>
      SLEEP_EN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-171-0">
    e AON_CFG
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-171-3">
  </span>
  <span id="page-171-2">
  </span>
  <span id="page-171-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="5">
      Description of fields within
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x0A:14 – AON configuration
     </td>
    </tr>
    <tr>
     <td>
      SLEEP_EN
     </td>
     <td>
      This is the sleep enable configuration bit. In order to put the DW3000 into the SLEEP or
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:14
      <br/>
      bit:0
     </td>
     <td>
      DEEPSLEEP state this bit needs to be set and then the configuration needs to be uploaded
      <br/>
      to the AON using the CFG_UPLOAD bit in Sub-register 0x0A:04 – AON control register. The
      <br/>
      SLEEP or DEEPSLEEP state can also be entered via the ATX2SLP or ARX2SLP controls in Sub
      <br/>
      register 0x11:08 – Sequencing control, which will automatically do the configuration upload
      <br/>
      to the AON and set this SLEEP_EN control. If WAKE_CNT bit below is disabled then the
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      device will enter DEEPSLEEP state otherwise it will enter SLEEP state.
     </th>
    </tr>
    <tr>
     <td>
      WAKE_CNT
      <br/>
      reg:0A:14
      <br/>
      bit:1
     </td>
     <td>
      Wake when sleep counter elapses. This configuration bit enables the sleep counter to bring
      <br/>
      the DW3000 out of SLEEP into operational mode. By default the WAKE_CNT configuration
      <br/>
      is 0 disabling the sleep counter as a wake-up signal. Setting the WAKE_CNT configuration
      <br/>
      bit to 1 will mean that the sleep counter will wake the DW3000 form SLEEP. See Note
      <br/>
      below on wake up events. To configure the duration of the sleep counter see 8.2.11.6.1
      <br/>
      below.
     </td>
    </tr>
    <tr>
     <td>
      BROUT_EN
      <br/>
      reg:0A:14
      <br/>
      bit:2
     </td>
     <td>
      Set to 1 to enable the BROWNOUT detector during SLEEP or DEEPSLEEP. This block will
      <br/>
      consume ~6uA. See also VWARN event in the Sub-register 0x00:44 – System event status
      <br/>
      register.
     </td>
    </tr>
    <tr>
     <td>
      WAKE_CSN
      <br/>
      reg:0A:14
      <br/>
      bit:3
     </td>
     <td>
      Wake using SPI access. This configuration bit enables SPICSn to bring the DW3000 out of
      <br/>
      SLEEP or DEEPSLEEP into operational mode. By default the WAKE_CSN configuration is 1
      <br/>
      enabling the SPICSn input as a wake-up signal. Setting the WAKE_CSN configuration bit to
      <br/>
      0 will mean that SPICSn cannot wake the DW3000 form SLEEP or DEEPSLEEP. See Note
      <br/>
      below on wake up events.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-172-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Sub-register 0x0A:14 – AON configuration
     </th>
    </tr>
    <tr>
     <td>
      WAKE_WUP
     </td>
     <td>
      Wake using WAKEUP pin. This configuration bit enables the WAKEUP line to bring the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      DW3000 out of SLEEP or DEEPSLEEP states into operational mode. By default the
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:14
      <br/>
      bit:4
     </td>
     <td>
      WAKE_WUP configuration is 1 enabling the WAKEUP line as a wake-up signal. Setting the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      WAKE_WUP configuration bit to 0 will mean that the WAKEUP line cannot wake the
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      DW3000 from SLEEP or DEEPSLEEP. See Note below on wake up events.
     </th>
    </tr>
    <tr>
     <td>
      PRES_SLEEP
     </td>
     <td>
      Preserve Sleep. This bit determines what the DW3000 does after a wake-up event, with
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      respect to the ARX2SLP and ATX2SLP sleep controls in Sub-register 0x11:08 – Sequencing
     </td>
    </tr>
    <tr>
     <td>
      reg:0A:14
      <br/>
      bit:5
     </td>
     <td>
      control, and the SLEEP_EN control in
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x0A:14 – AON configuration. When the PRES_SLEEP bit is set to 1 these sleep
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      controls are not cleared upon wake up, allowing the device to be more easily (or
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      automatically) returned to sleep.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-172-4">
   </span>
   <b>
    Note:
   </b>
  </h4>
  <p block-type="Text">
   There are three mechanisms to wake the DW3000:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     using the
     <b>
      WAKEUP
     </b>
     line when th
     <a href="#page-172-1">
      e WAKE_WUP
     </a>
     configuration is set to 1
    </li>
    <li block-type="ListItem">
     using
     <b>
      SPICSn
     </b>
     when the
     <a href="#page-171-1">
      WAKE_CSN
     </a>
     configuration is set to 1,
    </li>
    <li block-type="ListItem">
     using the sleep timer when the
     <a href="#page-171-2">
      WAKE_CNT
     </a>
     configuration is 1 and the sleep counter is  enabled via the
     <a href="#page-171-2">
      WAKE_CNT
     </a>
     bit in
     <a href="#page-171-0">
      AON_CFG.
     </a>
    </li>
    <li block-type="ListItem">
     <span id="page-172-2">
     </span>
     • Full chip reset
    </li>
   </ul>
  </p>
  <p block-type="Text">
   If none of these wake up mechanisms are enabled and the DW3000 is put into
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   state then to take  DW3000 out of sleep a reset needs to be performed with RSTn pin, or by removing power to the device.
  </p>
  <h4>
   <span id="page-172-0">
   </span>
   <i>
    8.2.11.6.1 Configuration of sleep counter
   </i>
  </h4>
  <p block-type="Text">
   The sleep counter time (SLEEP_TIM) is 16-bits wide, but represents the upper 16-bits of a 28-bit counter, i.e.  the low order bit is equal to 4096 counts. For example, if the low power oscillator frequency is 20000 Hz  then programming the
   <b>
    <a href="#page-172-2">
     SLEEP_TIM
    </a>
   </b>
   with a value of 24 would yield a sleep time of 24 × 4096 ÷ 20000, which is  approximately 4.92 seconds.
  </p>
  <p block-type="Text">
   The
   <b>
    <a href="#page-172-2">
     SLEEP_TIM
    </a>
   </b>
   is located in AON memory space at the address 0x102 (low 8-bits) and 0x103 (high 8-bits).  To write data to this space se
   <a href="#page-169-2">
    e 8.2.11.5.1 above.
   </a>
  </p>
  <p block-type="Text">
   Note: When programming sleep counter time, the host must delay enabling the sleep counter by at least 32  µs, following the programming of the timer duration for the newly programmed value to apply. Otherwise  the counter will use the previously programmed value.
  </p>
  <h2>
   <span id="page-172-3">
   </span>
   <b>
    Register file: 0x0B – OTP memory interface
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x0B
     </td>
     <td>
      23
     </td>
     <td>
      -
     </td>
     <td>
      OTP_IF
     </td>
     <td colspan="2">
      One Time Programmable memory interface
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x0B is th
   <a href="#page-251-1">
    e OTP
   </a>
   memory interface. This allows read access to parameters stored in  the
   <a href="#page-251-1">
    OTP
   </a>
   memory, and it is also the interface via which parameters are programmed into the
   <a href="#page-251-1">
    OTP
   </a>
   memory.  The
   <a href="#page-251-1">
    OTP
   </a>
   memory interface contains a number of sub-registers. An overview of these sub-registers is given  by
   <a href="#page-173-0">
    Table 37,
   </a>
   and each is then separately described in the sub-sections below.
  </p>
  <p block-type="Text">
   <b>
    Note: Programming
    <a href="#page-251-1">
     OTP
    </a>
    memory is a one-time only activity, any values programmed in error cannot be  corrected. Also, please take care when programming
    <a href="#page-251-1">
     OTP
    </a>
    memory to only write to the designated areas – programming elsewhere may permanently damage the DW3000's ability to function normally. The OTP  memory is programmed 32-bits at a time, e.g. programming of a single 8-bit, 16-bit or 24-bit word is not  supported.
   </b>
  </p>
  <p block-type="Text">
   <span id="page-173-0">
   </span>
   For more details of th
   <a href="#page-251-1">
    e OTP
   </a>
   memory please refer to section
   <i>
    <a href="#page-66-1">
     7.3
    </a>
    –
    <a href="#page-66-1">
     Using the on-chip OTP
    </a>
    memory
   </i>
   .
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in
      <br/>
      Register 0x0B
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0x00
     </th>
     <th>
      OTP_WDATA
     </th>
     <th>
      OTP write data
     </th>
    </tr>
    <tr>
     <th>
      0x04
     </th>
     <th>
      OTP_ADDR
     </th>
     <th>
      OTP address
     </th>
    </tr>
    <tr>
     <th>
      0x08
     </th>
     <th>
      OTP_CFG
     </th>
     <th>
      OTP configuration
     </th>
    </tr>
    <tr>
     <th>
      0x0C
     </th>
     <th>
      OTP_STAT
     </th>
     <th>
      OTP status
     </th>
    </tr>
    <tr>
     <th>
      0x10
     </th>
     <th>
      OTP_RDATA
     </th>
     <th>
      OTP read data
     </th>
    </tr>
    <tr>
     <th>
      0x14
     </th>
     <th>
      OTP_SRDATA
     </th>
     <th>
      OTP Special Register (SR) read data
     </th>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    Table 37: Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
    overview
   </b>
  </h4>
  <h2>
   <span id="page-173-1">
   </span>
   <b>
    8.2.12.1 Sub-register 0x0B:00 – OTP data to program
   </b>
  </h2>
  <span id="page-173-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:00
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      OTP_WDATA
     </td>
     <td>
      OTP data to program to a particular address
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface,
    </a>
   </i>
   sub-register 0x00 is a 32-bit register. This register is used to  configure the OTP memory block for memory writing operations and also to store the data value to be  programmed into an OTP location. Writing to OTP memory is an involved procedure. For details of this  please refer to section
   <i>
    <a href="#page-69-2">
     7.3.2
    </a>
    – Programming
    <a href="#page-69-2">
     a value into OTP
    </a>
    memory.
   </i>
  </p>
  <h3>
   <span id="page-173-3">
   </span>
   <b>
    8.2.12.2 Sub-register 0x0B:04 – OTP programming address
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:04
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      OTP_ADDR
     </td>
     <td>
      OTP address to which to program the data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-173-4">
   </span>
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
   </i>
   , sub-register 0x04 is a 16-bit register used to select the address  within the OTP memory block that is being accessed (for read or write) this OTP memory interface. The
   <a href="#page-173-4">
    OTP_ADDR
   </a>
   register contains the following fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:2D:04 – OTP_ADDR – OTP address
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="5">
      OTP_ADDR
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   The fields of th
   <a href="#page-173-4">
    e OTP_ADDR
   </a>
   register are described below:
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0B:04 – OTP programming address
     </th>
    </tr>
    <tr>
     <td>
      OTP_ADDR
     </td>
     <td>
      This 7-bit field specifies the address within OTP memory that will be accessed read or written.
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:04
      <br/>
      bits:10 –0
     </td>
     <td>
      For details of the OTP memory map and the procedures to read and write OTP memory, please
      <br/>
      refer to section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0B:04
     </td>
     <td>
      Reserved. The remainder of this register is reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:15 –11
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-174-0">
   </span>
   <b>
    8.2.12.3 Sub-register 0x0B:08 – OTP configuration
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:08
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      OTP_CFG
     </td>
     <td>
      OTP configuration register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-174-1">
   </span>
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
   </i>
   , sub-register 0x08 is a 16-bit register used to select and load  special receiver operational parameter sets. See
   <i>
    <a href="#page-177-2">
     8.2.12.7
    </a>
    –
    <a href="#page-177-2">
     Receiver operating parameter sets
    </a>
   </i>
   for details.  The
   <a href="#page-174-1">
    OTP_CFG
   </a>
   register contains the following fields:
  </p>
  <p>
   <img src="_page_174_Figure_7.jpeg"/>
  </p>
  <p block-type="Text">
   The fields of th
   <a href="#page-174-1">
    e OTP_CFG
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0B:08 – OTP configuration
     </th>
    </tr>
    <tr>
     <td>
      OTP_MAN
     </td>
     <td>
      Enable manual control over OTP interface. See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:0
     </td>
     <td>
      See section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      OTP_READ
     </td>
     <td>
      OTP read enable. See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:1
     </td>
     <td>
      See section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      OTP_WRITE
     </td>
     <td>
      OTP write enable. See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:2
     </td>
     <td>
      See section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-175-6">
  </span>
  <span id="page-175-5">
  </span>
  <span id="page-175-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0B:08 – OTP configuration
     </th>
    </tr>
    <tr>
     <td>
      OTP_WRITE_MR
     </td>
     <td>
      OTP write mode. See DW3000 APIs for details [3].
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:3
     </td>
     <td>
      See section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      DGC_KICK
     </td>
     <td>
      This bit when set initiates the loading of the RX_TUNE_CAL parameter from OTP address
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x20 – 0x34 into the register RX_TUNE. Either channel 5 or channel 9 RX tune
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:6
     </td>
     <td>
      calibration data is loaded, depending on the configuration of DGC_SEL bit.
     </td>
    </tr>
    <tr>
     <td>
      LDO_KICK
     </td>
     <td>
      This bit when set initiates the loading of the LDOTUNE_CAL parameter from OTP
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      address 0x4 into the register Sub-register 0x07:40 – LDO voltage tune. See the section
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:7
     </td>
     <td>
      Waking from sleep for more details.
     </td>
    </tr>
    <tr>
     <td>
      BIAS_KICK
     </td>
     <td>
      This bit when set initiates the loading of the BIASTUNE_CAL parameter from OTP
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      address 0xA into the BIAS_CTRL register. See the section Waking from sleep for more
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:8
     </td>
     <td>
      details.
     </td>
    </tr>
    <tr>
     <td>
      OPS_KICK
     </td>
     <td>
      This bit when set initiates a load of the operating parameter set selected by the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      OPS_SEL configuration below.
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      OPS_SEL
     </td>
     <td>
      Operating parameter set selection. This selects the operating parameter set to load
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      when the OPS_KICK is invoked. Allowed values are:
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:12,11
     </td>
     <td>
      00: Select parameter set 0 – Long.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      01: Select parameter set 1 – reserved.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      10: Select Default parameter set (2 – Short).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      11: Reserved. Do not select this value.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      See section 8.2.12.7 – Receiver operating parameter sets below for details of use of
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      these operating parameter sets.
     </td>
    </tr>
    <tr>
     <td>
      DGC_SEL
     </td>
     <td>
      RX_TUNE parameter set selection. This selects the RX_TUNE_CAL parameter set to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      load when the DGC_KICK is invoked. If DGC_SEL bit is set to 0 channel 5 parameter set
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bit:13
     </td>
     <td>
      is selected otherwise, setting to 1 will select channel 9 parameter set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Reserved. Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:08
      <br/>
      bits:various
     </td>
     <td>
      N.B.: Any change in these bits may cause the DW3000 to malfunction.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-175-4">
   </span>
   <span id="page-175-3">
   </span>
   <span id="page-175-1">
   </span>
   <b>
    8.2.12.4 Sub-register 0x0B:0C – OTP programming status
   </b>
  </h2>
  <span id="page-175-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:0C
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      OTP_STAT
     </td>
     <td>
      OTP memory programming status register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
   </i>
   , sub-register 0x0C is a 16-bit register used to give status  information about the progress of the OTP programming activity. The
   <a href="#page-175-2">
    OTP_STAT
   </a>
   register contains the  following fields:
  </p>
  <p block-type="Text">
   <b>
    REG:0B:0C – OTP_STAT – OTP status
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0
  </p>
  <p block-type="Text">
  </p>
  <p>
   <img src="_page_176_Figure_2.jpeg"/>
  </p>
  <p block-type="Text">
   The fields of th
   <a href="#page-175-2">
    e OTP_STAT
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0B:0C – OTP programming status
     </th>
    </tr>
    <tr>
     <td>
      OTP_PROG_DONE
     </td>
     <td>
      OTP Programming Done. This status bit indicates that the programming of the 32-
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      bit word from OTP_WDATA to the address specified by OTP_ADDR has completed.
     </td>
    </tr>
    <tr>
     <td>
      eg:0B:0C
     </td>
     <td colspan="4">
      Writing to OTP memory is an involved procedure. For details of this please refer to
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
      section 7.3.2 – Programming a value into OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      OTP_VPP_OK
     </td>
     <td>
      OTP Programming Voltage OK. This status bit indicates that the VPP level is
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      sufficient for programming the OTP memory. For details of OTP programming
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:0C
     </td>
     <td>
      please refer to section 7.3 – Using the on-chip OTP memory.
     </td>
    </tr>
    <tr>
     <td>
      bit:1
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Reserved. Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0B:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:various
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-176-0">
   </span>
   <b>
    8.2.12.5 Sub-register 0x0B:10 – OTP data read from given address
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:10
     </td>
     <td>
      4
     </td>
     <td>
      R
     </td>
     <td>
      OTP_RDATA
     </td>
     <td>
      OTP data read from given address
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-176-1">
   </span>
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
   </i>
   , sub-register 0x10 is a 32-bit register. The data value read from  an OTP location will appear here after invoking the OTP read function. For details of the OTP memory map  and the procedures to read OTP memory, please refer to section
   <i>
    <a href="#page-66-1">
     7.3
    </a>
    –
    <a href="#page-66-1">
     Using the on-chip OTP
    </a>
    memory
   </i>
   .
  </p>
  <h4>
   <span id="page-176-2">
   </span>
   <b>
    8.2.12.6 Sub-register 0x0B:14 – OTP special register
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0B:14
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      OTP_SRDATA
     </td>
     <td>
      OTP Special Register (SR) read data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-176-3">
   </span>
   <i>
    Register file: 0x0B –
    <a href="#page-172-3">
     OTP memory interface
    </a>
   </i>
   , sub-register 0x14 is a 32-bit register. The data value stored in the  OTP SR (0x60) location will appear here after power up. For details of the OTP memory map and the  procedures to read OTP memory, please refer to section
   <i>
    <a href="#page-66-1">
     7.3
    </a>
    –
    <a href="#page-66-1">
     Using the on-chip OTP
    </a>
    memory
   </i>
   .
  </p>
  <h2>
   <span id="page-177-2">
   </span>
   <b>
    8.2.12.7 Receiver operating parameter sets
   </b>
  </h2>
  <p block-type="Text">
   The DW3000 receiver has the capability of operating with specific parameter sets that relate to how it  acquires the preamble signal and decodes the data. Three distinct operating parameter sets are defined  within the IC for selection by the host system designer depending on system characteristics.
   <a href="#page-177-0">
    Table
   </a>
   38 below  lists and defines these operating parameter sets indicating their recommended usages.
  </p>
  <h4>
   <b>
    Table 38: Receiver operating parameter sets
   </b>
  </h4>
  <span id="page-177-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Set
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      10 – Default /
      <br/>
      Short
     </td>
     <td>
      This is the default operating parameter set. This parameter set is designed to give good
      <br/>
      performance for very short preambles, i.e. the length 64 preamble It is however not
      <br/>
      optimum for long preambles.
     </td>
    </tr>
    <tr>
     <td>
      00 – Long
     </td>
     <td>
      This operating parameter set is designed to give good performance for long (&gt;= 256)
      <br/>
      preambles (size including the SFD and STS length).
     </td>
    </tr>
    <tr>
     <td>
      01 – reserved
     </td>
     <td>
      reserved
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   For most applications the default operating parameter set is the best choice.
  </p>
  <h2>
   <span id="page-177-1">
   </span>
   <b>
    Register files: 0x0C, 0x0D, 0x0E – CIA Interface
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x0C – 0x0E
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      CIA_IF
     </td>
     <td>
      Channel Impulse Response Analyser (CIA) Interface
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x0C is th
   <a href="#page-250-3">
    e CIA
   </a>
   control and status interface. The Channel Impulse response  Analyser (CIA) function is responsible for analysing the accumulator data, (available through
   <a href="#page-227-1">
    Register file:
   </a>
   0x15 –
   <a href="#page-227-1">
    Accumulator CIR memory)
   </a>
   . Depending on the exact configuration, there are up to 3 channel impulse  response (CIR) estimates in the accumulator memory. One based on the preamble code and two based on  the STS sequence.
  </p>
  <p block-type="Text">
   The CIA identifies the first path in any given CIR estimate. It can then use this to calculate the RX timestamp  written to
   <i>
    <a href="#page-101-1">
     Sub-register 0x00:64
    </a>
    – Receive time stamp
   </i>
   . Th
   <a href="#page-250-3">
    e CIA
   </a>
   interface contains a number of sub-registers.  An overview of these sub-registers in this
   <i>
    <a href="#page-177-1">
     Register files: 0x0C, 0x0D, 0x0E
    </a>
    – CIA Interface
   </i>
   is given b
   <a href="#page-178-0">
    y Table 39
   </a>
   and each is then separately described in the sub-sections below (0x0C and 0x0D are CIA outputs, while 0x0E  is the CIA configuration control). The control and configuration of the STS is achieved via the sub-registers in
   <a href="#page-122-1">
    CP_CFG
   </a>
   an
   <a href="#page-76-0">
    d SYS_CFG.
   </a>
   Please also refer to
   <i>
    §
    <a href="#page-61-0">
     6
    </a>
    –
    <a href="#page-61-0">
     Secure ranging / timestamping
    </a>
   </i>
   for details of the operation  of the STS for secure ranging operations.
  </p>
  <p>
  </p>
  <span id="page-178-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Register
     </th>
     <th>
      OFFSET in
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      file
     </th>
     <th>
      Register
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x00
     </td>
     <td>
      IP_TS
     </td>
     <td>
      Preamble sequence receive time stamp and status
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x08
     </td>
     <td>
      STS_TS
     </td>
     <td>
      STS receive time stamp and status
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x10
     </td>
     <td>
      STS1_TS
     </td>
     <td>
      2nd STS receive time stamp and status
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x18
     </td>
     <td>
      TDOA
     </td>
     <td>
      The TDoA between the two CIRs
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x1E
     </td>
     <td>
      PDOA
     </td>
     <td>
      The PDoA between the two CIRs
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x20
     </td>
     <td>
      CIA_DIAG_0
     </td>
     <td>
      CIA Diagnostic 0
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x28
     </td>
     <td>
      IP_DIAG_0
     </td>
     <td>
      Preamble Diagnostic 0 – peak
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x2C
     </td>
     <td>
      IP_DIAG_1
     </td>
     <td>
      Preamble Diagnostic 1 – power indication
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x30
     </td>
     <td>
      IP_DIAG_2
     </td>
     <td>
      Preamble Diagnostic 2 – magnitude @ FP + 1
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x34
     </td>
     <td>
      IP_DIAG_3
     </td>
     <td>
      Preamble Diagnostic 3 – magnitude @ FP + 2
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x38
     </td>
     <td>
      IP_DIAG_4
     </td>
     <td>
      Preamble Diagnostic 4 – magnitude @ FP + 3
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x48
     </td>
     <td>
      IP_DIAG_8
     </td>
     <td>
      Preamble Diagnostic 8 – first path
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x58
     </td>
     <td>
      IP_DIAG_12
     </td>
     <td>
      Preamble Diagnostic 12 – symbols accumulated
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x5C
     </td>
     <td>
      STS_DIAG_0
     </td>
     <td>
      STS Diagnostic 0 – STS CIR peak
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x60
     </td>
     <td>
      STS_DIAG_1
     </td>
     <td>
      STS 0 Diagnostic 1 – STS CIR power indication
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x64
     </td>
     <td>
      STS_DIAG_2
     </td>
     <td>
      STS 0 Diagnostic 2 – STS CIR magnitude @ FP + 1
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      0x68
     </td>
     <td>
      STS_DIAG_3
     </td>
     <td>
      STS 0 Diagnostic 3 – STS CIR magnitude @ FP + 2
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x00
     </td>
     <td>
      STS_DIAG_4
     </td>
     <td>
      STS 0 Diagnostic 4 – STS CIR magnitude @ FP + 3
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x10
     </td>
     <td>
      STS_DIAG_8
     </td>
     <td>
      STS 0 Diagnostic 8 – STS CIR first path
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x20
     </td>
     <td>
      STS_DIAG_12
     </td>
     <td>
      STS 0 Diagnostic 12 – STS CIR accumulated STS length
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x38
     </td>
     <td>
      STS1_DIAG_0
     </td>
     <td>
      STS 1 Diagnostic 0 – STS CIR peak
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x3C
     </td>
     <td>
      STS1_DIAG_1
     </td>
     <td>
      STS 1 Diagnostic 1 – STS CIR power indication
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x40
     </td>
     <td>
      STS1_DIAG_2
     </td>
     <td>
      STS 1 Diagnostic 2 – STS CIR magnitude @ FP + 1
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x44
     </td>
     <td>
      STS1_DIAG_3
     </td>
     <td>
      STS 1 Diagnostic 3 – STS CIR magnitude @ FP + 2
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x48
     </td>
     <td>
      STS1_DIAG_4
     </td>
     <td>
      STS 1 Diagnostic 4 – STS CIR magnitude @ FP + 3
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x58
     </td>
     <td>
      STS1_DIAG_8
     </td>
     <td>
      STS 1 Diagnostic 8 – STS CIR first path
     </td>
    </tr>
    <tr>
     <td>
      0x0D
     </td>
     <td>
      0x68
     </td>
     <td>
      STS1_DIAG_12
     </td>
     <td>
      STS 1 Diagnostic 11 – STS CIR accumulated STS length
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x00
     </td>
     <td>
      CIA_CONF
     </td>
     <td>
      CIA general configuration
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x04
     </td>
     <td>
      FP_CONF
     </td>
     <td>
      First path temp adjustment and thresholds
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x0C
     </td>
     <td>
      IP_CONF
     </td>
     <td>
      Preamble Config 0 – CIA preamble configuration
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x12
     </td>
     <td>
      STS_CONF_0
     </td>
     <td>
      STS Config 0 – CIA STS configuration
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x16
     </td>
     <td>
      STS_CONF_1
     </td>
     <td>
      STS Config 1 – CIA STS configuration
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      0x1A
     </td>
     <td>
      CIA_ADJUST
     </td>
     <td>
      User adjustment to the PDoA
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-178-1">
   </span>
   <b>
    8.2.13.1 Sub-register 0x0C:00 – Preamble receive time stamp and status
   </b>
  </h4>
  <span id="page-178-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:00
     </td>
     <td>
      8
     </td>
     <td>
      RO
     </td>
     <td>
      IP_TS
     </td>
     <td>
      Preamble receive time stamp and status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x00 of register file 0x0C is an 8-octet register  reporting the 40-bit preamble Time of Arrival estimate along with status diagnostic octet relating to it.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0C:00 – IP_TS – Preamble receive time stamp and status (Octets 0 to 3, 32-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      IP_TOA (low 32 bits of 40-bit value)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0C:04 – IP_TS – Preamble receive time stamp and status (Octets 4 to 7, 32-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th colspan="6">
      IP_TOAST
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      IP_POA
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      IP_TOA (high 8 bits of 40)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-178-2">
    e IP_TS
   </a>
   register are described below:
  </p>
  <span id="page-179-1">
  </span>
  <span id="page-179-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:00 – Preamble receive time stamp and status
     </th>
    </tr>
    <tr>
     <td>
      IP_TOA
     </td>
     <td>
      Preamble sequence Time of Arrival estimate. This 40-bit (5-octet) field reports the. The fully
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      adjusted time of reception as estimated by the CIA algorithm operating on the CIR
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:00
     </td>
     <td>
      accumulated using the preamble sequence. Please refer to section 4.1.7 – RX message
     </td>
    </tr>
    <tr>
     <td>
      bits:39-0
     </td>
     <td>
      timestamp for more details of the adjustments applied. The units of the low order bit are
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      approximately 15.65 picoseconds. The actual unit may be calculated as 1/ (128*499.2×106
      <br/>
      )
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      seconds. The IP_TOA value is available here when the leading edge determination and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      timestamp adjustments are completed (when the CIADONE status bit is set).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The IP_TOA value is also written to the RX_STAMP field in Sub-register 0x00:64 – Receive
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      time stamp, but that may be overwritten by the STS_TOA value if this is being computed by
      <br/>
      the CIA algorithm.
     </td>
    </tr>
    <tr>
     <td>
      IP_POA
     </td>
     <td>
      Phase of arrival as computed from the preamble CIR. It is adjusted by the state of the carrier
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      recovery algorithm's correction when the CIR is finalized. This register is used when
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:04
     </td>
     <td>
      implementing a two-chip PDoA system.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–8
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0C:04
     </td>
     <td>
      These bits are unused / reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:23–22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      IP_TOAST
     </td>
     <td>
      Preamble sequence Time of Arrival status indicator. The low order 5-bits of this octet are a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      set of error flags indicating various conditions in the CIA algorithm that mean that the
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:04
      <br/>
      bits:31–24
     </td>
     <td>
      IP_TOA value is not reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Status word of the preamble analysis
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [31] – Reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [30] – Reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [29] – Reserved
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [28] – First path too close to the end to be plausible
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [27] – Coarse first path estimate too close to end to be plausible
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [26] – CIR too weak to get any estimate
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [25] – Noise threshold had to be artificially lowered to find any first path.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [24] – No strong rising edge on the first path so estimate is vulnerable to noise
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-180-3">
   </span>
   <b>
    8.2.13.2 Sub-register 0x0C:08 – STS receive time stamp and status
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:08
     </td>
     <td>
      8
     </td>
     <td>
      RO
     </td>
     <td>
      STS_TS
     </td>
     <td>
      STS receive time stamp and status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-180-2">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x08 of register file 0x0C is an 8-octet register  reporting the 40-bit
   <a href="#page-252-0">
    STS
   </a>
   based Time of Arrival estimate along with status diagnostic octet relating to it.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0C:08 – STS_TS – STS receive time stamp and status (Octets 0 to 3, 32-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS_TOA (low 32 bits of 40-bit value)
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    REG:0C:0C –
    <a href="#page-180-2">
     STS_TS
    </a>
    – STS receive time stamp and status (Octets 4 to 7, 32-bits)
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td colspan="10">
      STS_TOAST
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS_POA
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="8">
      STS_TOA (high 8 bits of 40)
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-180-2">
    e STS_TS
   </a>
   register are described below:
  </p>
  <span id="page-180-4">
  </span>
  <span id="page-180-1">
  </span>
  <span id="page-180-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:08 – STS receive time stamp and status
     </th>
    </tr>
    <tr>
     <td>
      STS_TOA
     </td>
     <td>
      STS Time of Arrival estimate. This 40-bit (5-octet) field reports the time of reception as
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      estimated by the CIA algorithm operating on the CIR accumulated using the STS sequence.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:08
     </td>
     <td>
      The units of the low order bit are approximately 15.65 picoseconds. The actual unit may be
     </td>
    </tr>
    <tr>
     <td>
      bits:39-0
     </td>
     <td>
      calculated as 1/ (128*499.2×106
      <br/>
      ) seconds. The STS_TOA value is available here when the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      leading edge determination and timestamp adjustments are completed (when the CIADONE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      status bit is set). Note the STS_TOA value is also written into the RX_STAMP field in Sub
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      register 0x00:64 – Receive time stamp. This will overwrite an existing value in the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RX_STAMP field. So CP_TOA takes precedence over IP_TOA.
     </td>
    </tr>
    <tr>
     <td>
      STS_POA
     </td>
     <td>
      Phase of arrival as computed from the STS CIR and is adjusted by the state of the carrier
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      recovery algorithm's correction when the CIR estimate is complete. It can be used in a two
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:0C
     </td>
     <td>
      chip PDoA system.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–8
      <br/>
      –
     </td>
     <td>
      These bits are unused / reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      STS_TOAST
     </td>
     <td>
      STS sequence Time of Arrival status indicator. These bits are a set of error flags indicating
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      various conditions in the CIA algorithm. If STS_TOAST is non-zero it means that the CIR has
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:08
      <br/>
      bits:31-23
     </td>
     <td>
      failed one or more confidence tests. As a result, the STS_TOA and STS_POA value is not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Status bits from the STS analysis:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [31] : STS_PGR_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [30] : STS_SS_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [29] : STS_CQ_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [28] : First path too close to the end to be plausible.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [27] : Coarse first path estimate too close to end to be plausible.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [26] : CIR too weak to get any estimate.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [25] : Noise threshold had to be artificially lowered to find any first path.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [24] : No strong rising edge on the first path so estimate is vulnerable to noise.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [23] : Reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-181-0">
   </span>
   <b>
    8.2.13.3 Sub-register 0x0C:10 – STS second RX time stamp and status
   </b>
  </h2>
  <span id="page-181-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:10
     </td>
     <td>
      8
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_TS
     </td>
     <td>
      STS second receive time stamp and status (valid in PDoA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      Mode 3 only)
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x08 of register file 0x0C is an 8-octet register  reporting the 40-bit
   <a href="#page-252-0">
    STS
   </a>
   second Time of Arrival estimate along with status diagnostic octet relating to it. This  is only valid when operating in PDoA Mode 3.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0C:10 – STS1_TS – STS second receive time stamp and status (Octets 0 to 3, 32-bits)
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th colspan="15">
      STS1_TOA (low 32 bits of 40-bit value)
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="10">
      REG:0C:14 – STS1_TS – STS second receive time stamp and status (Octets 4 to 7, 32-bits)
     </th>
    </tr>
    <tr>
     <td>
      31
     </td>
     <td>
      30
     </td>
     <td>
      29
     </td>
     <td>
      28
     </td>
     <td>
      27
     </td>
     <td>
      26
     </td>
     <td>
      25
     </td>
     <td>
      24
     </td>
     <td>
      23 22212019181716151413121110 9
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td colspan="6">
      STS1_TOAST
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td colspan="8">
      STS1_POA
      <br/>
      STS1_TOA (high 8 bits of 40)
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-181-1">
    e STS1_TS
   </a>
   register are described below:
  </p>
  <span id="page-181-4">
  </span>
  <span id="page-181-3">
  </span>
  <span id="page-181-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:10 – STS second RX time stamp and status
     </th>
    </tr>
    <tr>
     <td>
      STS1_TOA
     </td>
     <td>
      STS second Time of Arrival estimate. This 40-bit (5-octet) field reports the time of
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:10
      <br/>
      bits:39-0
     </td>
     <td>
      reception as estimated by the CIA algorithm operating on the CIR accumulated using the
      <br/>
      STS. The units of the low order bit are approximately 15.65 picoseconds. The actual unit
      <br/>
      may be calculated as 1/ (128*499.2×106
      <br/>
      ) seconds. The STS1_TOA value is available here
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      when the leading edge determination and timestamp adjustments are completed (when
      <br/>
      the CIADONE status bit is set).
     </td>
    </tr>
    <tr>
     <td>
      STS1_POA
     </td>
     <td>
      Phase of arrival as computed from the STS based CIR estimate and is adjusted by the state
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      of the carrier recovery algorithm's correction when the CIR estimate is complete. It can be
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:14
     </td>
     <td>
      used in a two-chip PDoA system.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–8
      <br/>
      –
     </td>
     <td>
      These bits are unused / reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:14
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:22
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      STS1_TOAST
     </td>
     <td>
      STS second Time of Arrival status indicator. These bits are a set of error flags indicating
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      various conditions in the CIA algorithm. If STS_TOAST is non-zero it means that the CIR has
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:14
      <br/>
      bits:31-23
     </td>
     <td>
      failed one or more confidence tests. As a result, the STS1_TOA and STS1_POA value is not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Status bits from the STS1 analysis:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [31] : STS_PGR_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [30] : STS_SS_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [29] : STS_CQ_EN test fail.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [28] : First path too close to the end to be plausible.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [27] : Coarse first path estimate too close to end to be plausible.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [26] : CIR too weak to get any estimate.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [25] : Noise threshold had to be artificially lowered to find any first path.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [24] : No strong rising edge on the first path so estimate is vulnerable to noise.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      [23] : Reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      ID
     </th>
     <th colspan="2">
      Length
      <br/>
      Type
      <br/>
      (octets)
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0C:18
     </th>
     <th>
      6
     </th>
     <th>
      RO
     </th>
     <th>
      TDOA
     </th>
     <th>
      The TDoA between two CIRs
     </th>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-182-1">
   </span>
   <span id="page-182-0">
   </span>
   <b>
    8.2.13.4 Sub-register 0x0C:18 – Time difference of arrival result
   </b>
  </h3>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x18 of register file 0x0C is 41-bit TDoA between  two CIR TOAs. The bit 40 is a sign bit. If PDoA Mode 1 is selected (see
   <a href="#page-79-2">
    PDOA_MODE)
   </a>
   then this TDoA refers to  the TDoA between th
   <a href="#page-179-0">
    e IP_TOA
   </a>
   and the
   <a href="#page-180-0">
    STS_TOA
   </a>
   value. In PDoA Mode 3 this is the TDoA between the
   <a href="#page-180-0">
    STS_TOA
   </a>
   and the
   <a href="#page-181-2">
    STS1_TOA
   </a>
   value. All three CIRs are estimates of the same (or a very similar) channel so the  TDoA should be small. Its value can help when determining how reliable the PDoA/ToA estimate is. TDoA is  described in
   <a href="#page-40-0">
    4.2
   </a>
   - TDoA
   <a href="#page-40-0">
    and PDoA
   </a>
   support.
  </p>
  <h4>
   <span id="page-182-2">
   </span>
   <b>
    8.2.13.5 Sub-register 0x0C:1E – Phase difference of arrival result
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:1E
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      PDOA
     </td>
     <td>
      PDoA and First Path (FP) threshold status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-182-3">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x1E of register file 0x0C is a 2-octet register  reporting the phase difference of arrival. This is only valid when operating one of PDoA modes
   <a href="#page-79-2">
    (PDOA_MODE)
   </a>
   . Th
   <a href="#page-182-3">
    e PDOA
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:0C:1E – PDOA – PDoA result
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      FP_TH_MD
     </th>
     <th colspan="6">
      PDOA
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-182-3">
    PDOA
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:1E – Phase difference of arrival result
     </th>
    </tr>
    <tr>
     <td>
      PDOA
     </td>
     <td>
      Phase difference result. This is further described in 4.2 TDoA and PDoA support.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:1E
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits: 13–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      FP_TH_MD
     </td>
     <td>
      First path threshold test mode.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0 - &gt; absolute difference of two first paths is smaller or equal the FP_AGREED_TH
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:1E
      <br/>
      bit: 14
     </td>
     <td>
      1 - &gt; absolute difference is larger than FP_AGREED_TH
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      These bits are unused / reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:1E
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-183-1">
   </span>
   <b>
    8.2.13.6 Sub-register 0x0C:20 – CIA diagnostic 0
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:20
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      CIA_DIAG_0
     </td>
     <td>
      CIA diagnostic 0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-183-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x20 of register file 0x0C is a 4-octet register  reporting CIA diagnostics after CIR analysis. Th
   <a href="#page-183-0">
    e CIA_DIAG_0
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:20 – CIA_DIAG_0 – CIA diagnostic 0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="10">
      COE_PPM
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-183-0">
    CIA_DIAG_0
   </a>
   register are described below:
  </p>
  <span id="page-183-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:20 – CIA diagnostic 0
     </th>
    </tr>
    <tr>
     <td>
      COE_PPM
     </td>
     <td>
      Clock offset estimate. This 13-bit field reports an estimate of the clock offset of the remote
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transmitting device using an s[-15:-26] fixed point. The value is available here when the
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:20
     </td>
     <td>
      CIADONE status bit is set. To get PPM (part per million) the integer 13-bit value should be
     </td>
    </tr>
    <tr>
     <td>
      bits: 12–0
     </td>
     <td>
      divided by 2^26 and then multiplied by 10^6.
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      These bits are unused / reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:20
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits: 31–13
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.7 Sub-register 0x0C:24 – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:24
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      CIA_DIAG_1
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-183-5">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x24 of register file 0x0C is a 4-octet reserved  register.
  </p>
  <h3>
   <span id="page-183-2">
   </span>
   <b>
    8.2.13.8 Sub-register 0x0C:28 – Preamble diagnostic 0
   </b>
  </h3>
  <span id="page-183-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:28
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_0
     </td>
     <td>
      Preamble diagnostic 0 – peak
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x28 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-183-3">
    e IP_DIAG_0
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:28 – IP_DIAG_0 – Preamble diagnostic 0 – peak
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th colspan="9">
      IP_PEAKI
     </th>
     <th colspan="15">
      IP_PEAKA
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-183-3">
    IP_DIAG_0
   </a>
   register are described below:
  </p>
  <span id="page-184-3">
  </span>
  <span id="page-184-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:28 – Preamble diagnostic 0
     </th>
    </tr>
    <tr>
     <td>
      IP_PEAKA
     </td>
     <td>
      This 21-bit field reports the amplitude of the sample in the CIR accumulated using the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble sequence that has the largest amplitude. This may be of diagnostic interest in
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:18
      <br/>
      bits:20–0
     </td>
     <td>
      certain circumstances. The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      IP_PEAKI
     </td>
     <td>
      This 10-bit field reports the index of the sample in the CIR accumulated using the preamble
      <br/>
      sequence that has the largest amplitude. The value here is available when the CIADONE
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:18
      <br/>
      bits:30–21
     </td>
     <td>
      status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:18
      <br/>
      bit:31
     </td>
     <td>
      This bit is reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-184-1">
   </span>
   <b>
    8.2.13.9 Sub-register 0x0C:2C – Preamble diagnostic 1
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:2C
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_1
     </td>
     <td>
      Preamble diagnostic 1 –power indication
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-184-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x2C of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-184-0">
    e IP_DIAG_1
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:2C – IP_DIAG_1 – Preamble diagnostic 1 –power indication
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="13">
      IP_CAREA
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-184-0">
    IP_DIAG_1
   </a>
   register are described below:
  </p>
  <span id="page-184-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:2C – Preamble diagnostic 1
     </th>
    </tr>
    <tr>
     <td>
      IP_CAREA
     </td>
     <td>
      This 17-bit field reports the channel area in the CIR accumulated using the preamble
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      sequence. This gives a measure of the receive power of the preamble. This may be of
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:2C
     </td>
     <td>
      diagnostic interest in certain circumstances. The value here is available when the CIADONE
     </td>
    </tr>
    <tr>
     <td>
      bits:16–0
     </td>
     <td>
      status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:2C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–17
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-185-2">
   </span>
   <b>
    8.2.13.10 Sub-register 0x0C:30 – Preamble diagnostic 2
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:30
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_2
     </td>
     <td>
      Preamble diagnostic 2 –magnitude @ FP + 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-185-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x30 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-185-0">
    e IP_DIAG_2
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:30 – IP_DIAG_2 – Preamble diagnostic 2 –magnitude @ FP + 1
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td colspan="14">
      IP_FP1M
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-185-0">
    IP_DIAG_2
   </a>
   register are described below:
  </p>
  <span id="page-185-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:30 – Preamble diagnostic 2
     </th>
    </tr>
    <tr>
     <td>
      IP_FP1M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at the first index immediately after the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      estimated first path position in the CIR accumulated using the preamble sequence. This may
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:30
     </td>
     <td>
      be of diagnostic interest in certain circumstances. The value here is available when the
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
      CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:30
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-185-3">
   </span>
   <b>
    8.2.13.11 Sub-register 0x0C:34 – Preamble diagnostic 3
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:34
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_3
     </td>
     <td>
      Preamble diagnostic 3 – magnitude @ FP + 2
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-185-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x34 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-185-1">
    e IP_DIAG_3
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:34 – IP_DIAG_3 – Preamble diagnostic 3 –magnitude @ FP + 2
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td colspan="14">
      IP_FP2M
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-185-1">
    IP_DIAG_3
   </a>
   register are described below:
  </p>
  <span id="page-186-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:34 – Preamble diagnostic 3
     </th>
    </tr>
    <tr>
     <td>
      IP_FP2M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at second index after the estimated
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      first path position in the CIR accumulated using the preamble sequence. The value here is
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:34
      <br/>
      bits:21–0
     </td>
     <td>
      available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:34
      <br/>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-186-1">
   </span>
   <b>
    8.2.13.12 Sub-register 0x0C:38 – Preamble diagnostic 4
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:38
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_4
     </td>
     <td>
      Preamble Diagnostic 4 –magnitude @ FP + 3
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-186-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x38 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-186-0">
    e IP_DIAG_4
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:38 – IP_DIAG_4 – Preamble diagnostic 4 –magnitude @ FP + 3
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="15">
      IP_FP3M
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-186-0">
    IP_DIAG_4
   </a>
   register are described below:
  </p>
  <span id="page-186-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:38 – Preamble diagnostic 4
     </th>
    </tr>
    <tr>
     <td>
      IP_FP3M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at third index after the estimated first
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      path position in the CIR accumulated using the preamble sequence. The value here is
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:38
     </td>
     <td>
      available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:38
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    8.2.13.13 Sub-register 0x0C:3C – Reserved
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:3C
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_RES1
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x3C of register file 0x0C is a 12-octet reserved  register.
  </p>
  <h2>
   <span id="page-187-1">
   </span>
   <b>
    8.2.13.14 Sub-register 0x0C:48 – Preamble diagnostic 8
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:48
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_8
     </td>
     <td>
      Preamble diagnostic 8 –first path result
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-187-2">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x48 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-187-2">
    e IP_DIAG_8
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      REG:0C:48 – IP_DIAG_8 – Preamble diagnostic 8 –first path
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      IP_FP
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-187-2">
    IP_DIAG_8
   </a>
   register are described below:
  </p>
  <span id="page-187-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:48 – Preamble diagnostic 8
     </th>
    </tr>
    <tr>
     <td>
      IP_FP
      <br/>
      reg:0C:48
      <br/>
      bits:15–0
     </td>
     <td>
      This 16-bit field reports the estimated first path location within the CIR accumulated using
      <br/>
      the preamble sequence. The value here uses a [10.6] fixed point format with a 10-bit
      <br/>
      unsigned integer part and a 6-bit fractional part. This value is available when the CIADONE
      <br/>
      status bit is set. This is the index relative to the start of preamble CIR within the
      <br/>
      accumulator, i.e. beginning at accumulator index 0.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0C:48
      <br/>
      bit:31–16
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.15 Sub-register 0x0C:4C – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:4C
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_RES2
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x4C of register file 0x0C is a 12-octet reserved  register.
  </p>
  <h4>
   <span id="page-187-3">
   </span>
   <b>
    8.2.13.16 Sub-register 0x0C:58 – Preamble diagnostic 12
   </b>
  </h4>
  <span id="page-187-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:58
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      IP_DIAG_12
     </td>
     <td>
      Diagnostic 12 – symbols accumulated
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x58 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the preamble sequence. Th
   <a href="#page-187-0">
    e IP_DIAG_12
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      REG:0C:58 – IP_DIAG_12 – Preamble diagnostic 12 – symbols accumulated
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      IP_NACC
     </td>
    </tr>
    <tr>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-187-0">
    IP_DIAG_12
   </a>
   register are described below:
  </p>
  <span id="page-188-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:58 – Preamble diagnostic 12
     </th>
    </tr>
    <tr>
     <td>
      IP_NACC
      <br/>
      reg:0C:58
      <br/>
      bits:11–0
     </td>
     <td>
      This 12-bit field reports the number of preamble sequence symbols that were accumulated
      <br/>
      to form the preamble CIR. This value is available after the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0C:58
      <br/>
      bit:31–12
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-188-1">
   </span>
   <b>
    8.2.13.17 Sub-register 0x0C:5C – STS diagnostic 0
   </b>
  </h4>
  <span id="page-188-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:5C
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_0
     </td>
     <td>
      STS Diagnostic 0 – STS CIA peak amplitude
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x5C of register file 0x0C is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-188-2">
    e STS_DIAG_0
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      REG:0C:5C – STS_DIAG_0 – STS diagnostic 0 – STS CIA peak amplitude
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="12">
      CP_PEAKI
      <br/>
      CP_PEAKA
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-188-2">
    STS_DIAG_0
   </a>
   register are described below:
  </p>
  <span id="page-188-4">
  </span>
  <span id="page-188-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:5C – STS diagnostic 0
     </th>
    </tr>
    <tr>
     <td>
      CP_PEAKA
     </td>
     <td>
      This 21-bit field reports the amplitude of the sample in the CIR accumulated using the STS
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      that has the largest amplitude. This may be of diagnostic interest in certain circumstances.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:5C
      <br/>
      bits:20–0
     </td>
     <td>
      The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      CP_PEAKI
     </td>
     <td>
      This 9-bit field reports the index of the sample in the CIR accumulated using the STS that has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the largest amplitude. The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:5C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:29–21
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Field
     </td>
     <td>
      Description of fields within Sub-register 0x0C:5C – STS diagnostic 0
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0C:5C
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:31,30
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-189-2">
   </span>
   <b>
    8.2.13.18 Sub-register 0x0C:60 – STS 0 diagnostic 1
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:60
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_1
     </td>
     <td>
      STS Diagnostic 1 – STS power indication
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-189-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x60 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-189-1">
    e STS_DIAG_1
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:60 – STS_DIAG_1 – STS diagnostic 1 – STS power indication
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="11">
      CP_CAREA
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-189-1">
    STS_DIAG_1
   </a>
   register are described below:
  </p>
  <span id="page-189-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:60 – STS 0 diagnostic 1
     </th>
    </tr>
    <tr>
     <td>
      CP_CAREA
     </td>
     <td>
      This 16-bit field reports the channel area in the CIR accumulated using the STS. This gives a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      measure of the receive power of the STS. This may be of diagnostic interest in certain
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:60
      <br/>
      bits:15–0
     </td>
     <td>
      circumstances. The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0C:60
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bit:31–16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-189-3">
   </span>
   <b>
    8.2.13.19 Sub-register 0x0C:64 – STS 0 diagnostic 2
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:64
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_2
     </td>
     <td>
      STS Diagnostic 2 – STS magnitude @ FP + 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-189-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x64 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-189-0">
    e STS_DIAG_2
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0C:64 – STS_DIAG_2 – STS diagnostic 2 – STS magnitude @ FP + 1
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="15">
      CP_FP1M
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-189-0">
    STS_DIAG_2
   </a>
   register are described below:
  </p>
  <span id="page-190-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:64 – STS 0 diagnostic 2
     </th>
    </tr>
    <tr>
     <td>
      CP_FP1M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at the first index immediately after the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      estimated first path position in the CIR accumulated using the STS. This may be of diagnostic
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:64
     </td>
     <td>
      interest in certain circumstances. The value here is available when the CIADONE status bit is
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
      set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:64
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-190-2">
   </span>
   <b>
    8.2.13.20 Sub-register 0x0C:68 – STS 0 diagnostic 3
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0C:68
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_3
     </td>
     <td>
      STS Diagnostic 3 – STS magnitude @ FP + 2
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-190-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 068 of register file 0x0C is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-190-0">
    e STS_DIAG_3
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="11">
      REG:0C:68 – STS_DIAG_3 – STS diagnostic 3 – STS magnitude @ FP + 2
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="10">
      CP_FP2M
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      The fields of STS_DIAG_3 register are described below:
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-190-5">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0C:68 – STS 0 diagnostic 3
     </th>
    </tr>
    <tr>
     <td>
      CP_FP2M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at second index after the estimated
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      first path position in the CIR accumulated using the STS. The value here is available when
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:68
     </td>
     <td>
      the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0C:68
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-190-3">
   </span>
   <b>
    8.2.13.21 Sub-register 0x0D:00 – STS 0 diagnostic 4
   </b>
  </h4>
  <span id="page-190-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:00
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_4
     </td>
     <td>
      STS diagnostic 4 – STS magnitude @ FP + 3
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x00 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-190-1">
    e STS_DIAG_4
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="14">
     </th>
    </tr>
    <tr>
     <th colspan="15">
      REG:0D:00 – STS_DIAG_4 – STS diagnostic 4 – STS magnitude @ FP + 3
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td colspan="13">
      CP_FP3M
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      The fields of STS_DIAG_4 register are described below:
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <span id="page-191-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:00 – STS 0 diagnostic 4
     </th>
    </tr>
    <tr>
     <td>
      CP_FP3M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at third index after the estimated first
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      path position in the CIR accumulated using the STS. The value here is available when the
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:00
     </td>
     <td>
      CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <b>
    8.2.13.22 Sub-register 0x0D:04 – Reserved
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:04
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_RES1
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x04 of register file 0x0D is a 12-octet reserved  register.
  </p>
  <h4>
   <span id="page-191-0">
   </span>
   <b>
    8.2.13.23 Sub-register 0x0D:10 – STS 0 diagnostic 8
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:10
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_8
     </td>
     <td>
      STS Diagnostic 8 – STS first path
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-191-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x10 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-191-1">
    e STS_DIAG_8
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0D:10 – STS_DIAG_8 – STS diagnostic 8 – STS first path
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="11">
      CP_FP
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-191-1">
    STS_DIAG_8
   </a>
   register are described below:
  </p>
  <span id="page-192-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:10 – STS 0 diagnostic 8
     </th>
    </tr>
    <tr>
     <td>
      CP_FP
      <br/>
      reg:0D:10
      <br/>
      bits:14–0
     </td>
     <td>
      This 15-bit field reports the estimated first path location within the CIR accumulated using
      <br/>
      the STS. The value here uses a [9.6] fixed point format with a 9-bit unsigned integer part and
      <br/>
      a 6-bit fractional part. This value is available when the CIADONE status bit is set. This is the
      <br/>
      index relative to the start of the STS CIR within the accumulator, i.e. beginning at
      <br/>
      accumulator index 1024.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0D:10
      <br/>
      bit:31–15
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.24 Sub-register 0x0D:14 – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:14
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_RES2
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x14 of register file 0x0D is a 12-octet reserved  register.
  </p>
  <h4>
   <span id="page-192-1">
   </span>
   <b>
    8.2.13.25 Sub-register 0x0D:20 – STS 0 diagnostic 12
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:20
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_12
     </td>
     <td>
      STS diagnostic 12 – accumulated STS length
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-192-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x20 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS.
   </a>
   Th
   <a href="#page-192-0">
    e STS_DIAG_12
   </a>
   register contains the following bitmapped subfields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:0D:20 – STS_DIAG_12 – STS diagnostic 12 – accumulated STS length
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      CP_NACC
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-192-0">
    STS_DIAG_12
   </a>
   register are described below:
  </p>
  <span id="page-193-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:20 – STS 0 diagnostic 12
     </th>
    </tr>
    <tr>
     <td>
      CP_NACC
      <br/>
      reg:0D:20
      <br/>
      bits:10–0
     </td>
     <td>
      This 11-bit field reports the length of STS that has been accumulated in units of 512 chips
      <br/>
      (~1 µs) to form the STS CIR. This value is available after the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0D:20
      <br/>
      bit:31–11
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.26 Sub-register 0x0D:24 – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:24
     </td>
     <td>
      20
     </td>
     <td>
      RO
     </td>
     <td>
      STS_DIAG_RES3
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x24 of register file 0x0D is a 20-octet reserved  register.
  </p>
  <h3>
   <span id="page-193-0">
   </span>
   <b>
    8.2.13.27 Sub-register 0x0D:38 – STS 1 diagnostic 0
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:38
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_0
     </td>
     <td>
      STS 1 diagnostic 0 – peak amplitude
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-193-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x38 is a 4-octet register reporting diagnostics  relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA.This register will only be valid  when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-193-1">
    STS1_DIAG_0
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0D:38 – STS1_DIAG_0 – STS 1 diagnostic 0 – peak amplitude
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th colspan="9">
      -
      <br/>
      CP_PEAKI
     </th>
     <th>
     </th>
     <th>
     </th>
     <th colspan="11">
      CP_PEAKA
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-193-1">
    STS1_DIAG_0
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:38 – STS 1 diagnostic 0
     </th>
    </tr>
    <tr>
     <td>
      CP_PEAKA
     </td>
     <td>
      This 21-bit field reports the amplitude of the sample in the CIR accumulated using the STS
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      that has the largest amplitude. This may be of diagnostic interest in certain circumstances.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:38
      <br/>
      bits:20–0
     </td>
     <td>
      The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      CP_PEAKI
     </td>
     <td>
      This 9-bit field reports the index of the sample in the CIR accumulated using the STS that has
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the largest amplitude. The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:38
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:29–21
      <br/>
      -
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:38
     </td>
     <td>
      These bits are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:31,30
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-194-2">
   </span>
   <b>
    8.2.13.28 Sub-register 0x0D:3C – STS 1 diagnostic 1
   </b>
  </h2>
  <span id="page-194-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:3C
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_1
     </td>
     <td>
      STS 1 diagnostic 1 – STS 1 power indication
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x3C of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-194-1">
    STS1_DIAG_1
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0D:3C – STS1_DIAG_1 – STS 1 diagnostic 1 – STS 1 power indication
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="9">
      CP_CAREA
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-194-1">
    STS1_DIAG_1
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:3C – STS 1 diagnostic 1
     </th>
    </tr>
    <tr>
     <td>
      CP_CAREA
     </td>
     <td>
      This 16-bit field reports the channel area in the CIR accumulated using the STS. This gives a
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      measure of the receive power of the STS. This may be of diagnostic interest in certain
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:3C
      <br/>
      bits:15–0
     </td>
     <td>
      circumstances. The value here is available when the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:3C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-194-3">
   </span>
   <b>
    8.2.13.29 Sub-register 0x0D:40 – STS 1 diagnostic 2
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:40
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_2
     </td>
     <td>
      STS 1 diagnostic 2 – STS 1 magnitude @ FP + 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-194-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x40 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-194-0">
    STS1_DIAG_2
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0D:40 – STS1_DIAG_2 – STS 1 diagnostic 2 – STS 1 magnitude @ FP + 1
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      CP_FP1M
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-194-0">
    STS1_DIAG_2
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:40 – STS 1 diagnostic 2
     </th>
    </tr>
    <tr>
     <td>
      CP_FP1M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at the first index immediately after the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      estimated first path position in the CIR accumulated using the STS. This may be of diagnostic
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:40
     </td>
     <td>
      interest in certain circumstances. The value here is available when the CIADONE status bit is
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
      set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:40
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-195-2">
   </span>
   <b>
    8.2.13.30 Sub-register 0x0D:44 – STS 1 diagnostic 3
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:44
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_3
     </td>
     <td>
      STS 1 diagnostic 3 – STS 1 magnitude @ FP + 2
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-195-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 044 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-195-0">
    STS1_DIAG_3
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0D:44 – STS1_DIAG_3 – STS 1 diagnostic 3 – STS 1 magnitude @ FP + 2
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      CP_FP2M
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-195-0">
    STS1_DIAG_3
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:44 – STS 1 diagnostic 3
     </th>
    </tr>
    <tr>
     <td>
      CP_FP2M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at second index after the estimated
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      first path position in the CIR accumulated using the STS. The value here is available when
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:44
      <br/>
      bits:21–0
     </td>
     <td>
      the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:44
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-195-3">
   </span>
   <b>
    8.2.13.31 Sub-register 0x0D:48 – STS 1 diagnostic 4
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:48
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_4
     </td>
     <td>
      STS 1 diagnostic 4 – STS 1 magnitude @ FP + 3
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-195-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x48 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-195-1">
    STS1_DIAG_4
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0D:48 – STS1_DIAG_4 – STS 1 diagnostic 4 – STS 1 magnitude @ FP + 3
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="14">
      CP_FP3M
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-195-1">
    STS1_DIAG_4
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:48 – STS 1 diagnostic 4
     </th>
    </tr>
    <tr>
     <td>
      CP_FP3M
     </td>
     <td>
      This 22-bit field reports the magnitude of the sample at third index after the estimated first
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      path position in the CIR accumulated using the STS. The value here is available when the
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:48
     </td>
     <td>
      CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      bits:21–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0D:48
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:31–22
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.32 Sub-register 0x0D:4C – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:4C
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_RES1
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x4C of register file 0x0D is a 12-octet reserved  register.
  </p>
  <h3>
   <span id="page-196-0">
   </span>
   <b>
    8.2.13.33 Sub-register 0x0D:58 – STS 1 diagnostic 8
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:58
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_8
     </td>
     <td>
      STS 1 diagnostic 8 – STS 1 first path
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-196-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x58 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-196-1">
    STS1_DIAG_8
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0D:58 – STS1_DIAG_8 – STS 1 diagnostic 8 – STS 1 first path
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="12">
      CP_FP
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit in
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-196-1">
    STS1_DIAG_8
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Field
     </td>
     <td>
      Description of fields within Sub-register 0x0D:58 – STS 1 diagnostic 8
     </td>
    </tr>
    <tr>
     <td rowspan="2">
      CP_FP
      <br/>
      reg:0D:58
      <br/>
      bits:14–0
     </td>
     <td>
      This 15-bit field reports the estimated first path location within the CIR accumulated using
      <br/>
      the STS where it is present and being used to measure the PDOA. The value here uses a [9.6]
     </td>
    </tr>
    <tr>
     <td>
      fixed point format with a 9-bit unsigned integer part and a 6-bit fractional part. This value is
      <br/>
      available when the CIADONE status bit is set. This is the index relative to the start of the STS
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIR within the accumulator, i.e. beginning at accumulator index 1024.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0D:58
      <br/>
      bit:31–15
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <b>
    8.2.13.34 Sub-register 0x0D:5C – Reserved
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:5C
     </td>
     <td>
      12
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_RES2
     </td>
     <td>
      Reserved diagnostic data
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x5C of register file 0x0D is a 12-octet reserved  register.
  </p>
  <h4>
   <span id="page-197-1">
   </span>
   <b>
    8.2.13.35 Sub-register 0x0D:68 – STS 1 diagnostic 12
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="7">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0D:68
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      STS1_DIAG_12
     </td>
     <td>
      STS 1 diagnostic 12 – STS 1 accumulated STS length
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-197-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x68 of register file 0x0D is a 4-octet register  reporting diagnostics relating to the
   <a href="#page-252-0">
    STS
   </a>
   where it is present and being used to measure the PDOA. This  register will only be valid when
   <a href="#page-40-3">
    PDOA mode 3
   </a>
   is used. The
   <a href="#page-197-0">
    STS1_DIAG_12
   </a>
   register contains the following  bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:0D:68 – STS1_DIAG_12 – STS 1 diagnostic 12 – STS 1 accumulated STS length
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      CP_NACC
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <b>
    Please note:
   </b>
   This diagnostics register will not be updated unless th
   <a href="#page-198-2">
    e MINDIAG
   </a>
   configuration bit
   <a href="#page-198-0">
    CIA_CONF
   </a>
   has been cleared to zero.
  </p>
  <p block-type="Text">
   The fields of
   <a href="#page-197-0">
    STS1_DIAG_12
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0D:68 – STS 1 diagnostic 12
     </th>
    </tr>
    <tr>
     <td>
      CP_NACC
      <br/>
      reg:0D:68
      <br/>
      bits:10–0
     </td>
     <td>
      This 11-bit field reports the length of STS that has been accumulated in units of 512 chips
      <br/>
      (~1 µs) to form the STS CIR. This value is available after the CIADONE status bit is set.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0D:68
      <br/>
      bit:31–11
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-198-3">
   </span>
   <b>
    8.2.13.36 Sub-register 0x0E:00 – RX antenna delay and CIA diagnostic enable
   </b>
  </h2>
  <span id="page-198-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:00
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      CIA_CONF
     </td>
     <td>
      RX antenna delay and CIA diagnostic enable
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x00 of register file 0x0E is a 4-octet  configuration register. The
   <a href="#page-198-0">
    CIA_CONF
   </a>
   register contains the following bitmapped sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0E:00 – CIA_CONF – RX antenna delay and CIA diagnostic enable
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      MINDIAG
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RXANTD
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0 1
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-198-0">
    CIA_CONF
   </a>
   register are described below:
  </p>
  <span id="page-198-2">
  </span>
  <span id="page-198-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0E:00 – RX antenna delay and CIA diagnostic
      <br/>
      enable
     </th>
    </tr>
    <tr>
     <td>
      RXANTD
      <br/>
      reg:0E:00
      <br/>
      bits:15–0
     </td>
     <td>
      This 16-bit field configures the receive antenna delay. The receiver antenna delay is used to
      <br/>
      account for the delay between the arrival of the RMARKER at the antenna and the time the
      <br/>
      RMARKER is detected and time-stamped by the internal digital RX circuitry. The units here
      <br/>
      are the same as those used for system time and time stamps, i.e. 1/(499.2 MHz × 128), so
      <br/>
      the least significant bit about 15.65 picoseconds. . The default antenna delay is 0x4015,
      <br/>
      which is approximately 256.74 ns.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The value programmed in RXANTD register value is subtracted (by the CIA algorithm) from
      <br/>
      the raw timestamp RX_RAWST to by the CIA algorithm which performs a number of other
      <br/>
      updates and adjustments(including detecting and accounting for the first path position in the
      <br/>
      accumulator) in order to generate the fully adjusted RX_STAMP value also in Sub-register
      <br/>
      0x00:64 – Receive time stamp.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Please see § 10.3 – IC calibration – antenna delay for details of calibration of antenna delay.
     </td>
    </tr>
    <tr>
     <td>
      MINDIAG
      <br/>
      reg:0E:00
      <br/>
      bit:20
     </td>
     <td>
      Minimum Diagnostics. This bit applies to the operation of the CIA for both preamble and STS
      <br/>
      sequences. This bit specifies if the CIA algorithm will log data in the CIA diagnostic registers.
      <br/>
      The MINDIAG bit is 1 by default to minimise the diagnostics information generated by the
      <br/>
      CIA process. To generate the extended diagnostics MINDIAG may be cleared to 0, however
      <br/>
      please note: when MINDIAG = 0, the CIA processing takes longer, delaying the assertion of
      <br/>
      the CIADONE and RXFR event status flag bits, (i.e. so ranging exchanges will take a little
      <br/>
      longer and consume a little more energy).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When MINDIAG is 1 the CIA does NOT update any of the preamble CIA diagnostic registers
      <br/>
      (IP_DIAG_0 – IP_DIAG_12) nor any of the STS CIA diagnostic registers (STS_DIAG_0–
      <br/>
      STS_DIAG_12) nor any of the second STS CIA diagnostic registers (STS1_DIAG_0 –
      <br/>
      STS1_DIAG_12) when PDoA Mode 3 is used.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0E:00
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:31–21
     </td>
     <td>
      N.B.: Any change in these bits may cause the DW3000 to malfunction.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-199-2">
   </span>
   <b>
    8.2.13.37 Sub-register 0x0E:04 – First path temperature adjustment
   </b>
  </h2>
  <span id="page-199-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:04
     </td>
     <td>
      4
     </td>
     <td colspan="2">
      RW
      <br/>
      FP_CONF
     </td>
     <td colspan="5">
      First path temp adjustment and thresholds
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x04 of register file 0x0E is a 4-octet register  containing first path temperature adjustments and threshold values. Th
   <a href="#page-199-0">
    e FP_CONF
   </a>
   register contains the  following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0E:04 – FP_CONF – First path temp adjustment and thresholds
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      _RXDLY_EN
      <br/>
      C
      <br/>
      T
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      CAL_TEMP
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      D_TH
      <br/>
      FP_AGREE
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-199-0">
    FP_CONF
   </a>
   register are described below:
  </p>
  <span id="page-199-5">
  </span>
  <span id="page-199-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0E:04 – First path temperature adjustment
     </th>
    </tr>
    <tr>
     <td>
      FP_AGREED_TH
      <br/>
      reg:0E:04
      <br/>
      bits:10–8
     </td>
     <td>
      The threshold to use when performing the FP_AGREE test. The LSB is 1/(998.4 MHz)
      <br/>
      (approximately 1ns).
     </td>
    </tr>
    <tr>
     <td>
      CAL_TEMP
      <br/>
      reg:0E:04
      <br/>
      bits:18–11
     </td>
     <td>
      Temperature at which the device was calibrated. The units are those from the on-chip
      <br/>
      temperature sensor, as read from SAR_LTEMP in SAR_READING register.
     </td>
    </tr>
    <tr>
     <td>
      TC_RXDLY_EN
      <br/>
      reg:0E:04
      <br/>
      bit:20
     </td>
     <td>
      Temperature compensation for RX antenna delay. When set to 1, the device will
      <br/>
      compensate for temperature differences. Must specify the calibration temperature
      <br/>
      (CAL_TEMP above). Its default corresponds to absolute zero Kelvin.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0E:04
      <br/>
      bit: various
     </td>
     <td>
      Bits marked '-' in this register are reserved.
      <br/>
      N.B.: Any change in these bits may cause the DW3000 to malfunction.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-199-3">
   </span>
   <b>
    8.2.13.38 Sub-register 0x0E:0C – CIA preamble configuration
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:0C
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      IP_CONF
     </td>
     <td colspan="7">
      Preamble config – CIA preamble configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-199-1">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x0C of register file 0x0E is a 4-octet  configuration register relating to the
   <a href="#page-250-3">
    CIA
   </a>
   configuration for the preamble sequence
   <a href="#page-250-7">
    CIR
   </a>
   analysis. Th
   <a href="#page-199-1">
    e IP_CONF
   </a>
   register contains the following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0E:0C – IP_CONF0 – CIA preamble configuration
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="2">
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      IP_RTM
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      MULT
      <br/>
      IP_P
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      IP_NTM
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-199-1">
    IP_CONF
   </a>
   register are described below:
  </p>
  <span id="page-200-2">
  </span>
  <span id="page-200-1">
  </span>
  <span id="page-200-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="11">
      Description of fields within Sub-register 0x0E:0C – CIA preamble configuration
     </th>
    </tr>
    <tr>
     <td>
      IP_NTM
     </td>
     <td>
     </td>
     <td>
      Preamble Noise Threshold Multiplier. This 5-bit field is a factor by which the measured
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      noise level in the preamble generated CIR is multiplied to set the threshold for the CIA
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:0C
     </td>
     <td>
     </td>
     <td>
      algorithm's first path search. The value here sets the compromise between falsely
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:4–0
     </td>
     <td colspan="11">
      triggering on noise peaks and missing real attenuated (non-line-of-sight) first paths. Where
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      NLOS performance is more important to the application a lower value, of 12 say, could be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      used. The resulting threshold shall not be smaller than the value defined, but may be larger
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      depending on other factors used to choose the threshold.
     </td>
    </tr>
    <tr>
     <td>
      IP_PMULT
     </td>
     <td colspan="12">
      Preamble Peak Multiplier. This 2-bit field sets a factor by which the peak value of estimated
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      noise is increased in order to set the threshold for first path searching.
     </td>
     <td>
      The values of
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:0C
      <br/>
      bits:6–5
     </td>
     <td>
     </td>
     <td>
      IP_PMULT and the resultant peak multiplier value are given by the table below.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      IP_PMULT value
     </td>
     <td>
      Peak Multiplier
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      1.00
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      1.25
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      2 (default)
     </td>
     <td>
      1.50
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      3
     </td>
     <td>
      1.75
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      The resulting threshold shall not be smaller than the value defined by this, but may be
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      larger depending on other factors used to choose the threshold.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      IP_RTM
     </td>
     <td>
     </td>
     <td>
      Preamble replica threshold multiplier, IP_RTM, is a 5-bit field.
     </td>
     <td>
      The accumulation of the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:0C
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      preamble sequence to produce the preamble CIR is not perfect when there is a significant
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:20–16
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      clock offset between the remote transmitter and the local receiver. In these circumstances
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      small amplitude replicas of the channel impulse response appear repeatedly throughout the
      <br/>
      accumulator span. The magnitude of this effect is dependent on the clock offset and on the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      preamble code being employed. The DW3000 automatically measures the clock offset and
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      computes a preamble code appropriate replica avoidance threshold value to avoid the
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      replicas. The IP_RTM parameter allows for the possibility of tuning the choice of replica
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      avoidance threshold, however it is not expected that the default value of 4 will need to be
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      modified.
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:0C
      <br/>
      bit:various
     </td>
     <td>
     </td>
     <td>
      N.B.: Any change in these bits may cause the DW3000 to malfunction.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-201-1">
   </span>
   <b>
    8.2.13.39 Sub-register 0x0E:12 – CIA STS configuration 0
   </b>
  </h2>
  <span id="page-201-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:12
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      STS_CONF_0
     </td>
     <td>
      STS Config 0 – CIA configuration for STS
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x12 of register file 0x0E is a 4-octet  configuration register relating to the
   <a href="#page-250-3">
    CIA
   </a>
   configuration for the
   <a href="#page-252-0">
    STS
   </a>
   based
   <a href="#page-250-7">
    CIR
   </a>
   analysis. Th
   <a href="#page-201-0">
    e STS_CONF_0
   </a>
   register contains the following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="15">
      REG:0E:12 – STS_CONF_0 – CIA configuration for STS
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS_MNTH
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      MULT
      <br/>
      STS_P
     </td>
     <td>
     </td>
     <td>
      STS_NTM
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of
   <a href="#page-201-0">
    STS_CONF_0
   </a>
   register fields are described below:
  </p>
  <span id="page-201-3">
  </span>
  <span id="page-201-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Field
     </td>
     <td colspan="11">
      Description of fields within Sub-register 0x0E:12 – CIA STS configuration 0
     </td>
    </tr>
    <tr>
     <td>
      STS_NTM
     </td>
     <td>
     </td>
     <td>
      STS Noise Threshold Multiplier. This 5-bit field is a factor by which the measured noise level
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      in the STS generated CIR is multiplied to set the threshold for the CIA algorithm's first path
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:12
     </td>
     <td colspan="12">
      search. The value here sets the compromise between falsely triggering on noise peaks and
     </td>
    </tr>
    <tr>
     <td>
      bits:4–0
     </td>
     <td>
     </td>
     <td>
      missing real attenuated (non-line-of-sight) first paths.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      STS_PMULT
     </td>
     <td>
     </td>
     <td colspan="12">
      STS Peak Multiplier. This 2-bit field sets a factor by which the peak value of the estimated
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="12">
      noise in the STS generated CIR is increased in order to set the threshold for first path
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:12
     </td>
     <td colspan="12">
      searching. The values of STS_PMULT and the resultant peak multiplier value are given by
     </td>
    </tr>
    <tr>
     <td>
      bits:6–5
     </td>
     <td>
      the table below.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS_PMULT value
     </td>
     <td>
      Peak Multiplier
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      0 (default)
     </td>
     <td>
      0.00
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
     </td>
     <td>
      1.25
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      2
     </td>
     <td>
      1.50
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      3
     </td>
     <td>
      1.75
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      The resultant threshold is constrained to be not smaller than the value defined by this
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS_PMULT parameter, but it may be larger depending on other factors used to select the
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      threshold value.
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      A value of 0 allows the first path to be in region of the CIR that is used for gathering noise
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      statistics. This helps when the channel is severely NLOS with a large delay spread.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:12
      <br/>
      bits:15-7
     </td>
     <td>
     </td>
     <td>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-202-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="13">
      Description of fields within Sub-register 0x0E:12 – CIA STS configuration 0
     </th>
    </tr>
    <tr>
     <td>
      STS_MNTH
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      STS Minimum Threshold. This 7-bit field sets a lower bound on the threshold for first path
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:12
      <br/>
      bits:22–16
     </td>
     <td colspan="14">
      searching. In low noise scenarios the threshold resulting from the action of the STS_NTM
      <br/>
      and STS_PMULT parameters may end up so small that the CIA finds a noise peak in its
      <br/>
      search for the first path. The resultant threshold is constrained not to be smaller than the
      <br/>
      value defined by this STS_MNTH parameter. The default STS_MNTH value is 12 which is
      <br/>
      suitable for the default 64 MHz PRF and STS length of 64 (CPS_LEN = 7). The table below
      <br/>
      gives the recommended values for other STS lengths
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="9">
      STS length in
      <br/>
      PRF
      <br/>
      STS_MNTH value
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      units of 512
      <br/>
      chips (~1 μs)
     </td>
     <td>
      PDoA Mode Off/1
     </td>
     <td>
      PDoA Mode 3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      64 MHz
     </td>
     <td>
      64
     </td>
     <td>
      12
     </td>
     <td>
      0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      64 MHz
     </td>
     <td>
      128
     </td>
     <td>
      17
     </td>
     <td>
      12
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      64 MHz
     </td>
     <td>
      256
     </td>
     <td>
      24
     </td>
     <td>
      17
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td colspan="12">
      Note these values are scaled by a factor of √2
      <br/>
      as the STS length is doubled from 64 to 128
      <br/>
      and again when increasing to 256 and so on.
      <br/>
      -
      <br/>
      Bits marked '-' in this register are reserved.
      <br/>
      reg:0E:12
      <br/>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
      <br/>
      bit:31–23
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-202-1">
   </span>
   <b>
    8.2.13.40 Sub-register 0x0E:16 – CIA STS configuration 1
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:16
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      STS_CONF_1
     </td>
     <td>
      STS Config 1 – CIA configuration for STS
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-202-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x16 of register file 0x0E is a 4-octet  configuration register relating to the
   <a href="#page-250-3">
    CIA
   </a>
   configuration for the
   <a href="#page-252-0">
    STS
   </a>
   based
   <a href="#page-250-7">
    CIR
   </a>
   analysis. Th
   <a href="#page-202-0">
    e STS_CONF_1
   </a>
   register contains the following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0E:16 – STS_CONF_1 – CIA configuration for STS
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
      STS_PGR_EN
     </th>
     <th>
      STS_SS_EN
     </th>
     <th>
      _CQ_EN
      <br/>
      STS
     </th>
     <th>
      FP_AGREED_EN
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      RES_B0
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual fields of
   <a href="#page-202-0">
    STS_CONF_1
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0E:16 – CIA STS configuration 1
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:16
     </td>
     <td>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
     </td>
    </tr>
    <tr>
     <td>
      bits:27–0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-203-4">
  </span>
  <span id="page-203-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      Description of fields within Sub-register 0x0E:16 – CIA STS configuration 1
     </td>
    </tr>
    <tr>
     <td>
      This 8-bit reserved tuning value should be changed from default 0x7B to 0x9B for
     </td>
    </tr>
    <tr>
     <td>
      optmimised performance.
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      Checks to see if the two ToA estimates are within allowed tolerances. Tolerance is set
     </td>
    </tr>
    <tr>
     <td>
      in FP_AGREED_TH.
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      Checks how consistent the impulse response stays during the accumulation of the
     </td>
    </tr>
    <tr>
     <td>
      STS. Since the RF channel should remain fairly constant over the sequence this check
     </td>
    </tr>
    <tr>
     <td>
      helps to ensure the integrity of the STS based RX timestamp.
     </td>
    </tr>
    <tr>
     <td>
      If the test fails, the appropriate bit in the STS_TOAST status indicator will be set to
     </td>
    </tr>
    <tr>
     <td>
      indicate that the STS_TOA value is not reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
      Compare the sampling statistics of the STS reception to those of the earlier reception
     </td>
    </tr>
    <tr>
     <td>
      of the preamble sequence. Since these should relate to the same transmitter over the
     </td>
    </tr>
    <tr>
     <td>
      same channel, the preamble and STS sequence statistics should match (within a
     </td>
    </tr>
    <tr>
     <td>
      certain tolerance).
     </td>
    </tr>
    <tr>
     <td>
      If the test fails, the appropriate bit in the STS_TOAST status indicator will be set to
     </td>
    </tr>
    <tr>
     <td>
      indicate that the STS_TOA value is not reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
      Test the growth rate of the STS based CIR to the earlier growth rate of the preamble
     </td>
    </tr>
    <tr>
     <td>
      based CIR. Since both the preamble and the STS are estimating the channel impulse
     </td>
    </tr>
    <tr>
     <td>
      response of the same channel they should grow at the same rate (within a certain
     </td>
    </tr>
    <tr>
     <td>
      tolerance).
     </td>
    </tr>
    <tr>
     <td>
      If this test fails, the appropriate bit in the STS_TOAST status indicator will be set to
     </td>
    </tr>
    <tr>
     <td>
      indicate that the STS_TOA value is not reliable and should not be used.
     </td>
    </tr>
    <tr>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
     </td>
    </tr>
    <tr>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-203-2">
   </span>
   <span id="page-203-1">
   </span>
   <b>
    8.2.13.41 Sub-register 0x0E:1A – CIA adjustment
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0E:1A
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      CIA_ADJUST
     </td>
     <td>
      User adjustments to the CIA calculation
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-203-0">
   </span>
   <a href="#page-177-1">
    Register files: 0x0C, 0x0D, 0x0E
   </a>
   – CIA Interface, sub-register 0x1A of register file 0x0E is a 2-octet  configuration register relating to the
   <a href="#page-250-3">
    CIA
   </a>
   configuration for the
   <a href="#page-252-0">
    STS
   </a>
   based
   <a href="#page-250-7">
    CIR
   </a>
   analysis. Th
   <a href="#page-203-0">
    e CIA_ADJUST
   </a>
   register contains the following control bits:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="15">
      REG:0E:1A – PDOA_ADJ – User adjustments to the PDoA
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="11">
      PDOA_ADJ
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The sub-fields of this
   <a href="#page-203-0">
    CIA_ADJUST
   </a>
   register are as follows:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0E:1A – CIA adjustment
     </th>
    </tr>
    <tr>
     <td>
      PDOA_ADJ
     </td>
     <td>
      Adjustment value to account for non-balanced antenna circuits. The LSB is 2-11 radians.
     </td>
    </tr>
    <tr>
     <td rowspan="3">
      reg:0E:1A
      <br/>
      bits: 13:0
     </td>
     <td>
      This angle is simply added to the PDoA that is estimated from the CIR.
     </td>
    </tr>
    <tr>
     <td>
      It is interpreted by the device as an unsigned integer. For example, a value comprised
     </td>
    </tr>
    <tr>
     <td>
      between 0 and 12868 will represent an offset comprised in 0 to 2π radians interval.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' in this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      reg:0E:1A
      <br/>
      bits:15–14
     </td>
     <td>
      N.B.: Any change in these bits field may cause the DW3000 to malfunction.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-204-1">
   </span>
   <b>
    Register file: 0x0F – Digital diagnostics interface
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x0F
     </td>
     <td>
      79
     </td>
     <td>
      -
     </td>
     <td>
      DIG_DIAG
     </td>
     <td>
      Digital diagnostics interface
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x0F is the Digital Diagnostics interface. It contains a number of Sub-registers that  give diagnostics information. An overview of these is given b
   <a href="#page-204-0">
    y Table 40.
   </a>
   Each of these Sub-registers is  separately described in the sub-sections below.
  </p>
  <h2>
   <span id="page-204-2">
   </span>
   <b>
    Table 40: Register file: 0x0F –
    <a href="#page-204-1">
     Digital diagnostics interface
    </a>
    overview
   </b>
  </h2>
  <span id="page-204-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register 0x0F
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      EVC_CTRL
     </td>
     <td>
      Event counter control
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      EVC_PHE
     </td>
     <td>
      PHR error counter
     </td>
    </tr>
    <tr>
     <td>
      0x06
     </td>
     <td>
      EVC_RSE
     </td>
     <td>
      RSD error counter
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      EVC_FCG
     </td>
     <td>
      Frame check sequence good counter
     </td>
    </tr>
    <tr>
     <td>
      0x0A
     </td>
     <td>
      EVC_FCE
     </td>
     <td>
      Frame check sequence error counter
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      EVC_FFR
     </td>
     <td>
      Frame filter rejection counter
     </td>
    </tr>
    <tr>
     <td>
      0x0E
     </td>
     <td>
      EVC_OVR
     </td>
     <td>
      RX overrun error counter
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      EVC_STO
     </td>
     <td>
      SFD timeout counter
     </td>
    </tr>
    <tr>
     <td>
      0x12
     </td>
     <td>
      EVC_PTO
     </td>
     <td>
      Preamble timeout counter
     </td>
    </tr>
    <tr>
     <td>
      0x14
     </td>
     <td>
      EVC_FWTO
     </td>
     <td>
      RX frame wait timeout counter
     </td>
    </tr>
    <tr>
     <td>
      0x16
     </td>
     <td>
      EVC_TXFS
     </td>
     <td>
      TX frame sent counter
     </td>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td>
      EVC_HPW
     </td>
     <td>
      Half period warning counter
     </td>
    </tr>
    <tr>
     <td>
      0x1A
     </td>
     <td>
      EVC_SWCE
     </td>
     <td>
      SPI write CRC error counter
     </td>
    </tr>
    <tr>
     <td>
      0x1C
     </td>
     <td>
      EVC_RES1
     </td>
     <td>
      Digital diagnostics reserved area 1
     </td>
    </tr>
    <tr>
     <td>
      0x24
     </td>
     <td>
      DIAG_TMC
     </td>
     <td>
      Test mode control register
     </td>
    </tr>
    <tr>
     <td>
      0x28
     </td>
     <td>
      EVC_CPQE
     </td>
     <td>
      STS quality error counter
     </td>
    </tr>
    <tr>
     <td>
      0x2A
     </td>
     <td>
      EVC_VWARN
     </td>
     <td>
      Low voltage warning error counter
     </td>
    </tr>
    <tr>
     <td>
      0x2C
     </td>
     <td>
      SPI_MODE
     </td>
     <td>
      SPI mode
     </td>
    </tr>
    <tr>
     <td>
      0x30
     </td>
     <td>
      SYS_STATE
     </td>
     <td>
      System state
     </td>
    </tr>
    <tr>
     <td>
      0x3C
     </td>
     <td>
      FCMD_STAT
     </td>
     <td>
      Fast command status
     </td>
    </tr>
    <tr>
     <td>
      0x48
     </td>
     <td>
      CTR_DBG
     </td>
     <td>
      Current value of the low 32-bits of the STS IV
     </td>
    </tr>
    <tr>
     <td>
      0x4C
     </td>
     <td>
      SPICRCINIT
     </td>
     <td>
      SPI CRC LFSR initialisation code
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-205-1">
   </span>
   <b>
    8.2.14.1 Sub-register 0x0F:00 – Event counter control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:00
     </td>
     <td>
      1
     </td>
     <td>
      SRW
     </td>
     <td>
      EVC_CTRL
     </td>
     <td>
      Event counter control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-205-3">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x00 is the event counter control register.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:00 – EVC_CTRL – Event counter control
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      EVC_CLR
     </td>
     <td>
      EVC_EN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Fields in the
   <a href="#page-205-3">
    EVC_CTRL
   </a>
   register are intended to be self-clearing. So, the event counters can be enabled or  cleared, but cannot be disabled. The bits of the
   <a href="#page-205-3">
    EVC_CTRL
   </a>
   register identified above are individually  described below:
  </p>
  <span id="page-205-4">
  </span>
  <span id="page-205-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:00 – Event counter control
     </th>
    </tr>
    <tr>
     <td>
      EVC_EN
      <br/>
      reg:0F:00
      <br/>
      bit:0
     </td>
     <td>
      Event Counters Enable. The EVC_EN bit acts to enable the event counters. When EVC_EN bit
      <br/>
      is zero none of the event counters will update. When EVC_EN bit is set to 1 it enables event
      <br/>
      counting. A number of Sub-registers of Register file: 0x0F – Digital diagnostics interface,
      <br/>
      contain counters of various system events – see below for the detailed description of the
      <br/>
      parameters counted. If the host system has no interest in these event counters then a small
      <br/>
      amount of power is saved by not enabling event counting.
     </td>
    </tr>
    <tr>
     <td>
      EVC_CLR
      <br/>
      reg:0F:00
      <br/>
      bit:1
     </td>
     <td>
      Event Counters Clear. The EVC_CLR bit acts to clear event counters to zero. This cannot be
      <br/>
      done while EVC_EN bit is set. The correct procedure to clear the event counters is to write
      <br/>
      0x02 to EVC_CTRL to disable counting and clear the counter values to zero, and then to write
      <br/>
      0x01 to EVC_CTRL to re-enable counting if required.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0F:00
      <br/>
      bits:7–2
     </td>
     <td>
      The remaining bits of EVC_CTRL are reserved and should always be set to zero to avoid any
      <br/>
      malfunction of the device.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-205-2">
   </span>
   <b>
    8.2.14.2 Sub-register 0x0F:04 – PHR error counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:04
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_PHE
     </td>
     <td>
      PHR error event counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x04 is the PHY Header Error event counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0F:04 – EVC_PHE – PHR Error Counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="7">
      EVC_PHE
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-206-2">
    e EVC_PHE
   </a>
   register are described below:
  </p>
  <span id="page-206-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:04 – PHR error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_PHE
      <br/>
      reg:0F:04
      <br/>
      bits:11–0
     </td>
     <td>
      PHR Error Event Counter. The EVC_PHE field is a 12-bit counter of PHY Header Errors. This
      <br/>
      counts the reporting of RXPHE error events in Sub-register 0x00:44 – System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN
      <br/>
      bit in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–12
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-206-0">
   </span>
   <b>
    8.2.14.3 Sub-register 0x0F:06 – RSD error counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:06
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_RSE
     </td>
     <td>
      RSD error event counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x06 is the RSD error event counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG0F:06 – EVC_RSE – RSD error counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="8">
      EVC_RSE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-206-3">
    e EVC_RSE
   </a>
   register are described below:
  </p>
  <span id="page-206-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:06 – RSD error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_RSE
      <br/>
      reg:0F:06
      <br/>
      bits:11–0
     </td>
     <td>
      Reed Solomon decoder (Sync Loss) Error Event Counter. The EVC_RSE field is a 12-bit counter
      <br/>
      of the non-correctable error events that can occur during Reed Solomon decoding.
      <br/>
      This
      <br/>
      counts the reporting of RXFSL error events in Sub-register 0x00:44 – System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
      <br/>
      in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–12
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-206-1">
   </span>
   <b>
    8.2.14.4 Sub-register 0x0F:08 –
    <a href="#page-250-5">
     FCS
    </a>
    good counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:08
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_FCG
     </td>
     <td>
      Frame Check Sequence good event counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-206-4">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x08 is the
   <a href="#page-250-5">
    FCS
   </a>
   good event counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="11">
      REG:0F:08 – EVC_FCG – Frame Check Sequence good event counter
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      EVC_FCG
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-206-4">
    EVC_FCG
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:08 – FCS
      <br/>
      good counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_FCG
      <br/>
      reg:0F:08
      <br/>
      bits:11–0
     </td>
     <td>
      Frame Check Sequence Good Event Counter. The EVC_FCG field is a 12-bit counter of the
      <br/>
      frames received with good CRC/FCS sequence. This counts the reporting of RXFCG events in
      <br/>
      Sub-register 0x00:44 – System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN
      <br/>
      bit in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–12
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-207-0">
   </span>
   <b>
    8.2.14.5 Sub-register 0x0F:0A –
    <a href="#page-250-5">
     FCS
    </a>
    error counter
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:0A
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_FCE
     </td>
     <td>
      Frame Check Sequence error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-207-2">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x0A is th
   <a href="#page-250-5">
    e FCS
   </a>
   error event counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0F:0A – EVC_FCE – FCS error counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      EVC_FCE
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-207-2">
    EVC_FCE
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:0A – FCS error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_FCE
      <br/>
      reg:0F:0A
      <br/>
      bits:11–0
     </td>
     <td>
      Frame Check Sequence Error Event Counter. The EVC_FCE field is a 12-bit counter of the
      <br/>
      frames received with bad CRC/FCS sequence. This counts the reporting of RXFCE events in
      <br/>
      Sub-register 0x00:44 – System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
      <br/>
      in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–12
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-207-1">
   </span>
   <b>
    8.2.14.6 Sub-register 0x0F:0C – Frame filter rejection counter
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:0C
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_FFR
     </td>
     <td>
      Frame filter rejection counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-207-3">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x0C is the frame filter rejection counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:0C – EVC_FFR – Frame filter rejection counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      EVC_FFR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-207-3">
    EVC_FFR
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:0C – Frame filter rejection counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_FFR
     </td>
     <td>
      Frame Filter Rejection Event Counter. The EVC_FFR field is an 8-bit counter of the frames
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:0C
     </td>
     <td>
      rejected by the receive frame filtering function. This is essentially a count of the reporting of
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
     </td>
     <td>
      ARFE events in Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in EVC_CTRL.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-208-0">
   </span>
   <b>
    8.2.14.7 Sub-register 0x0F:0E – RX overrun error counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:0E
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_OVR
     </td>
     <td>
      RX overrun error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-208-2">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x0E is the RX overrun error counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:0E – EVC_OVR – RX overrun error counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      EVC_OVR
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-208-2">
    EVC_OVR
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:0E – RX overrun error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_OVR
     </td>
     <td>
      RX Overrun Error Event Counter. The EVC_OVR field is a 12-bit counter of receive overrun
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:0E
     </td>
     <td>
      events. This is essentially a count of the reporting of RXOVRR events in Sub-register 0x00:44
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
     </td>
     <td>
      – System event status. The EVC_OVR will be incremented once for each RX frame discarded
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      that happens while an overrun condition persists.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in EVC_CTRL.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-208-1">
   </span>
   <b>
    8.2.14.8 Sub-register 0x0F:10 –
    <a href="#page-252-1">
     SFD
    </a>
    timeout error counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:10
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_STO
     </td>
     <td>
      SFD timeout error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x10 is the
   <a href="#page-252-1">
    SFD
   </a>
   timeout error counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:0F:10 – EVC_STO – SFD Timeout Error Counter
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      EVC_STO
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the EVC_STO register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:10 – SFD timeout error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_STO
      <br/>
      reg:0F:10
      <br/>
      bits:11–0
     </td>
     <td>
      SFD timeout errors Event Counter. The EVC_STO field is a 12-bit counter of SFD Timeout Error
      <br/>
      events. This is essentially a count of the reporting of RXSTO events in Sub-register 0x00:44 –
      <br/>
      System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
      <br/>
      in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:15–12
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-209-1">
   </span>
   <b>
    8.2.14.9 Sub-register 0x0F:12 – Preamble detection timeout event counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:12
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_PTO
     </td>
     <td>
      Preamble detection timeout event counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x12 is the preamble timeout event counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:12 – EVC_PTO – Preamble detection timeout event counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      EVC_PTO
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the EVC_PTO register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th rowspan="2">
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:12 – Preamble detection timeout event
     </th>
    </tr>
    <tr>
     <td>
      counter
     </td>
    </tr>
    <tr>
     <td>
      EVC_PTO
      <br/>
      reg:0F:12
      <br/>
      bits:11–0
     </td>
     <td>
      Preamble Detection Timeout Event Counter.
      <br/>
      The EVC_PTO field is a 12-bit counter of
      <br/>
      Preamble detection Timeout events. This is essentially a count of the reporting of RXPTO
      <br/>
      events, in Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
      <br/>
      in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:15–12
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-209-0">
   </span>
   <b>
    8.2.14.10 Sub-register 0x0F:14 – RX frame wait timeout event counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      0F:14
     </th>
     <th>
      1
     </th>
     <th colspan="2">
      RO
      <br/>
      EVC_FWTO
     </th>
     <th>
      RX frame wait timeout counter
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x14 is the RX frame wait timeout event  counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:14 – EVC_FWTO – RX frame wait timeout event counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      EVC_FWTO
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the EVC_FWTO register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:14 – RX frame wait timeout event counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_FWTO
     </td>
     <td>
      RX Frame Wait Timeout Event Counter. The EVC_FWTO field is an 8-bit counter of receive
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:14
      <br/>
      bits:7–0
     </td>
     <td>
      frame wait timeout events. This is essentially a count of the reporting of the RXFTO events in
      <br/>
      Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      in EVC_CTRL.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-210-1">
   </span>
   <b>
    8.2.14.11 Sub-register 0x0F:16 – TX frame sent counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:16
     </td>
     <td>
      2
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_TXFS
     </td>
     <td>
      TX frame sent counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x16 is the TX frame sent counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0F:16 – EVC_TXFS – TX frame sent counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      EVC_TXFS
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the EVC_TXFS register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:16 – TX frame sent counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_TXFS
      <br/>
      reg:0F:16
      <br/>
      bits:11–0
     </td>
     <td>
      TX Frame Sent Event Counter. The EVC_TXFS field is a 12-bit counter of transmit frames sent.
      <br/>
      This is incremented every time a frame is sent. It is essentially a count of the reporting of the
      <br/>
      TXFRS events in Sub-register 0x00:44 – System event status.
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN bit
      <br/>
      in EVC_CTRL.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–12
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-210-0">
   </span>
   <b>
    8.2.14.12 Sub-register 0x0F:18 – Half period warning counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:18
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_HPW
     </td>
     <td>
      Half period warning counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x18 is the half period warning counter.
  </p>
  <h2>
   <b>
    REG:0F:18 – EVC_HPW – Half period warning counter
   </b>
   31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10 9 8 7 6 5 4 3 2 1 0 EVC_HPW 0
  </h2>
  <p block-type="Text">
   The bits of the EVC_HPW register are described below:
  </p>
  <span id="page-211-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="6">
      Description of fields within Sub-register 0x0F:18 – Half period warning counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_HPW
     </td>
     <td colspan="6">
      Half Period Warning Event Counter. The EVC_HPW field is an 8-bit counter of "Half Period
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:18
     </td>
     <td>
      Warnings". This is a count of the reporting of the HPDWARN events in Sub-register 0x00:44
     </td>
    </tr>
    <tr>
     <td rowspan="3">
      bits:7–0
     </td>
     <td>
      – System event status. These relate to late invocation of delayed transmission or reception
     </td>
    </tr>
    <tr>
     <td colspan="6">
      functionality. Please refer to the description of the HPDWARN bit for more details of this
     </td>
    </tr>
    <tr>
     <td>
      event and its meaning. NB: For this counter to be active, counting needs to be enabled by
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      the setting the EVC_EN bit in Sub-register 0x0F:00 – Event counter control.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-211-0">
   </span>
   <b>
    8.2.14.13 Sub-register 0x0F:1A – SPI write CRC error counter
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Typ
      <br/>
      e
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:1A
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
     </td>
     <td>
      SPI write CRC error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x1A is the SPI write CRC error counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:0F:1A – EVC_SWCE – SPI write CRC error
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
     </th>
     <th>
      8
      <br/>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="5">
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:1A – SPI write CRC error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_SWCE
     </td>
     <td>
      SPI Write CRC Error Counter. The is an 8-bit counter of "SPI Write CRC Error" events. This is
     </td>
    </tr>
    <tr>
     <td rowspan="2">
      reg:0F:1A
      <br/>
      bits:7–0
     </td>
     <td colspan="5">
      a count of the reporting of the SPICRCE events in Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
      These events only arise when SPI CRC mode is enabled. See section 2.3.1.3 – SPI CRC mode
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="5">
      for more details. NB: For this counter to be active, counting needs to be enabled by the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      setting the EVC_EN bit in EVC_CTRL
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-211-1">
   </span>
   <b>
    8.2.14.14 Sub-register 0x0F:1C – EVC reserved area 1
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:1C
     </td>
     <td>
      8
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_RES1
     </td>
     <td>
      Digital diagnostics reserved area 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   Sub-register 0x1C is a reserved register. .
  </p>
  <h2>
   <span id="page-212-1">
   </span>
   <b>
    8.2.14.15 Sub-register 0x0F:24 – Digital diagnostics test mode control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:24
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      DIAG_TMC
     </td>
     <td>
      Test mode control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-212-2">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x24 is the test mode control register.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:0F:24 – DIAG_TMC – Digital diagnostics test mode control
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      CIA_RUN
     </th>
     <th>
      -
     </th>
     <th>
      WDEN
      <br/>
      CIA_
     </th>
     <th>
      WDEN
      <br/>
      -
      <br/>
      CIA_
     </th>
     <th>
      -
     </th>
     <th>
      HIRQ_POL
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      M
      <br/>
      TX_PST
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-212-2">
    DIAG_TMC
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-212-3">
  </span>
  <span id="page-212-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:24 – Digital diagnostics test mode control
     </th>
    </tr>
    <tr>
     <td>
      -
      <br/>
      reg:0F:24
      <br/>
      bit: various
     </td>
     <td>
      These bits of the DIAG_TMC register are reserved and should always be set to zero to avoid
      <br/>
      any malfunction of the device.
     </td>
    </tr>
    <tr>
     <td>
      TX_PSTM
      <br/>
      reg:2F:24
      <br/>
      bit:4
     </td>
     <td>
      Transmit Power Spectrum Test Mode. This test mode is provided to help support regulatory
      <br/>
      approvals spectral testing. When the TX_PSTM bit is set it enables a repeating transmission
      <br/>
      of the data from the TX_BUFFER. To use this test mode, the operating channel, preamble
      <br/>
      code, data length, offset, etc. should all be set-up as if for a normal transmission.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The start-to-start delay between packets is programmed in the DX_TIME register. This is a
      <br/>
      special use of that register, and the value is programmed in periods of one half of the 499.2
      <br/>
      MHz fundamental frequency, (~ 4 ns). To send one packets per millisecond, a value of
      <br/>
      249600 or 0x0003CF00 should be programmed into the DX_TIME register. The minimum
      <br/>
      valid value is to be programmed to DX_TIME register is 2. A time value less than the
      <br/>
      packet's duration will cause packets to be sent back-to-back.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      When the mode, the delay and TX buffer have been configured and the TX_PSTM bit is set,
      <br/>
      the repeated TX mode is initiated by issuing a TX start command, CMD_TX.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For full use of this feature please see API and example code provided [3]. Other register
      <br/>
      settings are needed to make this operational.
     </td>
    </tr>
    <tr>
     <td>
      HIRQ_POL
     </td>
     <td>
      Host interrupt polarity. This bit allows the system integrator the ability to control the
      <br/>
      polarity of the IRQ line from the DW3000. When HIRQ_POL is 1 the IRQ output line from the
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:24
      <br/>
      bit:21
     </td>
     <td>
      DW3000 is active high, and, when HIRQ_POL is 0 the IRQ output line from the DW3000 is
      <br/>
      active low.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Active high operation is recommended for low power applications so that the interrupt is in
      <br/>
      its 0 V logical inactive state when the DW3000 is in SLEEP or DEEPSLEEP states.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-213-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:24 – Digital diagnostics test mode control
     </th>
    </tr>
    <tr>
     <td>
      CIA_WDEN
     </td>
     <td>
      Enable the CIA watchdog. When this configuration is 1 (the default) an internal watchdog
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      timer is started whenever the CIA begins the processing a received CIR, for either the
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:24
      <br/>
      bit:24
     </td>
     <td>
      preamble or STS sequences. The watchdog time is fixed at 120 µs. If the CIA completes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      before the watchdog timer elapses the watchdog timer is stopped, otherwise the CIAERR
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      event status flag is asserted and the CIA is stopped. This avoids any possibility of run-away
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      processing in the CIA block. If CIA_WDEN is set to 0, the CIA watchdog will be disabled. This
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      might be tried if the CIAERR events occur to see if good RX timestamp results can be
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      achieved if the CIA was given more time. If the CIA watchdog is disabled the host should
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      include its own watchdog timeout to recover in the event that the CIA takes too long, i.e. the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIADONE event status flag is not arriving.
     </td>
    </tr>
    <tr>
     <td>
      CIA_RUN
     </td>
     <td>
      Run the CIA manually.
      <br/>
      Normally this control bit will not be required because by default the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIARUNE configuration in Sub-register 0x11:08 – Sequencing control is set to 1 which causes
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:24
      <br/>
      bit:26
     </td>
     <td>
      the CIA to be run automatically when a packet is received. If CIARUNE is 0, then the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIA_RUN bit, may be used to run the CIA after the packet is received. The CIA_IPATOV and
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      CIA_STS bits in Sub-register 0x00:10 – System configuration should be set to select which CIA
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      analysis is required. The CIA_RUN bit will automatically clear when it is acted upon.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      NB: To run the CIA manually, after a receive event when the receiver is off, the receive clock
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      will need to be forced on using the RX_CLK control in Sub-register 0x11:04 – Clock control.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-213-2">
   </span>
   <span id="page-213-0">
   </span>
   <b>
    8.2.14.16 Sub-register 0x0F:28 – STS quality error counter
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:28
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_CPQE
     </td>
     <td>
      STS quality error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x28 is the STS quality error counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      REG:0F:28 – EVC_CPQE – STS quality error counter
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th colspan="13">
     </th>
     <th colspan="6">
      EVC_CPQE
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="9">
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the EVC_CPQE register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:28 – STS quality error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_CPQE
      <br/>
      reg:0F:28
      <br/>
      bits:7–0
     </td>
     <td>
      STS Quality Error Counter. The EVC_CPQE field is an 8-bit counter of receive packets for
      <br/>
      which the STS quality assessment measurements are below the threshold. This is a count of
      <br/>
      the reporting of received packets with STS where the CIA algorithm has detected a quality
      <br/>
      problem and set one of the error flags of the STS_TOAST field within Sub-register 0x0C:08 –
      <br/>
      STS receive time stamp and status. The CPERR count may increment by 2 per frame (e.g. in
      <br/>
      PDOA mode 3 where STS analysis is done separately on two halves of the STS)
      <br/>
      NB: For this counter to be active, counting needs to be enabled by the setting the EVC_EN
      <br/>
      bit in EVC_CTRL.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-214-0">
   </span>
   <b>
    8.2.14.17 Sub-register 0x0F:2A – Low voltage warning error counter
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:2A
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      EVC_VWARN
     </td>
     <td>
      Low voltage warning error counter
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-214-1">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x2A is the low voltage warning error counter.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:0F:2A – EVC_VWARN – Low voltage warning error counter
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td colspan="11">
     </td>
     <td colspan="6">
      EVC_VWARN
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td colspan="8">
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-214-1">
    EVC_VWARN
   </a>
   register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:2A – Low voltage warning error counter
     </th>
    </tr>
    <tr>
     <td>
      EVC_VWARN
     </td>
     <td>
      Low voltage warning Error Counter. The EVC_VWARN field is an 8-bit counter of brown
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:2A
     </td>
     <td>
      out warnings. This is a count of the occurrence of low voltage warnings, as reported
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
     </td>
     <td>
      through the VWARN events status flag in Sub-register 0x00:44 – System event status. This
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      counts individual brown-out events detected even when the VWARN event flag is not
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      being cleared by the host. NB: For this counter to be active, counting needs to be enabled
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      by the setting the EVC_EN bit in EVC_CTRL.
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-214-2">
   </span>
   <b>
    8.2.14.18 Sub-register 0x0F:2C – SPI mode configuration
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:2C
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      SPI_MODE
     </td>
     <td>
      SPI mode
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-214-3">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x2C is the SPI mode configuration.
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
      REG:0F:2C – SPI_MODE – SPI mode configuration
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
      <br/>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
      <br/>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
      MODE
      <br/>
      SPI_
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the SPI_MODE register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:2C – SPI mode configuration
     </th>
    </tr>
    <tr>
     <td>
      SPI_MODE
     </td>
     <td>
      SPI Mode. These two bits can be used to read the SPI mode of the device:
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:2A
     </td>
     <td>
      SPI Clock Phase and Polarity
     </td>
    </tr>
    <tr>
     <td>
      bits:1–0
     </td>
     <td>
      Bit [0] = SPI CLK polarity
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Bit [1] = SPI CLK phase
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:7–2
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-215-0">
   </span>
   <b>
    8.2.14.19 Sub-register 0x0F:30 – System state
   </b>
  </h2>
  <span id="page-215-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:30
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      SYS_STATE
     </td>
     <td>
      System states
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x30 is the system states diagnosic register.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:0F:30 – SYS_STATE – System state
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      TSE_STATE
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      RX_STATE
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      TX_STATE
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the SYS_STATE register are described below:
  </p>
  <span id="page-215-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="9">
      Description of fields within Sub-register 0x0F:30 – System state
     </th>
    </tr>
    <tr>
     <th>
      TX_STATE
     </th>
     <th>
      Current Transmit State Machine value:
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      reg:0F:30
     </th>
     <th>
      0x0 - IDLE
     </th>
     <th>
      Transmitter is IDLE
     </th>
    </tr>
    <tr>
     <th>
      bit: 3-0
     </th>
     <th>
      0x1 - PREAMBLE
     </th>
     <th>
      Transmitting preamble,
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x2 - SFD
     </th>
     <th>
      Transmitting SFD
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x3 - PHR
     </th>
     <th colspan="6">
      Transmitting PHY Header data
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x4 - SDE
     </th>
     <th>
      Tranmitting PHR parity SECDED bits
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x5 - DATA
     </th>
     <th>
      Transmitting data block (330 symbols)
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:30
      <br/>
      bit: 7-4
     </td>
     <td>
      Reserved
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <th>
      RX_STATE
     </th>
     <th>
      Current Receive State Machine value
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <th>
      reg:0F:30
     </th>
     <th>
      0x00 - IDLE
     </th>
     <th>
      Receiver is in idle
     </th>
    </tr>
    <tr>
     <th>
      bit: 11-8
     </th>
     <th>
      0x01 - START_ANALOG.
     </th>
     <th>
      Start analog receiver blocks
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x04 - RX_RDY
     </th>
     <th>
      Receiver ready
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x05 - PREAMBLE_FND
     </th>
     <th>
      Receiver is waiting to detect preamble
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x06 - PRMBL_TIMEOUT
     </td>
     <td>
      Preamble timeout
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x07 - SFD_FND
     </td>
     <td>
      SFD found
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x08 - CNFG_PHR_RX
     </td>
     <td>
      Configure for PHR reception
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x09 - PHR_RX_STRT
     </td>
     <td>
      PHR reception started
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0A - DATA_RATE_RDY
     </td>
     <td>
      Ready for data reception
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0C - DATA_RX_SEQ
     </td>
     <td>
      Data reception
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0D - CNFG_DATA_RX
     </td>
     <td>
      Configure for data
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0E - PHR_NOT_OK
     </td>
     <td>
      PHR error
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x0F - LAST_SYMBOL
     </th>
     <th>
      Received last symbol
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x10 - WAIT_RSD_DONE
     </th>
     <th>
      Wait for Reed Solomon decoder to finish
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0x11 - RSD_OK
     </th>
     <th>
      Reed Solomon correct
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x12 - RSD_NOT_OK
     </td>
     <td>
      Reed Solomon error
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:30
     </td>
     <td>
      Reserved
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit: 15-12
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-216-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="11">
      Description of fields within Sub-register 0x0F:30 – System state
     </th>
    </tr>
    <tr>
     <td>
      PMSC_STATE
      <br/>
      reg:0F:30
      <br/>
      bit: 23:16
     </td>
     <td>
      Current PMSC State Machine value
      <br/>
      0x0 - WAKEUP
      <br/>
      0x1, 0x2 – IDLE_RC
      <br/>
      0x3 – IDLE
      <br/>
      0x8 – 0xF – TX
      <br/>
      0x12 – 0x19 – RX
     </td>
     <td>
      Description
      <br/>
      DW3000 is in WAKEUP
      <br/>
      DW3000 is in IDLE_RC
      <br/>
      DW3000 is in IDLE
      <br/>
      DW3000 is in TX state
      <br/>
      DW3000 is in RX state
     </td>
    </tr>
    <tr>
     <td>
      reg:0F:30
      <br/>
      bit: 31-24
     </td>
     <td>
      Reserved
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-216-1">
   </span>
   <b>
    8.2.14.20 Sub-register 0x0F:3C – FCMD status
   </b>
  </h3>
  <span id="page-216-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:3C
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      FCMD_STAT
     </td>
     <td>
      Fast command status
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x3C is the fast command status.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:0F:3C – FCMD_STAT– Fast command status register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </td>
     <td>
      7
      <br/>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
      <br/>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
      <br/>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      FCMD_STAT
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the FCMD_STAT register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:3C – FCMD status
     </th>
    </tr>
    <tr>
     <td>
      FCMD_STAT
      <br/>
      reg:0F:2A
      <br/>
      bits:4–0
     </td>
     <td>
      Fast command status. It stores the value of the currently executing fast command. For
      <br/>
      more information on fast commands see section 9
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:7–5
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-216-0">
   </span>
   <b>
    8.2.14.21 Sub-register 0x0F:48 – Counter debug
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:48
     </td>
     <td>
      4
     </td>
     <td>
      RO
     </td>
     <td>
      CTR_DBG
     </td>
     <td>
      Current value of the low 32-bits of the STS IV
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-216-3">
   </span>
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x48 is the counter debug register. It contains  the current value of the low 32-bits of STS IV.
  </p>
  <h2>
   <span id="page-217-3">
   </span>
   <b>
    8.2.14.22 Sub-register 0x0F:4C – SPI CRC Initialisation
   </b>
  </h2>
  <span id="page-217-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0F:4C
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      SPICRCINIT
     </td>
     <td>
      SPI CRC LFSR initialisation code.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x0F –
   <a href="#page-204-1">
    Digital diagnostics interface,
   </a>
   sub-register 0x4C is the register that contains SPI CRC LFSR  initialisation code for the SPI CRC function. The value here is used to initialise the SPI CRC calculation shift  register at the start of each SPI transaction, when SPI CRC mode is enabled via th
   <a href="#page-77-0">
    e SPI_CRCEN
   </a>
   bit in
   <i>
    <a href="#page-76-1">
     Sub
    </a>
    register 0x00:10 –
    <a href="#page-76-1">
     System configuration
    </a>
   </i>
   . For more details of SPI CRC operation please refer to §
   <i>
    <a href="#page-14-1">
     2.3.1.3
    </a>
    –
    <a href="#page-14-1">
     SPI
    </a>
    <a href="#page-14-1">
     CRC mode
    </a>
   </i>
   , and
   <a href="#page-15-1">
    § 2.3.1.3.3
   </a>
   for details of the CRC generation polynomial and shift register implementation.
  </p>
  <p block-type="Text">
   The SPICRCINIT register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:00:18 – SPICRCINIT – SPI CRC initialisationcode register
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      SPICRCINIT
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the SPICRCINIT register are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x0F:3C – FCMD status
     </th>
    </tr>
    <tr>
     <td>
      SPICRCINIT
     </td>
     <td>
      SPI CRC LFSR initialisation code for the SPI CRC function.
     </td>
    </tr>
    <tr>
     <td>
      reg:00:18
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
    <tr>
     <td>
      bits:31–0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-217-2">
   </span>
   <b>
    Register file: 0x11 – PMSC control and status
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="2">
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x11
     </td>
     <td>
      34
     </td>
     <td>
      -
     </td>
     <td>
      PMSC_CTRL
     </td>
     <td colspan="2">
      Power management, timing and seq control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x11 is concerned with the use of the PMSC. It contains a number of Sub-registers.  An overview of these is given by
   <a href="#page-72-0">
    Table 19.
   </a>
   Each of these Sub-registers is separately described in the subsections below.
  </p>
  <h4>
   <b>
    Table 41: Register file: 0x11 –
    <a href="#page-217-2">
     PMSC control and status
    </a>
    overview
   </b>
  </h4>
  <span id="page-217-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in
      <br/>
      Register 0x11
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      00
     </td>
     <td>
      SOFT_RST
     </td>
     <td>
      Soft reset of the device blocks
     </td>
    </tr>
    <tr>
     <td>
      04
     </td>
     <td>
      CLK_CTRL
     </td>
     <td>
      PMSC clock control register
     </td>
    </tr>
    <tr>
     <td>
      08
     </td>
     <td>
      SEQ_CTRL
     </td>
     <td>
      PMSC control register 1
     </td>
    </tr>
    <tr>
     <td>
      12
     </td>
     <td>
      TXFSEQ
     </td>
     <td>
      PMSC fine grain TX sequencing control
     </td>
    </tr>
    <tr>
     <td>
      16
     </td>
     <td>
      LED_CTRL
     </td>
     <td>
      LED control register
     </td>
    </tr>
    <tr>
     <td>
      1A
     </td>
     <td>
      RX_SNIFF
     </td>
     <td>
      Sniff mode configuration
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in
      <br/>
      Register 0x11
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="4">
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F
     </td>
     <td>
      BIAS_CTRL
     </td>
     <td>
      Analog blocks' calibration values
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-218-2">
   </span>
   <b>
    8.2.15.1 Sub-register 0x11:00 – Soft reset
   </b>
  </h4>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:00
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      SOFT_RST
     </td>
     <td colspan="2">
      Soft reset of the device blocks
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-218-3">
   </span>
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x00 is the soft reset command register. This  register allows a software applied reset to be applied to the IC.
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      REG:11:00 – SOFT_RST– Soft reset of the device blocks
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
      9
     </td>
     <td>
      8
      <br/>
      7
     </td>
     <td>
      6
      <br/>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
      <br/>
      2
     </td>
     <td>
      1
      <br/>
      0
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      GPIO_RST
      <br/>
      P
     </td>
     <td>
      MSC_RST
      <br/>
      HIF_RST
     </td>
     <td>
      TX_RST
      <br/>
      RX_RST
     </td>
     <td>
      BIST_RST
      <br/>
      CIA_RST
     </td>
     <td>
      PRGN_RST
      <br/>
      M_RST
      <br/>
      AR
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td colspan="3">
      SOFTRESET
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
      1
      <br/>
      1
     </td>
     <td>
      1
      <br/>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
      <br/>
      1
     </td>
     <td>
      1
      <br/>
      1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the SOFT_RST register are described below:
  </p>
  <span id="page-218-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th colspan="5">
      Description of fields within Sub-register 0x11:00 – Soft reset
     </th>
    </tr>
    <tr>
     <td>
      SOFTRESET
     </td>
     <td>
      These nine bits reset various the IC blocks, e.g. GPIO, TX, RX, Host Interface and the PMSC
     </td>
    </tr>
    <tr>
     <td>
      reg:11:00
      <br/>
      bits:8–0
     </td>
     <td>
      itself, essentially allowing a reset of the IC under software control. These bits should be
      <br/>
      cleared to zero to force a reset and then returned to one for normal operation. The correct
      <br/>
      procedure to achieve this reset is to:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (a)
      <br/>
      Set SYS_CLK to 01
      <br/>
      (b) Clear SOFTRESET to all zero's
      <br/>
      (c)
      <br/>
      Set SOFTRESET to all ones
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      The AON block is not reset by this activity and so may take action following the reset
      <br/>
      depending on the configuration within Sub-register 0x0A:00 – AON on wake configuration.
     </td>
    </tr>
    <tr>
     <td>
      -
      <br/>
      bits:15–9
     </td>
     <td>
      The remaining bits of this register are reserved.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-218-1">
   </span>
   <b>
    8.2.15.2 Sub-register 0x11:04 – Clock control
   </b>
  </h3>
  <span id="page-218-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="6">
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:04
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      CLK_CTRL
     </td>
     <td>
      PMSC clock control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x00 is a 32-bit control register relating to  enabling clocking to various digital blocks within the DW3000. Th
   <a href="#page-218-4">
    e CLK_CTRL
   </a>
   register contains the following  sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="12">
      REG:11:04 – CLK_CTRL – PMSC clock control register
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      _EN
      <br/>
      LP_CLK
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      N
      <br/>
      GPIO_DRST_
     </th>
     <th>
      GPIO_DCLK_EN
     </th>
     <th>
      -
     </th>
     <th>
      GPIO_CLK_EN
     </th>
     <th>
      MCLK_EN
      <br/>
      ACC_
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      SAR_CLK_EN
     </th>
     <th>
      -
     </th>
     <th>
      CIA_CLK_EN
     </th>
     <th>
      -
     </th>
     <th>
      ACC_CLK_EN
     </th>
     <th>
     </th>
     <th>
      _CLK
      <br/>
      TX
     </th>
     <th>
     </th>
     <th>
      _CLK
      <br/>
      RX
     </th>
     <th>
     </th>
     <th>
      _CLK
      <br/>
      SYS
     </th>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-218-4">
    e CLK_CTRL
   </a>
   register identified above are individually described below:
  </p>
  <span id="page-219-1">
  </span>
  <span id="page-219-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:04 – Clock control
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be preserved at their reset value.
     </td>
    </tr>
    <tr>
     <td>
      SYS_CLK
     </td>
     <td>
      System Clock Selection field. The SYS_CLK field selects the source of clock for DW3000
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bits:1,0
     </td>
     <td colspan="8">
      system clock. Allowed values are:
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      00:
      <br/>
      Auto – The system clock will run off the FAST_RC/4 clock until (assuming
      <br/>
      AINIT2IDLE is set to 1) the AON transfer has completed, it will then switch to
      <br/>
      FAST_RC(120MHz) clock until the PLL is calibrated and locked, and then it will
      <br/>
      switch to the 125 MHz PLL clock.
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      01:
      <br/>
      Force system clock to be the FAST_RC/4 clock.
      <br/>
      10: Force system clock to the 125 MHz PLL clock. (If this clock is not present the IC will
      <br/>
      essentially lock up with further SPI communications impossible. In this case an
      <br/>
      external reset will be needed to recover).
      <br/>
      11: Force system clock to FAST_RC.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This control is used for certain procedures, e.g. before a soft reset (SOFTRESET)
     </td>
    </tr>
    <tr>
     <td>
      RX_CLK
      <br/>
      reg:11:04
      <br/>
      bits:3,2
     </td>
     <td>
      Receiver Clock Selection. This selects the source of clock for the DW3000 receiver.
      <br/>
      Allowed values are:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      00:
      <br/>
      Auto – The RX clock will be disabled until it is required for an RX operation, at
      <br/>
      which time it will be enabled to use the 125 MHz PLL clock.
      <br/>
      01, 10, 11:
      <br/>
      Force RX clock enable and sourced from the 125 MHz PLL clock. (NB:
      <br/>
      ensure PLL clock is present).
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-220-4">
  </span>
  <span id="page-220-3">
  </span>
  <span id="page-220-2">
  </span>
  <span id="page-220-1">
  </span>
  <span id="page-220-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:04 – Clock control
     </th>
    </tr>
    <tr>
     <td>
      TX_CLK
      <br/>
      reg:11:04
     </td>
     <td>
      Transmitter Clock Selection. This selects the source of clock for the DW3000 transmitter.
      <br/>
      Allowed values are:
     </td>
    </tr>
    <tr>
     <td>
      bits:5,4
     </td>
     <td>
      00:
      <br/>
      Auto – The TX clock will be disabled until it is required for a TX operation, at which
      <br/>
      time it will be enabled to use the 125 MHz PLL clock.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      01, 10, 11:
      <br/>
      Force TX clock enable and sourced from the 125 MHz PLL clock. (NB:
      <br/>
      ensure PLL clock is present).
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This control is used for certain procedures, e.g. when setting up the continuous
      <br/>
      transmission mode that is used during power output calibration and regulatory testing.
     </td>
    </tr>
    <tr>
     <td>
      ACC_CLK_EN
     </td>
     <td>
      Force Accumulator Clock Enable. In normal operation this bit should be set to 0 to
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bit:6
     </td>
     <td>
      allow the PMSC to control the accumulator clock as necessary for normal receiver
      <br/>
      operation. If the host system wants to read the accumulator data, both this
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      ACC_CLK_EN bit and the ACC_MCLK_EN bit (below) need to be set to 1 to allow the
      <br/>
      accumulator reading to operate correctly.
     </td>
    </tr>
    <tr>
     <td>
      CIA_CLK_EN
     </td>
     <td>
      Force CIA Clock Enable. In normal operation this bit should be set to 0 to allow the PMSC
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bit:8
     </td>
     <td>
      to control the CIA clock as necessary for normal CIA operation. If the host system wants
      <br/>
      to run CIA manually using CIA_RUN then this bit should be set to 1.
     </td>
    </tr>
    <tr>
     <td>
      SAR_CLK_EN
     </td>
     <td>
      (temperature and voltage) Analog-to-Digital Convertor Clock Enable. The DW3000 is
     </td>
    </tr>
    <tr>
     <td>
      reg:11:00
      <br/>
      bit:10
     </td>
     <td>
      equipped with 8-bit A/D convertors to sample the IC temperature and its input battery
      <br/>
      voltage. The IC can automatically sample the temperature and voltage as it wakes up
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      from SLEEP or DEEPSLEEP. This is controlled by the ONW_RUN_SAR bit in Sub-register
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x0A:00 – AON on wake configuration. If the host system wants to initiate temperature
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      and/or voltage measurements at other times then the clock to the Analog-to-Digital
      <br/>
      Convertor needs to be enabled via this SAR_CLK_EN bit. For more details of this
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      functionality, please refer to section 7.4 – Measuring IC temperature and voltage.
     </td>
    </tr>
    <tr>
     <td>
      ACC_MCLK_EN
     </td>
     <td>
      Accumulator Memory Clock Enable. In normal operation this bit should be set to 0 to
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
     </td>
     <td>
      allow the PMSC to control the accumulator memory clock as necessary for normal
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
      receiver operation. If the host system wants to read the accumulator data, both this
      <br/>
      ACC_MCLK_EN bit and ACC_CLK_EN bit (above) need to be set to 1 to allow the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      accumulator reading to operate correctly.
     </td>
    </tr>
    <tr>
     <td>
      GPIO_CLK_EN
     </td>
     <td>
      GPIO clock Enable. In order to use the GPIO port lines the GPIO_CLK_EN enable must be
      <br/>
      set to 1 to enable the clock into the GPIO block. The bit must also be set to 1 to take the
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bit:16
     </td>
     <td>
      GPIO port out of its reset state.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-221-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:04 – Clock control
     </th>
    </tr>
    <tr>
     <td>
      GPIO_DCLK_EN
     </td>
     <td>
      GPIO De-bounce Clock Enable. The DW3000 GPIO port includes a de-bounce
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bit:18
     </td>
     <td>
      functionality that may be applied to input lines being used as an interrupt source. The
      <br/>
      de-bounce filter circuit clocks the GPIO inputs into the DW3000 and removes short
      <br/>
      transients by requiring that the input persists for two cycles of this clock before it will be
      <br/>
      seen by the interrupt handling logic. (See Sub-register 0x05:28 – GPIO interrupt de
      <br/>
      bounce enable for more details). In order to use the GPIO port de-bounce functionality
      <br/>
      this GPIO_DCLK_EN bit must be set to 1 to enable the clock into the GPIO block. The
      <br/>
      GPIO_DRST_N bit (below) must also be set to 1 to take the GPIO port de-bounce filter
      <br/>
      circuit out of its reset state.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This GPIO_DCLK_EN bit also serves to enable the clock that controls the LED blink
      <br/>
      functionality and so must be enabled in order for the LEDs to function correctly. See
      <br/>
      Sub-register 0x05:00 – GPIO mode control for details of enabling LED functionality on
      <br/>
      GPIO lines.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: As this clock employs the kilohertz clock, the appropriate dividers and enables
      <br/>
      need to be configured according to the desired functionality. See LP_CLK_EN below and
      <br/>
      LP_CLK_DIV in Sub-register 0x11:08 – Sequencing control.
     </td>
    </tr>
    <tr>
     <td>
      GPIO_DRST_N
     </td>
     <td>
      GPIO de-bounce reset (NOT), active low. In order to use the GPIO port de-bounce filter
     </td>
    </tr>
    <tr>
     <td>
      reg:11:04
      <br/>
      bit:19
     </td>
     <td>
      circuit the GPIO_DRST_N bit must be set to 1 to take the de-bounce filter circuit out of its
      <br/>
      reset state. The GPIO_DCLK_EN enable bit (above) must also be set to 1 to enable the
      <br/>
      clock into the GPIO de-bounce circuit.
     </td>
    </tr>
    <tr>
     <td>
      LP_CLK_EN
     </td>
     <td>
      Kilohertz clock Enable. When this bit is set to 1 it enables the divider. The divider value
     </td>
    </tr>
    <tr>
     <td>
      reg:11:00
      <br/>
      bit:23
     </td>
     <td>
      is set by LP_CLK_DIV in Sub-register 0x11:08 – Sequencing control.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-221-4">
   </span>
   <span id="page-221-3">
   </span>
   <span id="page-221-1">
   </span>
   <b>
    8.2.15.3 Sub-register 0x11:08 – Sequencing control
   </b>
  </h3>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:08
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      SEQ_CTRL
     </td>
     <td>
      PMSC sequencing control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-221-0">
   </span>
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x08 is a 32-bit control register. The
   <a href="#page-221-0">
    SEQ_CTRL
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:11:08 – SEQ_CTRL – Sequencing control register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      LP_CLK_DIV
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      FORCE2INIT
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      CIARUNE
     </th>
     <th>
      -
     </th>
     <th>
      C
      <br/>
      _SYN
      <br/>
      PLL
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      ARXSLP
     </th>
     <th>
      ATXSLP
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      AINIT2IDLE
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
    </tr>
    <tr>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   The fields of th
   <a href="#page-221-0">
    e SEQ_CTRL
   </a>
   register identified above are individually described below:
  </h3>
  <span id="page-222-4">
  </span>
  <span id="page-222-3">
  </span>
  <span id="page-222-2">
  </span>
  <span id="page-222-1">
  </span>
  <span id="page-222-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:08 – Sequencing control
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be preserved at their reset value.
     </td>
    </tr>
    <tr>
     <td>
      AINIT2IDLE
     </td>
     <td>
      Automatic IDLE_RC to IDLE_PLL. The AINIT2IDLE bit is responsible for transitioning the IC
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      from IDLE_RC state to IDLE_PLL state. If AINIT2IDLE is set to 1 before entering SLEEP then
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
      <br/>
      bit:8
     </td>
     <td>
      upon wake up the IC will automatically transition into IDLE_PLL state as soon as the clock PLL
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      has locked. By default AINIT2IDLE is clear which means that after a reset, (or when coming
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      out of SLEEP), the IC will stay in the IDLE_RC state until AINIT2IDLE is set. This may facilitate
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      lower energy use while setting up the IC before transitioning through IDLE state into TX or RX
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      states. See § 2.4 – DW3000 operational states for more details.
     </td>
    </tr>
    <tr>
     <td>
      ATX2SLP
     </td>
     <td>
      After TX automatically Sleep. If this bit is set then the DW3000 will automatically transition
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
     </td>
     <td>
      into SLEEP or DEEPSLEEP state after transmission of a packet has completed so long as
     </td>
    </tr>
    <tr>
     <td>
      bit:11
     </td>
     <td>
      there are no unmasked interrupts pending. This bit is cleared when the DW3000 wakes
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      from sleep. Before using this ATX2SLP feature the AON configurations in Register file: 0x0A
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      – Always-on system control interface should be set to allow for the appropriate DW3000
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      wake up functionality. One of the uses for this would be in a device that periodically
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      transmits a message (e.g. TDoA RTLS Tag) to return the DW3000 to its lowest power state
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      immediately after the transmission, saving power. Note: The SLEEP_EN bit in
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x0A:14 – AON configuration has to be set to enable this functionality.
     </td>
    </tr>
    <tr>
     <td>
      ARX2SLP
     </td>
     <td>
      After RX automatically Sleep. If this bit is set then the DW3000 will automatically transition
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
     </td>
     <td>
      into SLEEP state after a receive attempt so long as there are no unmasked interrupts
     </td>
    </tr>
    <tr>
     <td>
      bit:12
     </td>
     <td>
      pending. Before using ARX2SLP the AON configurations in Register file: 0x0A – Always-on
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      system control interface should be set to allow for the appropriate DW3000 wake up
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      functionality. This bit is cleared when the DW3000 wakes from sleep.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Note: SLEEP_EN bit in
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x0A:14 – AON configuration has to be set to enable this functionality.
     </td>
    </tr>
    <tr>
     <td>
      PLL_SYNC
     </td>
     <td>
      This enables a 1 GHz clock used for some external SYNC modes. If this is not required then
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
     </td>
     <td>
      to save power the PLL_SYN configuration should be left set to 0. See Register file: 0x04 –
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
      External sync control and RX calibration for more details.
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      CIARUNE
     </td>
     <td>
      CIA run enable. This bit enables the running of the CIA algorithm. CIARUNE is 1 by default
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
     </td>
     <td>
      which means that the CIA algorithm is run automatically. When CIARUNE is set to zero the
     </td>
    </tr>
    <tr>
     <td>
      bit:17
     </td>
     <td>
      CIA algorithm will not be run and the RX_STAMP in Sub-register 0x00:64 – Receive time
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      stamp will not be updated, however the CIA_RUN bit, may be used to run the CIA after the
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      packet is received. The CIA_IPATOV and CIA_STS bits in Sub-register 0x00:10 – System
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      configuration should be set to select which CIA analysis is required.
     </td>
    </tr>
    <tr>
     <td>
      FORCE2INIT
     </td>
     <td>
      Force to IDLE_RC state. When device is in IDLE_PLL, but host needs to change the sate back
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
     </td>
     <td>
      to IDLE_RC, e.g. it is not actively ranging and needs to save power. The host needs to clear
     </td>
    </tr>
    <tr>
     <td>
      bit:23
     </td>
     <td>
      the AINIT2IDLE bit and set this FORCE2INIT bit. Prior to this the host needs to set SYS_CLK to
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x3 to force it to FAST_RC. The device will then transition into the IDLE_RC state. The host
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      should finally clear this FORCE2INIT bit back to 0. See § 2.4 – DW3000 operational states
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      for more details
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-223-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:08 – Sequencing control
     </th>
    </tr>
    <tr>
     <td>
      LP_CLK_DIV
     </td>
     <td>
      Kilohertz clock divisor. This field specifies a clock divider designed to give a kilohertz range
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      clock that is used in the DW3000 for the LED blink functionality and also for the GPIO de
     </td>
    </tr>
    <tr>
     <td>
      reg:11:08
      <br/>
      bits:31–26
     </td>
     <td>
      bounce functionality. The input to the kHz divider is the 19.2 MHz clock (which is the raw
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      38.4 MHz XTAL ÷ 2). The LP_CLK_DIV field specifies the top 6 bits of a 10-bit counter
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      allowing divisors up to 2016 or clock frequencies from 9.5 kHz up to 600 kHz. The resultant
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      clock is used directly in the GPIO de-bounce circuit (see Sub-register 0x05:28 – GPIO
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      interrupt de-bounce enable). A further divider is applied for the LED blink functionality, see
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      Sub-register 0x11:16 – LED control.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-223-4">
   </span>
   <b>
    8.2.15.4 Sub-register 0x11:12 – TX fine control
   </b>
  </h2>
  <span id="page-223-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:12
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      TXFSEQ
     </td>
     <td>
      PMSC fine grain TX sequencing control
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x12 is used to control TX fine grain power  sequencing function. The TXFSEQ register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th colspan="13">
      REG:11:12 – TXFSEQ – Fine grain TX sequencing control register
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      TXFINESEQ
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of the TXFSEQ register identified above are described below:
  </p>
  <span id="page-223-5">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:12 – TX fine control
     </th>
    </tr>
    <tr>
     <td>
      TXFINESEQ
     </td>
     <td>
      Writing 0x0d20874 to this field will disable TX fine grain power sequencing, this is required
     </td>
    </tr>
    <tr>
     <td>
      reg:11:12
      <br/>
      bits:31–0
     </td>
     <td>
      for certain test and calibration modes (Continuous Wave transmission). To enable fine grain
      <br/>
      power sequencing the default value of 0x4d28874 should be written back to this register.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be preserved at their reset value.
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-223-2">
   </span>
   <b>
    8.2.15.5 Sub-register 0x11:16 – LED control
   </b>
  </h3>
  <span id="page-223-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:16
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      LED_CTRL
     </td>
     <td>
      LED control register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x16 is a 32-bit LED control register. The
   <a href="#page-223-1">
    LED_CTRL
   </a>
   register contains the following sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:11:16 – LED_CTRL – LED control register
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
     </td>
     <td>
      FORCE_TRIG
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      _EN
      <br/>
      BLINK
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      BLINK_TIM
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-223-1">
    e LED_CTRL
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:16 – LED control
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be preserved at their reset value.
     </td>
    </tr>
    <tr>
     <td>
      BLINK_TIM
      <br/>
      reg:11:16
     </td>
     <td>
      Blink time count value. This field determines how long the LEDs remain lit after an
      <br/>
      event that causes them to be set on. This time is specified in units of 14 ms so the
      <br/>
      default value of 0x20 will give an on blink of 400 ms followed by an off blink of 400 ms.
     </td>
    </tr>
    <tr>
     <td>
      bits:7–0
      <br/>
      BLINK_EN
     </td>
     <td>
      Blink Enable. When this bit is set to 1 the LED blink feature is enabled.
     </td>
    </tr>
    <tr>
     <td>
      reg:11:16
      <br/>
      bit:8
     </td>
     <td>
      Because the LED blink counter uses the low frequency KHZCLK timer, this timer must be
      <br/>
      enabled as per Sub-register 0x11:04 – Clock control and configured as per Sub-register
      <br/>
      0x11:08 – Sequencing control
     </td>
    </tr>
    <tr>
     <td>
      FORCE_TRIG
     </td>
     <td>
      Manually triggers an LED blink. There is one trigger bit per LED IO.
     </td>
    </tr>
    <tr>
     <td>
      reg:11:16
      <br/>
      bits:19:16
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-224-1">
   </span>
   <b>
    8.2.15.6 Sub-register 0x11:1A – SNIFF mode
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x11:1A
     </td>
     <td>
      4
     </td>
     <td>
      RW
     </td>
     <td>
      RX_SNIFF
     </td>
     <td>
      Receiver SNIFF mode configuration
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-224-0">
   </span>
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x16 is a 32-bit register used for configuration of
   <a href="#page-44-2">
    SNIFF
   </a>
   mode, which is a power saving technique that can be employed to reduce the power consumption of  preamble detection. For normal preamble reception the receiver searches for preamble continually, while in
   <a href="#page-44-2">
    SNIFF
   </a>
   mode the receiver samples ("sniffs") the air periodically on a timed basis returning to receiver idle  mode in between.
  </p>
  <p block-type="Text">
   The transmitting device needs to be sending a sufficiently long preamble to allow for the
   <a href="#page-44-2">
    SNIFF
   </a>
   mode to  operate and leave sufficient preamble remaining thereafter to get a good reception and RX timestamp. The  power saving is dependent on the configured on/off times for this sampling. See additionally section
   <a href="#page-44-0">
    4.5
   </a>
   <a href="#page-44-0">
    Low-Power SNIFF mode.
   </a>
   The configuration consists of the fields identified and described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
     </th>
     <th>
      REG:11:1A – RX_SNIFF –SNIFF Mode Configuration
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      9
     </td>
     <td>
      8
     </td>
     <td>
      7
     </td>
     <td>
      6
     </td>
     <td>
      5
     </td>
     <td>
      4
     </td>
     <td>
      3
     </td>
     <td>
      2
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      SNIFF_OFF
      <br/>
      -
      <br/>
      -
      <br/>
      -
      <br/>
      -
     </td>
     <td colspan="3">
      SNIFF_ON
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td colspan="7">
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The individual sub-fields are described below:
  </p>
  <span id="page-225-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:1A – SNIFF mode
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved.
     </td>
    </tr>
    <tr>
     <td>
      SNIFF_ON
     </td>
     <td>
      SNIFF Mode ON time. This parameter is specified in units of PAC. For details of PAC and its
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      role in preamble, please refer to section 4.1.1.
     </td>
    </tr>
    <tr>
     <td>
      reg:11:1A
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <th>
      bits:3–0
     </th>
     <th>
      A value of zero will disable SNIFF Mode. A non-zero value will enable Preamble Detection
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      Mode and select how long the receiver is turned on during the preamble hunt. NB: This
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      must be a minimum of 2 for the IC to correctly make a preamble detection decision. If
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      preamble is detected during this time window the receiver will remain on and will continue
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      to attempt reception of the packet. If no preamble is detected the receiver will be returned
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      to idle mode for the time configured by the SNIFF_OFF parameter before sampling the air
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      again.
     </td>
    </tr>
    <tr>
     <td>
      SNIFF_OFF
     </td>
     <td>
      SNIFF Mode OFF time specified in µs. This parameter is specified in units of approximately 1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      µs, or 128 system clock cycles. A value of zero will disable SNIFF Mode. A non-zero value will
     </td>
    </tr>
    <tr>
     <td>
      reg:11:1A
     </td>
     <td>
      enable SNIFF Mode and select how long the receiver is turned off for during the preamble
     </td>
    </tr>
    <tr>
     <td>
      bits:15–8
     </td>
     <td>
      hunt. Please refer to the SNIFF_ON description above for more details of this feature.
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-225-1">
   </span>
   As an example, with a 1024 preamble length, a roughly 50% duty cycle (on 50% and off 50%) can be  configured with
   <a href="#page-251-5">
    a PAC
   </a>
   of 8 symbols
   <a href="#page-225-0">
    , SNIFF_ON
   </a>
   set to 3 PAC intervals, and
   <a href="#page-225-1">
    SNIFF_OFF
   </a>
   set to 24 microseconds.  The performance cost of this in terms of receiver sensitvity is &lt; 1 dB.
  </p>
  <h2>
   <span id="page-225-3">
   </span>
   <b>
    8.2.15.7 Sub-register 0x11:1F – Bias control
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th colspan="2">
      Type
      <br/>
      Mnemonic
     </th>
     <th colspan="5">
      Description
     </th>
    </tr>
    <tr>
     <td>
      11:1F
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      BIAS_CTRL
     </td>
     <td>
      Analog blocks' calibration values
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-225-2">
   </span>
   Register file: 0x11 –
   <a href="#page-217-2">
    PMSC control and status,
   </a>
   Sub-register 0x1F is used to configure analog blocks It stores  per device calibration values. Each device will have calibration values stored in OTP and these should be  written here on power up to ensure optimal device operation. Th
   <a href="#page-225-2">
    e BIAS_CTRL
   </a>
   register contains the following  sub-fields:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:11:1F – BIAS_CTRL – Analog blocks'calibration values
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th colspan="6">
      BIAS_CTRL
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      1
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
      1
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The fields of th
   <a href="#page-225-2">
    e BIAS_CTRL
   </a>
   register identified above are described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x11:1F – Bias control
     </th>
    </tr>
    <tr>
     <td>
      BIAS_CTRL
     </td>
     <td>
      This register controls analog blocks. Each device will have optimised values stored in OTP
     </td>
    </tr>
    <tr>
     <td>
      reg:11:1f
      <br/>
      bits:13–0
     </td>
     <td>
      (BIASTUNE_CAL) and that value should be written to this register on power up, and also
      <br/>
      after SLEEP/DEEPSLEEP. This will ensure the device will perfom optimally.
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      Bits marked '-' are reserved and should be preserved at their reset value.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-226-3">
   </span>
   <b>
    Register file: 0x12 – RX frame buffer 0
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      12
     </td>
     <td>
      1024
     </td>
     <td>
      ROD
     </td>
     <td>
      RX_BUFFER_0
     </td>
     <td>
      RX frame data buffer 0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-226-1">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x12:00 is the main receive data buffer. The data from the received frame is  available in the received buffer. Assuming successful reception of a good frame, the full length of received  data (as reported by the RXFLEN field of REG_RX_FINFO), will be available in th
   <a href="#page-226-1">
    e RX_BUFFER_0
   </a>
   beginning at  offset 0. Note since the reported length includes th
   <a href="#page-250-5">
    e FCS
   </a>
   the host system will probably choose not to read  these final two octets.
  </p>
  <p block-type="Text">
   Write operations to the
   <a href="#page-226-1">
    RX_BUFFER_0
   </a>
   are NOT supported; a write operation to th
   <a href="#page-226-1">
    e RX_BUFFER_0
   </a>
   will  corrupt the buffer contents.
  </p>
  <h2>
   <span id="page-226-4">
   </span>
   <b>
    Register file: 0x13 – RX frame buffer 1
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      13
     </td>
     <td>
      1024
     </td>
     <td>
      ROD
     </td>
     <td>
      RX_BUFFER_1
     </td>
     <td>
      RX frame data buffer 1
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-226-2">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x13:00 is the second receive data buffer. The data from the received frame is  available in this received buffer, only when double buffer mode is enabled and the main buffer
   <a href="#page-226-1">
    (RX_BUFFER_0)
   </a>
   is full. Assuming successful reception of a good frame, the full length of received data (as  reported (in
   <a href="#page-230-2">
    SET_2)
   </a>
   by the RXFLEN field of register 0x18:E8, copy of the
   <a href="#page-99-0">
    RX_FINFO)
   </a>
   , will be available in the
   <a href="#page-226-2">
    RX_BUFFER_1
   </a>
   beginning at offset 0. Note since the reported length includes the
   <a href="#page-250-5">
    FCS
   </a>
   the host system will  probably choose not to read these final two octets.
  </p>
  <p block-type="Text">
   Write operations to the
   <a href="#page-226-2">
    RX_BUFFER_1
   </a>
   are NOT supported; a write operation to th
   <a href="#page-226-1">
    e RX_BUFFER_0
   </a>
   will  corrupt the buffer contents.
  </p>
  <h2>
   <span id="page-226-5">
   </span>
   <b>
    Register file: 0x14 – Transmit data buffer
   </b>
  </h2>
  <span id="page-226-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="3">
      Description
     </th>
    </tr>
    <tr>
     <td>
      14
     </td>
     <td>
      1024
     </td>
     <td>
      WO
     </td>
     <td>
      TX_BUFFER
     </td>
     <td>
      Transmit data buffer
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x14:00 is the transmit data buffer. Data from the transmit buffer is transmitted  during the data payload portion of the transmitted packet. Section
   <i>
    <a href="#page-32-0">
     3
    </a>
    <a href="#page-32-0">
     Message transmission
    </a>
   </i>
   discusses the  basics of packet transmission and details the various parts of the TX packet.
  </p>
  <p block-type="Text">
   The general procedure is to write the data frame for transmission into the
   <a href="#page-226-0">
    TX_BUFFER,
   </a>
   set the frame length  and other details in the
   <a href="#page-83-2">
    TX_FCTRL
   </a>
   register and initiate transmission using in the start TX command (
   <a href="#page-237-3">
    CMD_TX
   </a>
   ).
  </p>
  <p block-type="Text">
   <span id="page-227-0">
   </span>
   Note that read operations from the transmit data buffer are NOT supported.
  </p>
  <h2>
   <span id="page-227-1">
   </span>
   <b>
    Register file: 0x15 – Accumulator CIR memory
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      15
     </td>
     <td>
      12288
     </td>
     <td>
      RO
     </td>
     <td>
      ACC_MEM
     </td>
     <td>
      Read access to accumulator data memory
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-227-2">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x15:00 is a large bank of memory that holds the accumulated channel impulse  response
   <a href="#page-250-7">
    (CIR)
   </a>
   data. Really this is a channel impulse response estimate (CIRE) but the abbreviation CIR is  used to mean the same thing throughout this manual. To accurately determine this timestamp the DW3000 incorporates a channel impulse analyser
   <a href="#page-250-3">
    (CIA)
   </a>
   algorithm to processes the
   <a href="#page-250-7">
    CIR
   </a>
   (in the accumulator) to find the  leading edge and adjust the
   <a href="#page-251-4">
    RMARKER
   </a>
   receive timestamp as reported in
   <a href="#page-101-1">
    Sub-register 0x00:64
   </a>
   – Receive time
   <a href="#page-101-1">
    stamp.
   </a>
  </p>
  <p block-type="Text">
   The host system does not need to access the
   <a href="#page-227-2">
    ACC_MEM
   </a>
   in normal operation, however it may be of interest  to the system design engineers to visualise the radio channel for diagnostic purposes.
  </p>
  <p block-type="Text">
   The accumulator data memory actually contains one or two
   <a href="#page-250-7">
    CIR
   </a>
   depending on the STS packet configuration  being employed. One
   <a href="#page-250-7">
    CIR
   </a>
   is generated by the accumulation of the repeated symbols of the preamble  correlated against the expected symbol as determined by the RX preamble code configuration,
   <a href="#page-110-4">
    PCODE
   </a>
   in
   <a href="#page-109-2">
    Sub-register 0x01:14
   </a>
   – Channel control. The other CIR is generated by the accumulation of the
   <a href="#page-252-0">
    STS
   </a>
   sequence  correlated against the expecte
   <a href="#page-252-0">
    d STS
   </a>
   pulse pattern cryptographically generated locally in the receiver. Please  refer to
   <i>
    <a href="#page-61-0">
     § 6
    </a>
    –
    <a href="#page-61-0">
     Secure ranging / timestamping
    </a>
   </i>
   for details of the operation of the
   <a href="#page-252-0">
    STS
   </a>
   for secure ranging  operations.
  </p>
  <p block-type="Text">
   Accessing the accumulator
   <a href="#page-250-7">
    CIR
   </a>
   memory is a little different than accessing other register files in two ways:  Firstly for every SPI read access of the accumulator memory, a single dummy octet is output before the first  byte of valid accumulator data. Secondly the offset specified in the SPI transaction is not the byte index, but  instead is the sample index, where each accumulator sample is an complex value provided as a 24-bit (3 octet) real value followed by a 24-bit (3-octet) imaginary value. Each value is actually 18-bit precision, with  the upper 6-bits being all zero or ones depending on the sign of the value.
  </p>
  <p block-type="Text">
   Prior to reading from the accumulator CIR memory both
   <a href="#page-220-4">
    ACC_CLK_EN
   </a>
   bit and the
   <a href="#page-220-1">
    ACC_MCLK_EN
   </a>
   bit (in
   <a href="#page-218-1">
    Sub
   </a>
   register 0x11:04 –
   <a href="#page-218-1">
    Clock control)
   </a>
   need to be set to 1 to allow the accumulator reading to operate correctly.
  </p>
  <p block-type="Text">
   The preamble
   <a href="#page-250-7">
    CIR
   </a>
   begins at sample index 0 and has a span of one symbol, which is 992 samples at 16 MHz  PRF, and, 1016 samples at 64 MHz PRF. The
   <a href="#page-252-0">
    STS
   </a>
   <a href="#page-250-7">
    CIR
   </a>
   begins at sample index 1024 and has a span of 512  sample times irrespective of PRF setting. When PDoA Mode 3 is used the STS is used to determine two CIR  estimates. The first will begin at sample 1024 and the second at sample 1536. Both CIRs are 512 samples  long.
  </p>
  <p block-type="Text">
   When reading from CIR memory with an offset less than 127, a normal SPI read can be used, see
   <a href="#page-10-2">
    2.3.1.2
   </a>
   <a href="#page-10-2">
    Transaction formats of the SPI interface,
   </a>
   however to read data from CIR memory with offset greater than  127, an indirect SPI read has to be done. To perform an indirect SPI read indirect pointers need to be used:
   <a href="#page-234-0">
    PTR_ADDR_A
   </a>
   or
   <a href="#page-235-0">
    PTR_ADDR_B.
   </a>
   Firstly the register address needs to be programmed into e.g. indirect pointer  A
   <a href="#page-234-0">
    (PTR_ADDR_A)
   </a>
   and offset into
   <a href="#page-234-1">
    PTR_OFFSET_A
   </a>
   and then the indirect pointer register
   <a href="#page-231-1">
    (INDIRECT_PTR_A)
   </a>
   needs to be read as normal to read out the required data.
  </p>
  <p block-type="Text">
   Note, when reading out the CIR data, the first byte of the transaction data (see
   <a href="#page-11-0">
    Figure 1)
   </a>
   is a dummy byte  and should be ignored.
  </p>
  <span id="page-228-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Input
      <br/>
      Octets
     </th>
     <th>
      Output Octets
     </th>
     <th>
      Comment
     </th>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      SPI transaction header first byte
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      -
     </td>
     <td>
      SPI transaction header second byte
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      <dummy octet="">
      </dummy>
     </td>
     <td>
      Ignore/skip this 1st octet output
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] real part low 8-bits
     </td>
     <td>
      First Complex value (6 octets)
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] real part middle 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] real part high 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] imaginary part low 8-bits
     </td>
     <td>
      First Complex value (6 octets)
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] imaginary part middle 8-bits
     </td>
     <td>
      Second Complex value (6 octets)
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [735] imaginary part high 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] real part low 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] real part middle 8-bits
     </td>
     <td>
      Second Complex value (6 octets)
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] real part high 8-bits
     </td>
     <td>
      … etc. …
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] imaginary part low 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] imaginary part middle 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      sample [736] imaginary part high 8-bits
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      -
     </td>
     <td>
      … etc. …
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 42: Example SPI indexed read of accumulator CIR memory
   </b>
  </h2>
  <h2>
   <span id="page-228-1">
   </span>
   <b>
    Register file: 0x16 – Scratch RAM
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      16
     </td>
     <td>
      127
     </td>
     <td>
      RW
     </td>
     <td>
      SCRATCH_RAM
     </td>
     <td>
      Scratch RAM memory buffer
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x16:00 is the scratch RAM memory buffer. This memory can be used as a  temporary store, or during AES/DMA operations. The data will not be preserved if the device is powerd off  or when it enters
   <b>
    <a href="#page-18-1">
     SLEEP
    </a>
   </b>
   or
   <b>
    <a href="#page-19-0">
     DEEPSLEEP
    </a>
   </b>
   state.
  </p>
  <h2>
   <span id="page-229-1">
   </span>
   <b>
    Register file: 0x17 – AES KEY RAM
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      17
     </td>
     <td>
     </td>
     <td>
      RW
     </td>
     <td>
      AES_KEY_RAM
     </td>
     <td>
      AES KEY RAM - storage for up to 8 x 128 bit AES KEYs
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x17 is a large bank of memory that holds up to 8 128-bit AES KEYs as shown in
   <a href="#page-228-0">
    Table 42
   </a>
   below. The 32-bit KEY words need to be programmed starting with the MSB 32-bit word in the  lowest register memory address, as shown in
   <a href="#page-228-0">
    Table 42
   </a>
   below.
  </p>
  <span id="page-229-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register 0x17
     </th>
     <th>
      Register data
     </th>
    </tr>
    <tr>
     <td>
      00
     </td>
     <td>
      st AES key in RAM:
      <br/>
      1
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      For sample AES KEY: 0x112233445566778899aabbccddeeff,
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      It should be written as follows:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x17:00 = AES_KEY [127-96], byte[3] = 0x11 … byte[0] = 0x33
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x17:04 = AES_KEY [95-64], byte[3] = 0x44 … byte[0] = 0x77
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x17:08 = AES_KEY [63-32], byte[3] = 0x88 … byte[0] = 0xbb
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      0x17:0C = AES_KEY [31-0], byte[3] = 0xcc … byte[0] = 0xff
     </td>
    </tr>
    <tr>
     <td>
      10
     </td>
     <td>
      nd AES key in RAM, for formatting see above
      <br/>
      2
     </td>
    </tr>
    <tr>
     <td>
      20
     </td>
     <td>
      rd AES key in RAM, for formatting see above
      <br/>
      3
     </td>
    </tr>
    <tr>
     <td>
      30
     </td>
     <td>
      th AES key in RAM, for formatting see above
      <br/>
      4
     </td>
    </tr>
    <tr>
     <td>
      40
     </td>
     <td>
      th AES key in RAM, for formatting see above
      <br/>
      5
     </td>
    </tr>
    <tr>
     <td>
      50
     </td>
     <td>
      th AES key in RAM, for formatting see above
      <br/>
      6
     </td>
    </tr>
    <tr>
     <td>
      60
     </td>
     <td>
      th AES key in RAM, for formatting see above
      <br/>
      7
     </td>
    </tr>
    <tr>
     <td>
      70
     </td>
     <td>
      th AES key in RAM, for formatting see above
      <br/>
      8
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 43
    <a href="#page-229-1">
     : Register file: 0x17
    </a>
    – AES KEY RAM overview
   </b>
  </h2>
  <h2>
   <span id="page-229-2">
   </span>
   <b>
    Register file: 0x18 – Double buffer diagnostic register set
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x18
     </td>
     <td>
     </td>
     <td>
      RO
     </td>
     <td>
      DB_DIAG
     </td>
     <td>
      Double buffer diagnostic register set
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x18 is a large bank of memory that holds the double buffer diagnostic register set.  It contains two swinging sets corresponding to two receive buffers
   <a href="#page-230-1">
    (SET_1
   </a>
   and
   <a href="#page-230-2">
    SET_2)
   </a>
   . Each set is 232 bytes  long. The first set starts at address 0x18:00, and the second at address 0x18:E8, as shown in
   <a href="#page-230-0">
    Table 44
   </a>
   below.  The
   <a href="#page-115-0">
    RDB_DMODE
   </a>
   configuration specifies how much diagnostic data will be logged. The minimum
  </p>
  <p block-type="Text">
   configuration (i.e. when
   <a href="#page-115-0">
    RDB_DMODE
   </a>
   is set to 1) only logs 7 registers, the maximum logs al
   <a href="#page-250-3">
    l CIA
   </a>
   diagnostic  registers.
  </p>
  <span id="page-230-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th colspan="2">
      OFFSET in Register 0x18
     </th>
     <th>
      RDB_DMODE
     </th>
     <th>
      MINDIAG
     </th>
     <th>
      Register data
     </th>
    </tr>
    <tr>
     <th>
      SET_1
     </th>
     <th>
      SET_2
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      00
     </td>
     <td>
      E8
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      RX_FINFO
     </td>
    </tr>
    <tr>
     <td>
      04
     </td>
     <td>
      EC
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      RX_TIME
     </td>
    </tr>
    <tr>
     <td>
      0C
     </td>
     <td>
      F4
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      CIA_DIAG_0
     </td>
    </tr>
    <tr>
     <td>
      10
     </td>
     <td>
      F8
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      TDOA
     </td>
    </tr>
    <tr>
     <td>
      14
     </td>
     <td>
      FC
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      PDOA
     </td>
    </tr>
    <tr>
     <td>
      18
     </td>
     <td>
      100
     </td>
     <td>
      1
     </td>
     <td>
      0 or 1
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      1C
     </td>
     <td>
      104
     </td>
     <td>
      1
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_12
     </td>
    </tr>
    <tr>
     <td>
      20
     </td>
     <td>
      108
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      IP_TS
     </td>
    </tr>
    <tr>
     <td>
      24
     </td>
     <td>
      10C
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      28
     </td>
     <td>
      110
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      STS_TS
     </td>
    </tr>
    <tr>
     <td>
      2C
     </td>
     <td>
      114
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      30
     </td>
     <td>
      118
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      STS1_TS
     </td>
    </tr>
    <tr>
     <td>
      34
     </td>
     <td>
      11C
     </td>
     <td>
      2
     </td>
     <td>
      0 or 1
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      38
     </td>
     <td>
      120
     </td>
     <td>
      4
     </td>
     <td>
      0 or 1
     </td>
     <td>
      CIA_DIAG_1
     </td>
    </tr>
    <tr>
     <td>
      3C
     </td>
     <td>
      124
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_0
     </td>
    </tr>
    <tr>
     <td>
      40
     </td>
     <td>
      128
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_1
     </td>
    </tr>
    <tr>
     <td>
      44
     </td>
     <td>
      12C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_2
     </td>
    </tr>
    <tr>
     <td>
      48
     </td>
     <td>
      130
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_3
     </td>
    </tr>
    <tr>
     <td>
      4C
     </td>
     <td>
      134
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_4
     </td>
    </tr>
    <tr>
     <td>
      50
     </td>
     <td>
      138
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      54
     </td>
     <td>
      13C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      58
     </td>
     <td>
      140
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      5C
     </td>
     <td>
      144
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      IP_DIAG_8
     </td>
    </tr>
    <tr>
     <td>
      60
     </td>
     <td>
      148
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      64
     </td>
     <td>
      14C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      68
     </td>
     <td>
      150
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      6C
     </td>
     <td>
      154
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_0
     </td>
    </tr>
    <tr>
     <td>
      70
     </td>
     <td>
      158
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_1
     </td>
    </tr>
    <tr>
     <td>
      74
     </td>
     <td>
      15C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_2
     </td>
    </tr>
    <tr>
     <td>
      78
     </td>
     <td>
      160
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_3
     </td>
    </tr>
    <tr>
     <td>
      7C
     </td>
     <td>
      164
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_4
     </td>
    </tr>
    <tr>
     <td>
      80
     </td>
     <td>
      168
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      84
     </td>
     <td>
      16C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      88
     </td>
     <td>
      170
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      8C
     </td>
     <td>
      174
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_8
     </td>
    </tr>
    <tr>
     <td>
      90
     </td>
     <td>
      178
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-230-2">
  </span>
  <span id="page-230-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Table 44: Register file: 0x18 – Double buffer diagnostic register set overview
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th colspan="2">
      OFFSET in Register 0x18
     </th>
     <th>
      RDB_DMODE
     </th>
     <th>
      MINDIAG
     </th>
     <th>
      Register data
     </th>
    </tr>
    <tr>
     <th>
      SET_1
     </th>
     <th>
      SET_2
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <td>
      94
     </td>
     <td>
      17C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      98
     </td>
     <td>
      180
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      9C
     </td>
     <td>
      184
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS_DIAG_12
     </td>
    </tr>
    <tr>
     <td>
      A0
     </td>
     <td>
      188
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      A4
     </td>
     <td>
      18C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      A8
     </td>
     <td>
      190
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      AC
     </td>
     <td>
      194
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      B0
     </td>
     <td>
      198
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      B4
     </td>
     <td>
      19C
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_0
     </td>
    </tr>
    <tr>
     <td>
      B8
     </td>
     <td>
      1A0
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_1
     </td>
    </tr>
    <tr>
     <td>
      BC
     </td>
     <td>
      1A4
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_2
     </td>
    </tr>
    <tr>
     <td>
      C0
     </td>
     <td>
      1A8
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_3
     </td>
    </tr>
    <tr>
     <td>
      C4
     </td>
     <td>
      1AC
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_4
     </td>
    </tr>
    <tr>
     <td>
      C8
     </td>
     <td>
      1B0
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      CC
     </td>
     <td>
      1B4
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      D0
     </td>
     <td>
      1B8
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      D4
     </td>
     <td>
      1BC
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_8
     </td>
    </tr>
    <tr>
     <td>
      D8
     </td>
     <td>
      1C0
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      DC
     </td>
     <td>
      1C4
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      E0
     </td>
     <td>
      1C8
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      Reserved
     </td>
    </tr>
    <tr>
     <td>
      E4
     </td>
     <td>
      1CC
     </td>
     <td>
      4
     </td>
     <td>
      0
     </td>
     <td>
      STS1_DIAG_12
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-231-0">
   </span>
   <b>
    Register file: 0x1D – Indirect pointer A
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1D
     </td>
     <td>
      -
     </td>
     <td>
      RW
     </td>
     <td>
      INDIRECT_PTR_A
     </td>
     <td>
      Indirect pointer A
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-231-1">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x1E:00 is the indirect pointer A. When reading or writing to this register the host  will access register that was programmed into
   <a href="#page-234-0">
    PTR_ADDR_A,
   </a>
   at offset programmed int
   <a href="#page-234-1">
    o PTR_OFFSET_A.
   </a>
   The  indirect register addess is needed when accessing the register contents starting at offset &gt; 127.
  </p>
  <h2>
   <span id="page-231-2">
   </span>
   <b>
    Register file: 0x1E – Indirect pointer B
   </b>
  </h2>
  <span id="page-231-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1E
     </td>
     <td>
      -
     </td>
     <td>
      RW
     </td>
     <td>
      INDIRECT_PTR_B
     </td>
     <td>
      Indirect pointer B
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x1E:00 is the indirect pointer B. When reading or writing to this register the host  will access register that was programmed into
   <a href="#page-235-0">
    PTR_ADDR_B,
   </a>
   at offset programmed int
   <a href="#page-236-0">
    oPTR_OFFSET_B.
   </a>
   The  indirect register addess is needed when accessing the register contents starting at offset &gt; 127
  </p>
  <h2>
   <span id="page-232-1">
   </span>
   <b>
    Register file: 0x1F – FINT status and indirect pointer interface
   </b>
  </h2>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F
     </td>
     <td>
      19
     </td>
     <td>
      -
     </td>
     <td>
      IN_PTR_CFG
     </td>
     <td>
      Indirect pointer configuration and fast interrupt status register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   <span id="page-232-2">
   </span>
   <a href="#page-70-3">
    Register map
   </a>
   register file 0x1F contains the reduced status events set status register and the indirect pointer  configuration interface. The latter allows read/write access to registers with register subaddresses &gt; 127. For example to read 10 bytes from
   <a href="#page-226-1">
    RX_BUFFER_0
   </a>
   from any offset &lt;= 127, a normal SPI read transaction  should be used. However to read the same bytes from
   <a href="#page-226-1">
    RX_BUFFER_0
   </a>
   with offset &gt; 127, the indirect access  needs to be used. This is achieved as follows (either pointer A
   <a href="#page-231-1">
    (INDIRECT_PTR_A)
   </a>
   or pointer B
   <a href="#page-231-3">
    (INDIRECT_PTR_B)
   </a>
   can be used for this):
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Program the base addres of the register to be accessed through the indirect pointer, if using pointer  A then program
     <a href="#page-234-0">
      PTR_ADDR_A
     </a>
    </li>
    <li block-type="ListItem">
     Program the offset of the register to be accessed, if using pointer A then program
     <a href="#page-234-1">
      PTR_OFFSET_A
     </a>
    </li>
    <li block-type="ListItem">
     Read/Write the desired data by using a standard SPI read/write transaction from
     <a href="#page-231-1">
      INDIRECT_PTR_A.
     </a>
    </li>
   </ul>
  </p>
  <p block-type="Text">
   There are a number of sub-registers in this register file. An overview of these sub-registers is given by
   <a href="#page-232-0">
    Table
   </a>
   <a href="#page-232-0">
    45,
   </a>
   and each is then separately described in the sub-sections below.
  </p>
  <span id="page-232-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      OFFSET in Register
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
      0x1F
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      0x00
     </td>
     <td>
      FINT_STAT
     </td>
     <td>
      Fast System Event Status Register
     </td>
    </tr>
    <tr>
     <td>
      0x04
     </td>
     <td>
      PTR_ADDR_A
     </td>
     <td>
      Base address of register to be accessed through pointer A
     </td>
    </tr>
    <tr>
     <td>
      0x08
     </td>
     <td>
      PTR_OFFSET_A
     </td>
     <td>
      Offset address of register to be accessed through pointer A
     </td>
    </tr>
    <tr>
     <td>
      0x0C
     </td>
     <td>
      PTR_ADDR_B
     </td>
     <td>
      Base address of register to be accessed through pointer B
     </td>
    </tr>
    <tr>
     <td>
      0x10
     </td>
     <td>
      PTR_OFFSET_B
     </td>
     <td>
      Offset address of register to be accessed through pointer B
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 45: Register file: 0x1F –
    <a href="#page-232-1">
     FINT status and indirect pointer interface
    </a>
    overview
   </b>
  </h2>
  <h3>
   <span id="page-232-3">
   </span>
   <b>
    8.2.25.1 Sub-register 0x1F:00 – Fast system event status
   </b>
  </h3>
  <span id="page-232-4">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F:00
     </td>
     <td>
      1
     </td>
     <td>
      RO
     </td>
     <td>
      FINT_STAT
     </td>
     <td>
      Fast system event status register
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x1F –
   <a href="#page-232-1">
    FINT status and indirect pointer interface,
   </a>
   sub-register 0x00 is the reduced system event  status register,
   <a href="#page-232-4">
    FINT_STAT.
   </a>
   It contains status bits that indicate the occurrence of different system events or  status changes. It is a reduced set of
   <a href="#page-91-0">
    SYS_STATUS
   </a>
   events. Reading the
   <a href="#page-232-4">
    FINT_STAT
   </a>
   register returns the state
  </p>
  <p block-type="Text">
   of the status bits as long as the matching
   <a href="#page-87-0">
    SYS_ENABLE
   </a>
   event bit is set. Thus it will report the events which  gave rise to the interrupt. Generally these event status bits are latched so that the event is captured. The  bits will have to be cleared by writing to relevan
   <a href="#page-91-0">
    t SYS_STATUS
   </a>
   bits. The
   <a href="#page-232-4">
    FINT_STAT
   </a>
   register contains the  system event status bits identified and described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
      <br/>
      7
      <br/>
      6
      <br/>
      T
      <br/>
      SYS_PANIC
      <br/>
      SYS_EVEN
     </th>
     <th colspan="11">
      REG:1F:00 – FINT_STAT – Fast system status register
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      5
      <br/>
      4
     </th>
     <th>
     </th>
     <th>
      3
      <br/>
      2
     </th>
     <th>
      1
      <br/>
      0
     </th>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXERR
      <br/>
      RXTO
     </td>
     <td>
     </td>
     <td>
      RXTSERR
      <br/>
      RXOK
     </td>
     <td>
      CCA_FAIL
      <br/>
      TXOK
     </td>
    </tr>
    <tr>
     <td>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
     <td>
      0
      <br/>
      0
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The system event status bits of the
   <a href="#page-232-4">
    FINT_STAT
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:00 – Fast system event status
     </th>
    </tr>
    <tr>
     <td>
      –
      <br/>
      reg:1F:00
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      bit:various
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      TXOK
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      TXFRB or TXPRS or TXPHS or TXFRS. This is a READ ONLY status flag – it will be cleared by
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      writing 1 to relevant status bits (as listed above) in Sub-register 0x00:44 – System event
     </td>
    </tr>
    <tr>
     <td>
      bit:0
     </td>
     <td>
      status, whichever ones are set.
     </td>
    </tr>
    <tr>
     <td>
      CCA_FAIL
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      AAT or CCA_FAIL. This is a READ ONLY status flag – it will be cleared by writing 1 to ….
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
      <br/>
      bit:1
     </td>
     <td>
      Status bit in Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
      RXTSERR
     </td>
     <td>
      This bit will be set if CIAERR event is set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      This is a READ ONLY status flag – it will be cleared by writing 1 to CIAERR status bit in Sub
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
      bit:2
      <br/>
      RXOK
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXFR and CIADONE or RXFCG. This is a READ ONLY status flag – it will be cleared by writing
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      1 to relevant status bits (as listed above) in Sub-register 0x00:44 – System event status.
     </td>
    </tr>
    <tr>
     <td>
      bit:3
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      RXERR
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXFCE or RXFSL or RXPHE or ARFE or RXSTO or RXOVRR. This is a READ ONLY status flag – it
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      will be cleared by writing 1 to relevant status bits (as listed above) in Sub-register 0x00:44 –
     </td>
    </tr>
    <tr>
     <td>
      bit:4
     </td>
     <td>
      System event status, whichever ones are set.
     </td>
    </tr>
    <tr>
     <td>
      RXTO
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      RXFTO or RXPTO. This is a READ ONLY status flag – it will be cleared by writing 1 to RXFTO
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
      <br/>
      bit:5
     </td>
     <td>
      or RXPTO status bits in Sub-register 0x00:44 – System event status, whichever ones are set.
     </td>
    </tr>
    <tr>
     <td>
      SYS_EVENT
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      VT_DET or GPIOIRQ or RCINIT or SPIRDY. This is a READ ONLY status flag – it will be cleared
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      by writing 1 to relevant status bits (as listed above) in Sub-register 0x00:44 – System event
     </td>
    </tr>
    <tr>
     <td>
      bit:6
     </td>
     <td>
      status, whichever ones are set.
     </td>
    </tr>
    <tr>
     <td>
      SYS_PANIC
     </td>
     <td>
      This bit will be set if any of the following events are set in the SYS_STATUS register:
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      AES_ERR or CMD_ERR or SPI_UNF or SPI_OVF or SPIERR or PLL_HILO or VWARN. This is a
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:00
     </td>
     <td>
      READ ONLY status flag – it will be cleared by writing 1 to relevant status bits (as listed above)
     </td>
    </tr>
    <tr>
     <td>
      bit:7
     </td>
     <td>
      in Sub-register 0x00:44 – System event status, whichever ones are set.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-234-2">
   </span>
   <b>
    8.2.25.2 Sub-register 0x1F:04 – Pointer A reg base address
   </b>
  </h2>
  <span id="page-234-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F:04
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      PTR_ADDR_A
     </td>
     <td>
      Base address of the register to be accessed through indirect
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      pointer A
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x1F –
   <a href="#page-232-1">
    FINT status and indirect pointer interface,
   </a>
   sub-register 0x04 contains the base address of  the register to be accessed through indirect pointer A. The
   <a href="#page-234-0">
    PTR_ADDR_A
   </a>
   register is described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="10">
      REG:1F:04 – PTR_ADDR_A – Base address of the register to access
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th>
      -
     </th>
     <th colspan="3">
      PTRA_BASE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-234-0">
    PTR_ADDR_A
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:04 – Pointer A reg base address
     </th>
    </tr>
    <tr>
     <td>
      PTRA_BASE
     </td>
     <td>
      The base address of the register to be accessed through indirect pointer A
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (INDIRECT_PTR_A)
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:4-0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:7-5
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h3>
   <span id="page-234-3">
   </span>
   <b>
    8.2.25.3 Sub-register 0x1F:08 – Pointer A reg offset address
   </b>
  </h3>
  <span id="page-234-1">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="5">
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F:08
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PTR_OFFSET_A
     </td>
     <td>
      Offset address of the register to be accessed through indirect
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      pointer A
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x1F –
   <a href="#page-232-1">
    FINT status and indirect pointer interface,
   </a>
   sub-register 0x08 contains the offset address  of the register to be accessed through indirect pointer A. The
   <a href="#page-234-1">
    PTR_OFFSET_A
   </a>
   register is described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="13">
      REG:1F:08 – PTR_OFFSET_A – Base address of the register to access
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      PTRA_OFS
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-234-1">
    PTR_OFFSET_A
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:08 – Pointer A reg offset address
     </th>
    </tr>
    <tr>
     <td>
      PTRA_OFS
     </td>
     <td>
      The offset address of the register to be accessed through indirect pointer A
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (INDIRECT_PTR_A).
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:08
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:14-0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:04
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-235-1">
   </span>
   <b>
    8.2.25.4 Sub-register 0x1F:0C – Pointer B reg base address
   </b>
  </h4>
  <span id="page-235-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F:0C
     </td>
     <td>
      1
     </td>
     <td>
      RW
     </td>
     <td>
      PTR_ADDR_B
     </td>
     <td>
      Base address of the register to be accessed through indirect
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      pointer B
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x1F –
   <a href="#page-232-1">
    FINT status and indirect pointer interface,
   </a>
   sub-register 0x0C contains the base address of  the register to be accessed through indirect pointer B.
   <b>
    Note: in the API
    <a href="#page-253-7">
     [3]
    </a>
    indirect pointer B is reserved for  double buffer
    <a href="#page-230-2">
     SET_2
    </a>
    access.
   </b>
   The
   <a href="#page-235-0">
    PTR_ADDR_B
   </a>
   register is described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="12">
      REG:1F:0C – PTR_ADDR_B – Base address of the register to access
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
      <br/>
      9
      <br/>
      8
     </th>
     <th>
      7
      <br/>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
      <br/>
      3
      <br/>
      2
      <br/>
      1
      <br/>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
      <br/>
      -
     </th>
     <th>
      -
     </th>
     <th>
      PTRB_BASE
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      0
      <br/>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
      <br/>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-235-0">
    PTR_ADDR_B
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:0C – Pointer B reg base address
     </th>
    </tr>
    <tr>
     <td>
      PTRB_BASE
     </td>
     <td>
      The base address of the register to be accessed through indirect pointer B
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (INDIRECT_PTR_B).
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:0C
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:4-0
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:0C – Pointer B reg base address
     </th>
    </tr>
    <tr>
     <td>
      –
      <br/>
      reg:1F:0C
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      bits:7-5
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h4>
   <span id="page-236-1">
   </span>
   <b>
    8.2.25.5 Sub-register 0x1F:10 – Pointer B reg offset address
   </b>
  </h4>
  <span id="page-236-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      ID
     </th>
     <th>
      Length
      <br/>
      (octets)
     </th>
     <th>
      Type
     </th>
     <th>
      Mnemonic
     </th>
     <th colspan="8">
      Description
     </th>
    </tr>
    <tr>
     <td>
      1F:10
     </td>
     <td>
      2
     </td>
     <td>
      RW
     </td>
     <td>
      PTR_OFFSET_B
     </td>
     <td>
      Offset address of the register to be accessed through indirect
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
     </td>
     <td>
      pointer B
     </td>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   Register file: 0x1F –
   <a href="#page-232-1">
    FINT status and indirect pointer interface,
   </a>
   sub-register 0x08 contains the offset address  of the register to be accessed through indirect pointer B.
   <b>
    Note: in the AP
    <a href="#page-253-7">
     I [3]
    </a>
    indirect pointer B is reserved  for double buffer
    <a href="#page-230-2">
     SET_2
    </a>
    access.
   </b>
   The
   <a href="#page-236-0">
    PTR_OFFSET_B
   </a>
   register is described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th colspan="9">
      REG:1F:10 – PTR_OFFSET_B – Base address of the register to access
     </th>
    </tr>
    <tr>
     <th>
      31 30 29 28 27 26 25 24 23 22 21 20 19 18 17 16 15 14 13 12 11 10
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      9
     </th>
     <th>
      8
     </th>
     <th>
      7
     </th>
     <th>
      6
     </th>
     <th>
      5
     </th>
     <th>
      4
     </th>
     <th>
      3
     </th>
     <th>
      2
     </th>
     <th>
      1
     </th>
     <th>
      0
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
      -
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      PTRB_OFS
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
    </tr>
    <tr>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
     <th>
      0
     </th>
    </tr>
   </tbody>
  </table>
  <p block-type="Text">
   The bits of the
   <a href="#page-236-0">
    PTR_OFFSET_B
   </a>
   register identified above are individually described below:
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Field
     </th>
     <th>
      Description of fields within Sub-register 0x1F:10 – Pointer B reg offset address
     </th>
    </tr>
    <tr>
     <td>
      PTRA_OFS
     </td>
     <td>
      The offset address of the register to be accessed through indirect pointer B
     </td>
    </tr>
    <tr>
     <td>
     </td>
     <td>
      (INDIRECT_PTR_B).
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bits:14-0
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      –
     </td>
     <td>
      Bits marked '-' are reserved and should not be changed.
     </td>
    </tr>
    <tr>
     <td>
      reg:1F:10
     </td>
     <td>
     </td>
    </tr>
    <tr>
     <td>
      bit:15
     </td>
     <td>
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-237-0">
   </span>
   <b>
    9 Fast Commands
   </b>
  </h2>
  <p block-type="Text">
   This section lists and describes the single-octet commands used initiate specific IC activities. For details of  format for the fast command SPI transaction please refer to section
   <i>
    <a href="#page-10-0">
     2.3
    </a>
    –
    <a href="#page-10-1">
     The SPI interface
    </a>
   </i>
   .
   <a href="#page-237-2">
    Table 46
   </a>
   lists the  supported commands and their hex codes, and each command is described in separate sub-sections  following this.
  </p>
  <span id="page-237-21">
  </span>
  <span id="page-237-20">
  </span>
  <span id="page-237-19">
  </span>
  <span id="page-237-18">
  </span>
  <span id="page-237-17">
  </span>
  <span id="page-237-16">
  </span>
  <span id="page-237-8">
  </span>
  <span id="page-237-7">
  </span>
  <span id="page-237-6">
  </span>
  <span id="page-237-5">
  </span>
  <span id="page-237-4">
  </span>
  <span id="page-237-3">
  </span>
  <span id="page-237-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Command ID
     </th>
     <th>
      Code
     </th>
     <th colspan="5">
      Brief Description
     </th>
    </tr>
    <tr>
     <td>
      CMD_TXRXOFF
     </td>
     <td>
      0x0
     </td>
     <td>
      Puts the device into IDLE state and clears any events.
     </td>
    </tr>
    <tr>
     <td colspan="2">
      CMD_TX
      <br/>
      0x1
     </td>
     <td colspan="6">
      Immediate start of transmission
     </td>
    </tr>
    <tr>
     <td>
      CMD_RX
     </td>
     <td>
      0x2
     </td>
     <td>
      Enable RX immediately
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX
     </td>
     <td>
      0x3
     </td>
     <td>
      Delayed TX w.r.t. DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX
     </td>
     <td>
      0x4
     </td>
     <td>
      Delayed RX w.r.t. DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_TS
     </td>
     <td>
      0x5
     </td>
     <td>
      Delayed TX w.r.t. TX timestamp + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_TS
     </td>
     <td>
      0x6
     </td>
     <td>
      Delayed RX w.r.t. TX timestamp + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_RS
     </td>
     <td>
      0x7
     </td>
     <td>
      Delayed TX w.r.t. RX timestamp + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_RS
     </td>
     <td>
      0x8
     </td>
     <td>
      Delayed RX w.r.t. RX timestamp + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_REF
     </td>
     <td>
      0x9
     </td>
     <td>
      Delayed TX w.r.t. DREF_TIME + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_DRX_REF
     </td>
     <td>
      0xA
     </td>
     <td>
      Delayed RX w.r.t. DREF_TIME + DX_TIME
     </td>
    </tr>
    <tr>
     <td>
      CMD_CCA_TX
     </td>
     <td>
      0xB
     </td>
     <td>
      TX if no preamble detected
     </td>
    </tr>
    <tr>
     <td>
      CMD_TX_W4R
     </td>
     <td colspan="2">
      0xC
      <br/>
      Start TX immediately, then when TX is done, enable the
      <br/>
      receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_W4R
     </td>
     <td>
      0xD
     </td>
     <td>
      Delayed TX w.r.t. DX_TIME, then enable receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_TS_W4R
     </td>
     <td>
      0xE
     </td>
     <td>
      Delayed TX w.r.t. TX timestamp + DX_TIME, then enable
      <br/>
      receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_RS_W4R
     </td>
     <td>
      0xF
     </td>
     <td>
      Delayed TX w.r.t. RX timestamp + DX_TIME, then enable
      <br/>
      receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_DTX_REF_W4R
     </td>
     <td>
      0x10
     </td>
     <td>
      Delayed TX w.r.t. DREF_TIME + DX_TIME, then enable receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_CCA_TX_W4R
     </td>
     <td>
      0x11
     </td>
     <td>
      TX packet if no preamble detected, then enable receiver
     </td>
    </tr>
    <tr>
     <td>
      CMD_CLR_IRQS
     </td>
     <td>
      0x12
     </td>
     <td>
      Clear all interrupt events
     </td>
    </tr>
    <tr>
     <td>
      CMD_DB_TOGGLE
     </td>
     <td>
      0x13
     </td>
     <td>
      Toggle double buffer pointer / notify the device that the host
      <br/>
      has finished processing the received buffer/data.
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Table 46: List of supported fast commands
   </b>
  </h2>
  <h2>
   <span id="page-237-15">
   </span>
   <span id="page-237-14">
   </span>
   <span id="page-237-13">
   </span>
   <span id="page-237-12">
   </span>
   <span id="page-237-11">
   </span>
   <span id="page-237-10">
   </span>
   <span id="page-237-9">
   </span>
   <span id="page-237-1">
   </span>
   <i>
    9.1 CMD_TXRXOFF
   </i>
  </h2>
  <p block-type="Text">
   This command puts the device into
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   state, it will turn off the transmitter or receiver if the device is  actively transmitting or receiving, thus any active transmission or reception is aborted.
  </p>
  <p block-type="Text">
   This command must be issued only when device is in
   <b>
    <a href="#page-18-4">
     IDLE_PLL
    </a>
   </b>
   ,
   <b>
    <a href="#page-19-1">
     TX
    </a>
   </b>
   or
   <b>
    <a href="#page-20-1">
     RX
    </a>
   </b>
   state, otherwise the device will  need a restart. It should not be issued when device is in
   <b>
    <a href="#page-18-7">
     INIT_RC
    </a>
   </b>
   or
   <b>
    <a href="#page-18-5">
     IDLE_RC
    </a>
   </b>
   states.
  </p>
  <p block-type="Text">
   <b>
    Note:
   </b>
  </p>
  <p block-type="Text">
   <b>
    If host has configured the device into TX test mode: e.g. continuous frame mode (when
   </b>
   <a href="#page-212-3">
    TX_PSTM
   </a>
   <b>
    bit is  set), issuing TRXOFF will not put the device into IDLE state.
   </b>
  </p>
  <h2>
   <span id="page-238-0">
   </span>
   <i>
    9.2 CMD_TX
   </i>
  </h2>
  <p block-type="Text">
   This is a start TX command. It commands the DW3000 to start transmission. The transmission will start  immediately once the TX blocks are powered up. In general it would be expected that the user has a  prepared frame in the transmit buffer and has configured the desired transmit mode and set the frame  length. For general discussion of transmission see sectio
   <a href="#page-32-0">
    n 3
   </a>
   <a href="#page-32-0">
    Message transmission.
   </a>
  </p>
  <h2>
   <span id="page-238-1">
   </span>
   <i>
    9.3 CMD_RX
   </i>
  </h2>
  <p block-type="Text">
   This command enables the receiver. It commands the DW3000 to turn on its receiver and begin looking for  the configured preamble sequence. It is assumed that the all necessary configurations have been made  before turning on the receiver. For general discussion of reception see section
   <a href="#page-37-0">
    4
   </a>
   <a href="#page-37-0">
    Message reception.
   </a>
  </p>
  <h2>
   <span id="page-238-2">
   </span>
   <i>
    9.4 CMD_DTX
   </i>
  </h2>
  <p block-type="Text">
   This command instructs the device to do a delayed transmission. This control works in conjunction with the  DX_TIME value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time.
   </a>
   When the user wants to  control the time of sending of a packet, the send time is programmed into
   <a href="#page-86-2">
    DX_TIME,
   </a>
   and then this command  issued.
  </p>
  <p block-type="Text">
   When delayed sending is used the DW3000 precisely controls the transmission start time so that the internal  TX timestamp occurs at the point when
   <a href="#page-83-4">
    SYS_TIME
   </a>
   is equal to th
   <a href="#page-86-2">
    e DX_TIME
   </a>
   value. The actual time of TX then  is calculable as
   <a href="#page-86-2">
    DX_TIME
   </a>
   plus the TX antenna delay.
  </p>
  <h2>
   <span id="page-238-3">
   </span>
   <b>
    Delayed TX notes:
   </b>
  </h2>
  <p block-type="Text">
   <a href="#page-237-4">
    CMD_DTX
   </a>
   has a number of uses: -
  </p>
  <p block-type="Text">
   • It can be used to give precise control of the transmission time of a response message, which would allow a  receiver that knows this response time to only turn on at the correct time to receive the response, thus  saving power.
  </p>
  <p block-type="Text">
   • In symmetric double-sided two-way ranging, the RX to TX response times at either end should be the same  so that their differences in local clocks correctly cancel out. This may be ensured by settin
   <a href="#page-86-2">
    g DX_TIME
   </a>
   to a  value that is a fixed delta added to the RX time-stamp.
  </p>
  <p block-type="Text">
   • In two-way ranging the TX timestamp of the final message exchange needs to be communicated to the  receiving end to allow the round-trip delay to be calculated. Using CMD_DTX allows this time to be  predicted, pre-calculated and embedded into the final message itself. This may save the need for an  additional message interchange which will give a power saving, and save time too.
  </p>
  <p block-type="Text">
   • Embedding the TX time in this way may also reduce the number of messages in a wireless clock  synchronisation scheme.
  </p>
  <h4>
   <b>
    Note:
   </b>
  </h4>
  <p block-type="Text">
   <b>
    If host issues a delayed transmit command after the specified TX time has "passed", i.e. the time (in
    <a href="#page-86-2">
     DX_TIME)
    </a>
    is more than half period away from the current system time,
    <a href="#page-97-0">
     a HPDWARN
    </a>
    event will be set  (please see full description of
    <a href="#page-97-0">
     HPDWARN
    </a>
    event). Otherwise the device should enter the TX delay wait  state
    <a href="#page-216-4">
     (PMSC_STATE
    </a>
    = 0xA), and remain in this state until it starts to transmit the packet.
   </b>
  </p>
  <p block-type="Text">
   <b>
    Due to an errata in the DW3000, there is a case when neither the
    <a href="#page-97-0">
     HPDWARN
    </a>
    event gets set nor does the  packet get transmitted. This happens when the time at which the transmitter needs to be enabled to send  occurs within the analog front-end power up time preceding the current time. To avoid this bug reliably,  the delayed send time must be set far enough in advance; it should be at least equal or more than the  current time + preamble length + SFD length + 20 µs, or the time should be passed which will give rise to
    <a href="#page-97-0">
     HPDWARN.
    </a>
   </b>
  </p>
  <p block-type="Text">
   <b>
    The host can check for this issue by reading th
    <a href="#page-216-4">
     e PMSC_STATE.
    </a>
    When this bug occurs, the
    <a href="#page-216-4">
     PMSC_STATE
    </a>
    will  be "TX" bu
    <a href="#page-215-2">
     t TX_STATE
    </a>
    will be "IDLE", the
    <a href="#page-93-1">
     TXFRS
    </a>
    event will never be set, see state descriptions in
    <a href="#page-215-0">
     8.2.14.19
    </a>
    <a href="#page-215-0">
     Sub-register
    </a>
    0x0F:30 – System state. The host should abort the transmission in this case. This check and  recovery is implemented in the published DW3000 dwt-starttx() API.
   </b>
  </p>
  <h2>
   <span id="page-239-0">
   </span>
   <i>
    9.5 CMD_DRX
   </i>
  </h2>
  <p block-type="Text">
   This command instructs the device to turn on the receiver with a delay. This command works in conjunction  with the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time.
   </a>
   When the user  wants to control the time of turning on the receiver, the turn on time is programmed into
   <a href="#page-86-2">
    DX_TIME,
   </a>
   and  then this command executed. The DW3000 then precisely controls the RX turn on time so that it is ready to  receive the first symbol of preamble at the specified
   <a href="#page-86-2">
    DX_TIME
   </a>
   start time. In cases when the received time  can be known precisely, for example when a response is expected at a well-defined time, employing  CDM_DRX will give a power saving as it allows the IC to remain idle until the moment it is required to act for  the reception
  </p>
  <h2>
   <span id="page-239-1">
   </span>
   <i>
    9.6 CMD_DTX_TS
   </i>
  </h2>
  <p block-type="Text">
   This command will do a delayed transmission with respect to the last transmission timestamp. The new TX  timestamp will be the combination of the previous TX timestamp and the delay programmed in th
   <a href="#page-86-2">
    e DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time
   </a>
   (i.e. TX_TSnew = TX_Tsold +  DX_TIME). See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-239-2">
   </span>
   <i>
    9.7 CMD_DRX_TS
   </i>
  </h2>
  <p block-type="Text">
   This command will instruct the device to turn on its receiver with respect to the last transmission timestamp.  The receiver turn on time will be the combination of the previous TX timestamp and the delay programmed  in the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time.
   </a>
  </p>
  <h2>
   <span id="page-240-0">
   </span>
   <i>
    9.8 CMD_DTX_RS
   </i>
  </h2>
  <p block-type="Text">
   This command will do a delayed transmission with respect to the last receive timestamp. The new TX  timestamp will be the combination of the previous RX timestamp
   <a href="#page-101-2">
    (RX_TIME)
   </a>
   and the delay programmed in  the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time
   </a>
   (i.e. TX_Tsnew =  RX_Tsold + DX_TIME). See also notes in delayed TX section
   <a href="#page-238-3">
    9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-240-1">
   </span>
   <i>
    9.9 CMD_DRX_RS
   </i>
  </h2>
  <p block-type="Text">
   This command will instruct the device to turn on its receiver with respect to the last receive timestamp. The  receiver turn on time will be the combination of the previous RX timestamp and the delay programmed in  the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time
   </a>
  </p>
  <h2>
   <span id="page-240-2">
   </span>
   <i>
    9.10 CMD_DTX_REF
   </i>
  </h2>
  <p block-type="Text">
   This command will do a delayed transmission with respect to the time programmed into the
   <a href="#page-86-0">
    DREF_TIME
   </a>
   register. The new TX timestamp will be the combination of th
   <a href="#page-86-0">
    e DREF_TIME
   </a>
   and the delay programmed in  the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time
   </a>
   (i.e. TX_Tsnew = DREF +  DX_TIME). See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-240-3">
   </span>
   <i>
    9.11 CMD_DRX_REF
   </i>
  </h2>
  <p block-type="Text">
   This command will instruct the device to turn on its receiver with respect to the time programmed into the
   <a href="#page-86-0">
    DREF_TIME
   </a>
   register. The receiver turn on time will be the combination of the
   <a href="#page-86-0">
    DREF_TIME
   </a>
   and the delay  programmed in the
   <a href="#page-86-2">
    DX_TIME
   </a>
   value specified by Sub-register 0x00:2C –
   <a href="#page-86-3">
    Delayed send or receive time
   </a>
  </p>
  <h2>
   <span id="page-240-4">
   </span>
   <i>
    9.12 CMD_CCA_TX
   </i>
  </h2>
  <p block-type="Text">
   This command instructs the device to perform a pseudo CCA before starting transmission. Once this  command is issued the device will turn on the receiver and failing to detect preamble within the time  programmed in the preamble detection timeout register (
   <i>
    Sub-register 0x06:04 –
    <a href="#page-146-2">
     Preamble detection
    </a>
   </i>
   timeout
   <a href="#page-146-2">
    count)
   </a>
   it will start the transmission of the packet. If the preamble detection occurs, the transmission will be  aborted and preamble detection signalled
   <a href="#page-93-6">
    (RXPRD)
   </a>
   .
  </p>
  <h2>
   <span id="page-240-5">
   </span>
   <i>
    9.13 CMD_TX_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the start TX command
   <a href="#page-238-0">
    above.
   </a>
   It initially commands the DW3000 to start transmission, and then  once the transmission is complete the device will enable its receiver. Optionally receiver can be enabled with  a delay programmed int
   <a href="#page-104-1">
    o W4R_TIM
   </a>
   in Sub-register 0x01:08 –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
  </p>
  <h2>
   <span id="page-240-6">
   </span>
   <i>
    9.14 CMD_DTX_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the delayed TX comman
   <a href="#page-238-2">
    d above.
   </a>
   It initially commands the DW3000 to start delayed transmission  (as described in
   <a href="#page-237-4">
    CMD_DTX
   </a>
   ), and then once the transmission is complete the device will enable its receiver.  Optionally receiver can be enabled with a delay programmed int
   <a href="#page-104-1">
    o W4R_TIM
   </a>
   i
   <a href="#page-104-2">
    n Sub-register 0x01:08
   </a>
   –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
   See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-241-0">
   </span>
   <i>
    9.15 CMD_DTX_TS_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the delayed TX comman
   <a href="#page-239-1">
    d above.
   </a>
   It initially commands the DW3000 to start delayed transmission  (as described in
   <a href="#page-237-18">
    CMD_DTX_TS
   </a>
   ), and then once the transmission is complete the device will enable its receiver.  Optionally receiver can be enabled with a delay programmed int
   <a href="#page-104-1">
    o W4R_TIM
   </a>
   i
   <a href="#page-104-2">
    n Sub-register 0x01:08
   </a>
   –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
   See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-241-1">
   </span>
   <i>
    9.16 CMD_DTX_RS_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the delayed TX comman
   <a href="#page-240-0">
    d above.
   </a>
   It initially commands the DW3000 to start delayed transmission  (as described in
   <a href="#page-237-19">
    CMD_DTX_RS
   </a>
   ), and then once the transmission is complete the device will enable its receiver.  Optionally receiver can be enabled with a delay programmed int
   <a href="#page-104-1">
    o W4R_TIM
   </a>
   i
   <a href="#page-104-2">
    n Sub-register 0x01:08
   </a>
   –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
   See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-241-2">
   </span>
   <i>
    9.17 CMD_DTX_REF_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the delayed TX comman
   <a href="#page-240-2">
    d above.
   </a>
   It initially commands the DW3000 to start delayed transmission  (as described in
   <a href="#page-237-5">
    CMD_DTX_REF
   </a>
   ), and then once the transmission is complete the device will enable its  receiver. Optionally receiver can be enabled with a delay programmed into
   <a href="#page-104-1">
    W4R_TIM
   </a>
   in
   <a href="#page-104-2">
    Sub-register 0x01:08
   </a>
   –
   <a href="#page-104-2">
    Acknowledgement time and response time.
   </a>
   See also notes in delayed TX sectio
   <a href="#page-238-3">
    n 9.4.1.
   </a>
  </p>
  <h2>
   <span id="page-241-3">
   </span>
   <i>
    9.18 CMD_CCA_TX_W4R
   </i>
  </h2>
  <p block-type="Text">
   Similarly to the pseudo CCA TX command
   <a href="#page-240-4">
    above.
   </a>
   It initially commands the DW3000 to start transmission (as  described in
   <a href="#page-237-16">
    CMD_CCA_TX
   </a>
   ), and then once the transmission is complete the device will enable its receiver.  Optionally receiver can be enabled with a delay programmed int
   <a href="#page-104-1">
    o W4R_TIM
   </a>
   i
   <a href="#page-104-2">
    n Sub-register 0x01:08
   </a>
   –
   <a href="#page-104-2">
    Acknowledgement time and response time
   </a>
  </p>
  <h2>
   <span id="page-241-4">
   </span>
   <i>
    9.19 CMD_CLR_IRQS
   </i>
  </h2>
  <p block-type="Text">
   This command will clear all of the status events and will clear the interrupt if set.
  </p>
  <h2>
   <span id="page-241-5">
   </span>
   <i>
    9.20 CMD_DB_TOGGLE
   </i>
  </h2>
  <p block-type="Text">
   This command is only applicable when the device is using double buffering (the
   <a href="#page-77-1">
    DIS_DRXB
   </a>
   is set to 0). It will  notify the device that the host has finished with the last RX buffer and the buffer is free for the device to use  for another RX packet reception.
  </p>
  <h2>
   <span id="page-242-2">
   </span>
   <span id="page-242-0">
   </span>
   <b>
    10 Calibration
   </b>
  </h2>
  <p block-type="Text">
   The operating characteristics and performance of the DW3000 is dependent on the IC itself and on its  external circuitry and on its operating environment. To give optimum performance it is necessary to  calibrate the IC to account for factors which affect its operation.
  </p>
  <p block-type="Text">
   Some calibration parameters are dependent solely on process variations that occur within the silicon of the  IC during its manufacture. These are typically measured during IC production test and the required  calibration parameters are written to the
   <a href="#page-251-1">
    OTP
   </a>
   memory of the DW3000. The host system software can then  use these values during DW3000 configuration to optimise the DW3000 performance.
  </p>
  <p block-type="Text">
   Some calibration parameters are dependent on circuit elements external to the IC. These can only be  determined during the manufacture of the product e.g. a module into which the DW3000 is soldered. These  parameters are typically measured during product test and the required calibration parameters are stored in  an area of the DW3000's
   <a href="#page-251-1">
    OTP
   </a>
   memory which has been allocated for test calibration parameters. The host  system software will use this calibration data during DW3000 configuration to optimise the DW3000 performance.
  </p>
  <p block-type="Text">
   Some calibration parameters may vary according to the operational environment of the DW3000. For  example some parameters may need to be changed if there are large variations in the ambient temperature  (e.g. moving from a warm area into a cold store). In such circumstances in order to optimise the DW3000 performance the host system software can monitor the voltage and temperature using DW3000 and adjust  configuration accordingly.
  </p>
  <p block-type="Text">
   Elements of the DW3000 that may be subject to calibration are:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     Crystal trimming  the DW3000 contains trimming capacitors that can fine tune the operating  frequency of its crystal oscillator.
    </li>
    <li block-type="ListItem">
     Transmitter output power and spectrum  the DW3000 output spectrum is tuneable to meet  regional spectral regulations and maximise the output power to achieve the greatest operating  range.
    </li>
    <li block-type="ListItem">
     Antenna delay  the DW3000 antenna delay may be fine-tuned to give best possible ranging or  location accuracy.
    </li>
    <li block-type="ListItem">
     IC calibration  PLL calibration over temperature.
    </li>
   </ul>
  </p>
  <p block-type="Text">
   The sub-sections below detail the calibration of these DW3000 parameters.
  </p>
  <h2>
   <span id="page-242-1">
   </span>
   <i>
    10.1 IC calibration – crystal oscillator trim
   </i>
  </h2>
  <p block-type="Text">
   DW3000 is specified to operate with clock offsets between the transmitting and receiving nodes of up to ±20  ppm. The receiver sensitivity of DW3000 can be improved by reducing the relative offset in clocks between  the transmitting and receiving nodes. One way to reduce the offset is to use temperature compensated  crystal oscillators (TCXO) in both transmitting and receiving nodes or just in one side of the link. Using TCXOs  increases system cost and current consumption so generally they are only used in fixed anchor scenarios.  Where crystals are used as the clock reference, DW3000 provides a facility to trim the oscillator frequency
  </p>
  <p block-type="Text">
   by switching in internal capacitor banks in parallel with the external loading capacitors associated with the  chosen crystal. This trimming can be used to reduce the crystal initial frequency error and to compensate for  temperature and aging drift, if required.
  </p>
  <p block-type="Text">
   The amount of trimming is programmable through Sub-register 0x09:14 –
   <a href="#page-163-1">
    Crystal trim register.
   </a>
  </p>
  <h2>
   <b>
    Calibration method
   </b>
  </h2>
  <p block-type="Text">
   Please see API and example code
   <a href="#page-253-7">
    [3].
   </a>
  </p>
  <h2>
   <span id="page-243-0">
   </span>
   <i>
    10.2 IC calibration – transmit power and spectrum
   </i>
  </h2>
  <p block-type="Text">
   DW3000 provides registers to adjust the transmit power and spectrum bandwidth to meet regulatory limits.  Decawave provides an application note (APS312
   <a href="#page-253-10">
    [6]
   </a>
   ) which describes this in detail. The following registers are provided for control of the transmit power and bandwidth..
  </p>
  <table>
   <tbody>
    <tr>
     <th>
      Transmit Power
     </th>
     <th>
      TX_POWER
     </th>
    </tr>
    <tr>
     <td>
      Bandwidth
     </td>
     <td>
      PG_DELAY
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <b>
    Calibration method
   </b>
  </h2>
  <p block-type="Text">
   Please see API and example code
   <a href="#page-253-7">
    [3],
   </a>
   , and Application Note APS312
   <a href="#page-253-10">
    [6]
   </a>
  </p>
  <h2>
   <span id="page-243-1">
   </span>
   <i>
    10.3 IC calibration – antenna delay
   </i>
  </h2>
  <p block-type="Text">
   In order to measure range accurately, precise calculation of timestamps is required. To do this, a delay called  the antenna delay must be known. The DW3000 allows this delay to be calibrated and provides the facility to  compensate for delays introduced by PCB, external components, antenna and internal DW3000 delays.
  </p>
  <p block-type="Text">
   To calibrate the antenna delay, range is measured at a known distance using two DW3000 systems. Antenna  delay is adjusted until the known distance and reported range agree. The antenna delay can be stored in
   <a href="#page-251-1">
    OTP
   </a>
   memory.
  </p>
  <p block-type="Text">
   There is a Transmitter Antenna Delay and a Receiver Antenna Delay. The Transmitter Antenna Delay is used  to account for the delay between the internal digital timestamp of the
   <a href="#page-251-4">
    RMARKER
   </a>
   (as shown i
   <a href="#page-32-2">
    n Figure 13)
   </a>
   inside the DW3000 and the time th
   <a href="#page-251-4">
    e RMARKER
   </a>
   is transmitted from the antenna. The Receiver Antenna Delay  is used to account for the delay between the time of arrival of the
   <a href="#page-251-4">
    RMARKER
   </a>
   at the antenna and the internal  digital timestamp of the
   <a href="#page-251-4">
    RMARKER
   </a>
   inside the DW3000.
  </p>
  <p>
   <img src="_page_244_Figure_2.jpeg"/>
  </p>
  <p>
   <img src="_page_244_Figure_3.jpeg"/>
  </p>
  <h2>
   <span id="page-244-1">
   </span>
   <b>
    Calibration method
   </b>
  </h2>
  <p block-type="Text">
   See API and examples
   <a href="#page-253-7">
    [3],
   </a>
   and Application Note APS014
  </p>
  <h2>
   <span id="page-244-0">
   </span>
   <i>
    10.4 IC Calibration -PLL calibration over temperature
   </i>
  </h2>
  <p block-type="Text">
   For proper device operation, when using channel 9, the PLL will need to be re-calibrated if the device  temperature changes by 20° C, using the steps below:
  </p>
  <p block-type="ListGroup">
   <ul>
    <li block-type="ListItem">
     firstly the device state needs to be changed to
     <b>
      IDLE_RC
     </b>
     state, by clearin
     <a href="#page-222-3">
      g AINIT2IDLE
     </a>
     configuration  bit in
     <a href="#page-221-0">
      SEQ_CTRL
     </a>
     and setting th
     <a href="#page-222-4">
      e FORCE2INIT
     </a>
     bit
    </li>
    <li block-type="ListItem">
     then setting system clocks t
     <a href="#page-250-2">
      o FAST_RC,
     </a>
     by setting the
     <a href="#page-219-1">
      SYSCLKS
     </a>
     field to 0x3
    </li>
    <li block-type="ListItem">
     then clearing the
     <a href="#page-222-4">
      FORCE2INIT
     </a>
     bit
    </li>
    <li block-type="ListItem">
     and restoring system clocks to Auto mode, by setting setting th
     <a href="#page-219-1">
      e SYSCLKS
     </a>
     field to 0x0
    </li>
    <li block-type="ListItem">
     finally the host should set th
     <a href="#page-163-3">
      e CAL_EN
     </a>
     bit in
     <a href="#page-162-1">
      PLL_CAL
     </a>
     register and th
     <a href="#page-222-3">
      e AINIT2IDLE
     </a>
     configuration bit in
     <a href="#page-221-0">
      SEQ_CTRL
     </a>
     register to cause the IC will enable the PLL and wait for it to lock before entering the
     <b>
      <a href="#page-18-4">
       IDLE_PLL
      </a>
     </b>
     state
    </li>
   </ul>
  </p>
  <p block-type="Text">
   This only applies to channel 9. When using channel 5 the PLL does not need to be re-calibrated if  temperature changes.
  </p>
  <h2>
   <span id="page-245-1">
   </span>
   <span id="page-245-0">
   </span>
   <b>
    11 Location schemes
   </b>
  </h2>
  <p block-type="Text">
   This part of the discussion on operational design choices relates to RTLS location schemes. Some of the ideas  and points discussed may be more generally applicable.
  </p>
  <p block-type="Text">
   In general to locate a mobile node measurements are needed to be referenced to a number of fixed known  location "anchor" nodes. Typically a minimum of three anchor nodes are needed to locate a mobile node in  two dimensions, while a minimum four non-coplanar anchors are needed to locate a mobile node in three  dimensions. The spacing of anchors nodes in an installation has to be such that four anchors are always in  communication range of the mobile tag no matter where it is within the operating space. The  communication range is dependent on data rate and preamble length, the choice of which is influenced by  the node density requirements and perhaps also power consumption.
  </p>
  <p block-type="Text">
   There are three general methods of doing location. These are time difference of arrival (TDoA) based  location, time of flight (ToF) based location and Phase Difference of Arrival (PDoA). The main operational  points of each are outlined below. In either case the calculation of location, combining measurements from  multiple anchors, is typically done by a software functionality called the
   <i>
    central location engine
   </i>
   .
  </p>
  <p block-type="Text">
   Time of flight location requires two-way communication from the mobile node (tag) to each of the anchor  nodes in its vicinity. Periodic message exchanges are used to measure the round trip delay and hence  calculate the one way flight time between tag and anchor. The ToF times multiplied by the speed of light  (and radio waves) gives the distance between the tag and the anchor. Each distance estimate defines a  spherical surface, centred on the anchor, on which the tag must lie. The tag's 3D location is yielded by the  intersection of the spheres resulting from ToF measurements to the four anchors.
  </p>
  <p block-type="Text">
   In time difference of arrival (TDoA) location the mobile tag blinks periodically and the blink message is  received by the anchor nodes in its vicinity. When the anchor nodes have synchronised clocks so that the  arrival time of the blink message at all nodes can be compared, then for each pair of anchors the time  difference in the arrival of the blink message defines a hyperbolic surface on which the sending tag must lie.  The tag's 3D location is yielded by the intersection of the hyperbolic surfaces defined by the TDoA of the  blink at four pairs of anchors.
  </p>
  <p block-type="Text">
   Phase Difference of Arrival involves determining the phase difference at which the radio signal from the tag  arrives at the anchor relative to a predefined direction. By measuring PDoA at a number of anchors whose  position is known the source of the transmission can be determined. For low power RTLS deployments the  TDoA scheme has benefits in that the tag needs to only send a single message in order for it to be located.  In contrast in the ToF scheme the tag has to send and receive multiple messages with multiple anchors, and  it needs to know what anchors are in the vicinity so it can address each of them in turn correctly. ToF does  not need synchronised anchors, and may suit the case where a hand held device calculates its own location  as part of a navigation system. The TDoA is a lower power solution as there are fewer messages involved,  and this also suits higher density deployments. The TDoA anchor clock synchronisation may be achieved via  a wired clock distribution. Alternatively there are wireless techniques for clock synchronisation. Wired  synchronisation may suit higher tag densities as it allows anchors to listen all the time so no tag blinks are  missed or collide with the wireless clock sync messages (potentially disrupting synchronisation). Anchors  should be wired for power and also with Ethernet to communicate the arrival times to the central location engine.
  </p>
  <p block-type="Text">
   Two-way ranging (ToF) is good for proximity detection and separation alarms, especially when both parties  in the exchange are mobile nodes.
  </p>
  <p block-type="Text">
   In an RTLS the accuracy of the DW3000's RX timestamps can give sub 10 cm resolution. Note, however that  the geometry of anchors with respect to the tag can smear the accuracy of the calculated location when  individual measurements are combined. Having additional anchors in range of the tag can offset this if it  allows the system to select anchors with best geometry and best receive signal quality with respect to the  tag being located.
  </p>
  <h2>
   <span id="page-247-4">
   </span>
   <span id="page-247-0">
   </span>
   <b>
    12 APPENDIX 1: Two-way ranging
   </b>
  </h2>
  <h2>
   <span id="page-247-1">
   </span>
   <i>
    12.1 Introduction
   </i>
  </h2>
  <p block-type="Text">
   This appendix is for information only and describes various methods of implementing a two-way ranging  scheme between two nodes.
  </p>
  <p block-type="Text">
   The chosen two-way ranging algorithm is implemented by host system software and is not a feature of the  DW3000. The DW3000 just provides the facilities for message time-stamping and precise control of message  transmission times that enable these algorithms. See section
   <i>
    <a href="#page-40-2">
     4.1.7
    </a>
    –
    <a href="#page-40-2">
     RX message
    </a>
   </i>
   timestamp,
   <i>
    <a href="#page-33-0">
     3.2
    </a>
    –
    <a href="#page-33-0">
     Transmission
    </a>
   </i>
   timestamp and
   <i>
    <a href="#page-34-0">
     3.3
    </a>
    – Delayed
   </i>
   <a href="#page-34-0">
    transmission
   </a>
   for details of this.
  </p>
  <p block-type="Text">
   In all of the schemes that follow one node acts as
   <i>
    Initiator
   </i>
   , initiating a range measurement, while the other  node acts as a
   <i>
    Responder
   </i>
   listening and responding to the initiator, and calculating the range.
  </p>
  <h2>
   <span id="page-247-2">
   </span>
   <i>
    12.2 Single-sided two-way ranging
   </i>
  </h2>
  <p block-type="Text">
   Single-sided two-way ranging (SS-TWR) involves a simple measurement of the round trip delay of a single  message from one node to another and a response sent back to the original node.
  </p>
  <p>
   <img src="_page_247_Figure_9.jpeg"/>
  </p>
  <p>
   <b>
    Figure 31: Single-sided two-way ranging
   </b>
  </p>
  <p block-type="Text">
   <span id="page-247-3">
   </span>
   The operation of SS-TWR is as shown i
   <a href="#page-247-3">
    n Figure 31,
   </a>
   where device A initiates the exchange and device B  responds to complete the exchange and each device precisely timestamps the transmission and reception  times of the packets, and thus can calculate times Tround and Treply by simple subtraction. And the resultant  time-of-flight, Tprop may be estimated by the equation:
  </p>
  <p block-type="Equation">
   <math display="block">
    \hat{T}_{prop} = \frac{1}{2} \left( T_{round} - T_{reply} \right)
   </math>
  </p>
  <p block-type="TextInlineMath">
   The times Tround and Treply are measured independently by device A and B using their respective local clocks,  which both have some clock offset error e
   <sup>
    A
   </sup>
   and e
   <sup>
    B
   </sup>
   from their nominal frequency, and so the resulting timeof-flight estimate has a considerable error that increases as Treply increases. DW3000 however is able to  measure the clock offset of the remote transmitter, (see REG_DRX_DIAG3), and this may be used to  compensate for that error, using the modified equation below, to produce results that are as good as can be  achieved using DS-TWR where the reply times are not too long, (i.e. &lt; 5 ms).
  </p>
  <p block-type="Equation">
   <math display="block">
    \hat{T}_{prop} = \frac{1}{2} \left( T_{round} - T_{reply} \left( 1 - C_{offset} \right) \right)
   </math>
  </p>
  <h2>
   <span id="page-248-0">
   </span>
   <i>
    12.3 Double-sided two-way ranging
   </i>
  </h2>
  <h2>
   <b>
    Using four messages
   </b>
  </h2>
  <p block-type="Text">
   Double-sided two-way ranging (DS-TWR) is an extension of the basic single-sided two-way ranging in which  two round trip time measurements are used and combined to give a time-of-flight result which has a  reduced error even for quite long response delays.
  </p>
  <p>
   <img src="_page_248_Figure_5.jpeg"/>
  </p>
  <p>
   <b>
    Figure 32: Double-sided two-way ranging with four messages
   </b>
  </p>
  <p block-type="Text">
   <span id="page-248-1">
   </span>
   The operation of DS-TWR is as shown in
   <a href="#page-248-1">
    Figure 32,
   </a>
   where device A initiates the first round trip measurement  to which device B responds, after which device B initiates the second round trip measurement to which  device A responds completing the full DS-TWR exchange. Each device precisely timestamps the transmission  and reception times of the messages.
  </p>
  <h2>
   <b>
    Using three messages
   </b>
  </h2>
  <p block-type="Text">
   The four messages of DS-TWR, shown in
   <a href="#page-248-1">
    Figure 32,
   </a>
   can be reduced to three messages by using the reply of  the first round-trip measurement as the initiator of the second round-trip measurement. This is shown in
   <a href="#page-248-2">
    Figure 33.
   </a>
  </p>
  <p>
   <img src="_page_248_Figure_10.jpeg"/>
  </p>
  <p>
   <b>
    Figure 33: Double-sided two-way ranging with three messages
   </b>
  </p>
  <p block-type="Text">
   <span id="page-248-2">
   </span>
   The resultant time-of-flight estimate, Tprop, in both the three and four message cases may be calculated using  the expression:
  </p>
  <p block-type="Equation">
   <math display="block">
    \hat{T}_{prop} = \frac{(T_{round1} \times T_{round2} - T_{reply1} \times T_{reply2})}{(T_{round1} + T_{round2} + T_{reply1} + T_{reply2})}
   </math>
  </p>
  <p block-type="Text">
   This scheme is denoted
   <b>
    ASYMMETRIC
   </b>
   because it does not require the reply times from each device to be the  same. Using this scheme, the typical clock induced error is in the low picosecond range even with 20 ppm  crystals.
  </p>
  <p block-type="Text">
   The asymmetric method allows complex ranging schemes to be achieved with a small number of messages.  For example ranging from a tag to three anchors, can be achieved as per i
   <a href="#page-249-0">
    n Figure 34
   </a>
   where the tag can be  located after sending only 2 messages and receiving 3.
  </p>
  <p block-type="Text">
   This represents a substantial saving in message traffic thereby saving battery power and air-time. This  assumes that the anchors are networked and pool the range measurements in some centralised location  engine function that calculates the estimate of the tag's location.
  </p>
  <p>
   <img src="_page_249_Figure_5.jpeg"/>
  </p>
  <p>
   <span id="page-249-0">
   </span>
   <b>
    Figure 34: Ranging to 3 anchors with just 5 messages where each anchor calculates its own range result
   </b>
  </p>
  <h2>
   <span id="page-250-1">
   </span>
   <span id="page-250-0">
   </span>
   <b>
    13 APPENDIX 2: Abbreviations and acronyms
   </b>
  </h2>
  <span id="page-250-11">
  </span>
  <span id="page-250-10">
  </span>
  <span id="page-250-9">
  </span>
  <span id="page-250-8">
  </span>
  <span id="page-250-7">
  </span>
  <span id="page-250-6">
  </span>
  <span id="page-250-5">
  </span>
  <span id="page-250-4">
  </span>
  <span id="page-250-3">
  </span>
  <span id="page-250-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Abbreviation
     </th>
     <th>
      Full Title
     </th>
     <th colspan="2">
      Explanation
     </th>
    </tr>
    <tr>
     <td>
      AGC
     </td>
     <td>
      automatic gain
      <br/>
      control
     </td>
     <td colspan="2">
      A scheme that automatically adjusts the gain of the receiver depending
      <br/>
      on the power in the received signal
     </td>
    </tr>
    <tr>
     <td>
      ACK
     </td>
     <td>
      acknowledgement
      <br/>
      (frame)
     </td>
     <td colspan="2">
      A frame sent in response to a received frame indicating successful
      <br/>
      reception. DW3000 allows the automatic generation of such frames
      <br/>
      when appropriately configured.
     </td>
    </tr>
    <tr>
     <td>
      AES
     </td>
     <td>
      advanced
      <br/>
      encryption
      <br/>
      standard
     </td>
     <td colspan="2">
      AES is a symmetric block cipher used to encrypt data. In the DW3000
      <br/>
      this is implemented in a dedicated hardware block.
     </td>
    </tr>
    <tr>
     <td>
      AON
     </td>
     <td>
      always-on block
      <br/>
      (for saving
      <br/>
      configuration)
     </td>
     <td>
      A section of memory in DW3000 whose contents are retained provided
      <br/>
      VDD1 is maintained above the minimum limit specified in the DW3000
      <br/>
      Datasheet [5]. Intended for saving device configuration during the SLEEP
      <br/>
      and DEEPSLEEP states and restoring it thereafter.
     </td>
    </tr>
    <tr>
     <td>
      BPM
     </td>
     <td>
      burst position
      <br/>
      modulation
     </td>
     <td colspan="2">
      A modulation scheme in which information is conveyed by the position
      <br/>
      of a burst of pulses in one of a number of possible positions in a symbol
     </td>
    </tr>
    <tr>
     <td>
      BPSK
     </td>
     <td>
      binary phase-shift
      <br/>
      keying
     </td>
     <td colspan="2">
      A modulation scheme in which information is conveyed by whether
      <br/>
      pulses are positive or negative
     </td>
    </tr>
    <tr>
     <td>
      CRC
     </td>
     <td>
      cyclic redundancy
      <br/>
      check (an FCS)
     </td>
     <td colspan="2">
      Error detecting code appended to the frame in the transmitter to allow
      <br/>
      detection of errors at the receiver.
     </td>
    </tr>
    <tr>
     <td>
      CIR
     </td>
     <td>
      channel impulse
      <br/>
      response
     </td>
     <td colspan="2">
      The impulse response of the communications channel between the
      <br/>
      transmitter and receiver as detected by DW3000 for the most recently
      <br/>
      received packet. Really this is a channel impulse response estimate
      <br/>
      (CIRE) but the abbreviation CIR is used to mean the same thing
      <br/>
      throughout this manual.
     </td>
    </tr>
    <tr>
     <td>
      CIA
     </td>
     <td>
      channel impulse
      <br/>
      analyser
     </td>
     <td colspan="2">
      This is the algorithm that processes the CIR (in the accumulator) to find
      <br/>
      the leading edge during the process of estimating the RX timestamp for
      <br/>
      a received packet. The CIA may be applied to CIR resulting from
      <br/>
      preamble and/or STS sequences.
     </td>
    </tr>
    <tr>
     <td>
      DPS
     </td>
     <td>
      dynamic
      <br/>
      preamble select
     </td>
     <td colspan="2">
      Anti-spoofing mechanism to allow IEEE 802.15.4 [1] devices change their
      <br/>
      preamble codes during ranging from those in normal use.
     </td>
    </tr>
    <tr>
     <td>
      ESD
     </td>
     <td>
      electrostatic
      <br/>
      discharge
     </td>
     <td colspan="2">
      A sudden flow of electrical current between two electrically charged
      <br/>
      objects caused by contact, an electrical short circuit or dielectric
      <br/>
      breakdown. Can cause failure of semiconductor devices. DW3000 is
      <br/>
      resistant to ESD up to the limits specified in the Datasheet.
     </td>
    </tr>
    <tr>
     <td>
      EUI
     </td>
     <td>
      extended unique
      <br/>
      identifier
     </td>
     <td colspan="2">
      64-bit IEEE device address. Refer to Sub-register 0x00:04 – Extended
      <br/>
      Unique Identifier.
     </td>
    </tr>
    <tr>
     <td>
      FCS
     </td>
     <td>
      frame check
      <br/>
      sequence (the
      <br/>
      CRC)
     </td>
     <td colspan="2">
      A CRC appended to the frame in the transmitter to allow detection of
      <br/>
      errors at the receiver.
     </td>
    </tr>
    <tr>
     <td>
      FAST_RC
     </td>
     <td>
      fast RC oscillator
     </td>
     <td>
      Fast RC oscillator which runs at approx. 120 MHz.
     </td>
    </tr>
    <tr>
     <td>
      IF
     </td>
     <td>
      intermediate
      <br/>
      frequency
     </td>
     <td colspan="2">
      A frequency to which a carrier frequency is shifted as an intermediate
      <br/>
      step in transmission or reception.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-251-8">
  </span>
  <span id="page-251-7">
  </span>
  <span id="page-251-6">
  </span>
  <span id="page-251-5">
  </span>
  <span id="page-251-4">
  </span>
  <span id="page-251-3">
  </span>
  <span id="page-251-2">
  </span>
  <span id="page-251-1">
  </span>
  <span id="page-251-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Abbreviation
     </th>
     <th>
      Full Title
     </th>
     <th colspan="2">
      Explanation
     </th>
    </tr>
    <tr>
     <td>
      LCSS
     </td>
     <td>
      Low
      <br/>
      cross-correlation
      <br/>
      sum set
     </td>
     <td colspan="2">
      This is a block in the DW3000 receiver that modifies the STS correlation
      <br/>
      function to reduce side-lobes and produce a cleaner CIR accumulation of
      <br/>
      the STS.
     </td>
    </tr>
    <tr>
     <td>
      LDC
     </td>
     <td>
      low duty-cycle
     </td>
     <td colspan="2">
      Certain regulatory jurisdictions define rules that limit the duration of
      <br/>
      UWB transmissions per unit time in certain channels. These rules are
      <br/>
      generally referred to as low duty cycle rules
     </td>
    </tr>
    <tr>
     <td>
      LDO
     </td>
     <td>
      low drop-out
      <br/>
      voltage regulator
     </td>
     <td colspan="2">
      Linear voltage regulator that requires only a small differential between
      <br/>
      its input source voltage and its output regulated voltage below which it
      <br/>
      can no longer regulate correctly. DW3000 uses a number of such
      <br/>
      regulators.
     </td>
    </tr>
    <tr>
     <td>
      LNA
     </td>
     <td>
      low noise
      <br/>
      amplifier
     </td>
     <td colspan="2">
      Circuit normally found at the front-end of a radio receiver designed to
      <br/>
      amplify very low level signals while keeping any added noise to as low a
      <br/>
      level as possible
     </td>
    </tr>
    <tr>
     <td>
      LOS
     </td>
     <td>
      line of sight
     </td>
     <td colspan="2">
      Physical radio channel configuration in which there is a direct line of
      <br/>
      sight between the transmitter and the receiver
     </td>
    </tr>
    <tr>
     <td>
      NLOS
     </td>
     <td>
      non line of sight
     </td>
     <td colspan="2">
      Physical radio channel configuration in which there is no direct line of
      <br/>
      sight between the transmitter and the receiver
     </td>
    </tr>
    <tr>
     <td>
      OTP
     </td>
     <td>
      one-time
      <br/>
      programmable
      <br/>
      (memory)
     </td>
     <td colspan="2">
      Internal memory in DW3000 that can be programmed once to store
      <br/>
      various identification and calibration values
     </td>
    </tr>
    <tr>
     <td>
      PAC
     </td>
     <td>
      preamble
      <br/>
      acquisition chunk
     </td>
     <td colspan="2">
      A group of preamble symbols which are correlated together in the
      <br/>
      preamble detection process in the receiver. The size of the PAC is
      <br/>
      configurable – see DTUNE0.
     </td>
    </tr>
    <tr>
     <td>
      PDoA
     </td>
     <td>
      phase difference
      <br/>
      of arrival
     </td>
     <td colspan="2">
      The difference in the phase of a signal as received at a pair of antennas,
      <br/>
      which can provide information on the bearing of the transmitting
      <br/>
      device.
     </td>
    </tr>
    <tr>
     <td>
      PHR
     </td>
     <td>
      PHY header
     </td>
     <td>
      Part of the packet that comes before the PHY payload.
     </td>
    </tr>
    <tr>
     <td>
      PHY
     </td>
     <td>
      physical layer
     </td>
     <td colspan="2">
      Defined in the context of the OSI 7-layer model for communications
      <br/>
      systems in general and the IEEE802.15.4 [1] standard in particular, the
      <br/>
      PHY layer is the lowest layer in the 7-layermodel and defines the
      <br/>
      physical interface to the communications medium
     </td>
    </tr>
    <tr>
     <td>
      PLL
     </td>
     <td>
      phase locked loop
     </td>
     <td colspan="2">
      Phase locked loop used to generate stable frequency clocks. These are
      <br/>
      used in DW3000 to generate carrier frequencies and system clocks.
     </td>
    </tr>
    <tr>
     <td>
      PRF
     </td>
     <td>
      pulse repetition
      <br/>
      frequency
     </td>
     <td colspan="2">
      Defined in the context of the IEEE802.15.4 [1] standard. This is the
      <br/>
      frequency at which pulses are repeated in the preamble and data
      <br/>
      portions of a packet depending on the chosen configuration.
     </td>
    </tr>
    <tr>
     <td>
      PSR
     </td>
     <td>
      preamble symbol
      <br/>
      repetitions
     </td>
     <td colspan="2">
      Used to define the overall preamble length. A larger number of
      <br/>
      preamble symbol repetitions give a longer preamble.
     </td>
    </tr>
    <tr>
     <td>
      RF
     </td>
     <td>
      radio frequency
     </td>
     <td colspan="2">
      Generally used to refer to signals in the range of 3 kHz to 300 GHz. In
      <br/>
      the context of a radio receiver, the term is generally used to refer to
      <br/>
      circuits in a receiver before down-conversion takes place and in a
      <br/>
      transmitter after up-conversion takes place
     </td>
    </tr>
    <tr>
     <td>
      RMARKER
     </td>
     <td>
      ranging marker
     </td>
     <td colspan="2">
      The RMARKER is the time when the peak pulse location associated with
      <br/>
      the first chip period following the SFD is at the local antenna.
     </td>
    </tr>
   </tbody>
  </table>
  <span id="page-252-6">
  </span>
  <span id="page-252-5">
  </span>
  <span id="page-252-4">
  </span>
  <span id="page-252-3">
  </span>
  <span id="page-252-2">
  </span>
  <span id="page-252-1">
  </span>
  <span id="page-252-0">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Abbreviation
     </th>
     <th>
      Full Title
     </th>
     <th colspan="2">
      Explanation
     </th>
    </tr>
    <tr>
     <td>
      RSSI
     </td>
     <td>
      received signal
      <br/>
      strength
      <br/>
      indication
     </td>
     <td colspan="2">
      An abbreviation for the measured (or estimated) receive power level.
     </td>
    </tr>
    <tr>
     <td>
      RTLS
     </td>
     <td>
      real time location
      <br/>
      systems
     </td>
     <td colspan="2">
      System intended to provide information on the location of various items
      <br/>
      in real-time.
     </td>
    </tr>
    <tr>
     <td>
      RX
     </td>
     <td>
      receive or
      <br/>
      receiver
     </td>
     <td>
      Term used to refer to the receiver section of a transceiver or the
      <br/>
      operation of receiving signals
     </td>
    </tr>
    <tr>
     <td>
      SAR
     </td>
     <td>
      Successive
      <br/>
      Approximation
      <br/>
      Register ADC
     </td>
     <td colspan="2">
      A type of Analog to Digital converter that used a digital binary search to
      <br/>
      converge on the correct digital representation of the analog input level.
     </td>
    </tr>
    <tr>
     <td>
      SECDED
     </td>
     <td>
      single error
      <br/>
      correct, double
      <br/>
      error detect
     </td>
     <td colspan="2">
      A parity check sequence (used in the PHR) that allows the:
      <br/>
      •
      <br/>
      detection and correction of a single bit error in a group of bits or
      <br/>
      •
      <br/>
      the detection but not the correction of a double bit error
     </td>
    </tr>
    <tr>
     <td>
      SFD
     </td>
     <td>
      start of frame
      <br/>
      delimiter
     </td>
     <td colspan="2">
      Defined in IEEE802.15.4 [1]. The SFD marks the completion of the
      <br/>
      preamble section of the packet and the start of the payload or STS
      <br/>
      section depending on the packet type.
     </td>
    </tr>
    <tr>
     <td>
      SHR
     </td>
     <td>
      synchronisation
      <br/>
      header
     </td>
     <td colspan="2">
      Defined in the context of the IEEE802.15.4 standard. The SHR consists
      <br/>
      of the preamble and the SFD.
     </td>
    </tr>
    <tr>
     <td>
      SPI
     </td>
     <td>
      serial peripheral
      <br/>
      interface
     </td>
     <td colspan="2">
      An industry accepted method for interfacing between IC's using a
      <br/>
      synchronous serial scheme first introduced by Motorola
     </td>
    </tr>
    <tr>
     <td>
      SP3
     </td>
     <td>
      STS packet
      <br/>
      configuration 3
     </td>
     <td colspan="2">
      A packet configuration where the packet consists of just preamble, SFD
      <br/>
      and STS.
     </td>
    </tr>
    <tr>
     <td>
      STS
     </td>
     <td>
      scrambled
      <br/>
      timestamp
      <br/>
      sequence
     </td>
     <td colspan="2">
      A term used to refer to a sequence of pseudo-randomized pulses
      <br/>
      generated using a deterministic random bit generator (DRBG) and
      <br/>
      included in the UWB packet as per Figure 13 depending on the STS
      <br/>
      packet configuration.
     </td>
    </tr>
    <tr>
     <td>
      TDoA
     </td>
     <td>
      time difference of
      <br/>
      arrival
     </td>
     <td colspan="2">
      Method of deriving information on the location of a transmitter. The
      <br/>
      time of arrival of a packet at physically different locations whose clocks
      <br/>
      are synchronized is noted and the difference in the arrival times
      <br/>
      provides information on the location of the transmitter. A number of
      <br/>
      such TDoA measurements at different locations can be used to uniquely
      <br/>
      determine the position of the transmitter. Refer to Decawave's website
      <br/>
      for further information.
     </td>
    </tr>
    <tr>
     <td>
      ToA
     </td>
     <td>
      Time of arrival
     </td>
     <td colspan="2">
      The receive time of a packet, generally referenced to the RMARKER,
      <br/>
      sometimes called the receive timestamp.
     </td>
    </tr>
    <tr>
     <td>
      ToF
     </td>
     <td>
      time of flight
     </td>
     <td colspan="2">
      The time taken for a radio signal to travel between the transmitting
      <br/>
      antenna and the receiving antenna
     </td>
    </tr>
    <tr>
     <td>
      TX
     </td>
     <td>
      transmit or
      <br/>
      transmitter
     </td>
     <td colspan="2">
      Term used to refer to the transmitter section of a transceiver or the
      <br/>
      operation of transmitting signals
     </td>
    </tr>
    <tr>
     <td>
      UWB
     </td>
     <td>
      ultra wide-band
     </td>
     <td colspan="2">
      A radio scheme employing channel bandwidths of, or in excess of,
      <br/>
      500MHz
     </td>
    </tr>
    <tr>
     <td>
      WSN
     </td>
     <td>
      wireless sensor
      <br/>
      networks
     </td>
     <td colspan="2">
      A network of wireless nodes intended to enable the monitoring and
      <br/>
      control of the physical environment
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-253-5">
   </span>
   <span id="page-253-0">
   </span>
   <b>
    14 APPENDIX 3: References
   </b>
  </h2>
  <span id="page-253-9">
  </span>
  <span id="page-253-7">
  </span>
  <span id="page-253-4">
  </span>
  <span id="page-253-3">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      [1]
     </th>
     <th>
      IEEE Std 802.15.4™‐2020. IEEE Standard for Low‐Rate Wireless Networks. Developed by the LAN/MAN
      <br/>
      Standards Committee of the IEEE Computer Society. Available from: http://standards.ieee.org/
     </th>
    </tr>
    <tr>
     <td>
      [2]
     </td>
     <td>
      IEEE Std 802.15.4z™-2020 (Amendment to IEEE Std 802.15.4™-2020). IEEE Standard for Low-Rate Wireless
      <br/>
      Networks. Amendment 1: Enhanced Ultra Wideband (UWB) Physical Layers (PHYs) and Associated Ranging
      <br/>
      Techniques. Developed by the LAN/MAN Standards Committee of the IEEE Computer Society.
      <br/>
      Approved 4 June 2020 IEEE SA Standards Board. Available from: http://standards.ieee.org/
     </td>
    </tr>
    <tr>
     <td>
      [3]
     </td>
     <td>
      DW3000 APIs and Simple examples release – source code available from www.decawave.com
     </td>
    </tr>
    <tr>
     <td>
      [4]
     </td>
     <td>
      IEEE Std 802.15.8™-2017. IEEE Standard for Wireless Medium Access Control (MAC) and Physical Layer
      <br/>
      (PHY) Specifications for Peer Aware Communications (PAC). Developed by the LAN/MAN Standards
      <br/>
      Committee of the IEEE Computer Society. Available from: http://standards.ieee.org/
     </td>
    </tr>
    <tr>
     <td>
      [5]
     </td>
     <td>
      DW3000 Datasheet
     </td>
    </tr>
    <tr>
     <td>
      [6]
     </td>
     <td>
      APS312 Production tests for DW3000 based products – application note available from www.decawave.com
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-253-10">
   </span>
   <span id="page-253-8">
   </span>
   <span id="page-253-6">
   </span>
   <span id="page-253-1">
   </span>
   <b>
    15 Document history
   </b>
  </h2>
  <h3>
   <b>
    Table 47: Document history
   </b>
  </h3>
  <span id="page-253-2">
  </span>
  <table>
   <tbody>
    <tr>
     <th>
      Revision
     </th>
     <th>
      Date
     </th>
     <th>
      Description
     </th>
    </tr>
    <tr>
     <td>
      1.1
     </td>
     <td>
      28th May 2021
     </td>
     <td>
      Improved feature descriptions across entire document
     </td>
    </tr>
    <tr>
     <td>
      1.0
     </td>
     <td>
      st Sep 2020
      <br/>
      1
     </td>
     <td>
      First release
     </td>
    </tr>
   </tbody>
  </table>
  <h2>
   <span id="page-254-0">
   </span>
   <b>
    16 About Decawave
   </b>
  </h2>
  <p block-type="Text">
   Decawave develops semiconductors solutions, software, modules, reference designs - that enable real-time,  ultra-accurate, ultra-reliable local area micro-location services. Decawave's technology enables an entirely  new class of easy to implement, highly secure, intelligent location functionality and services for IoT and  smart consumer products and applications.
  </p>
  <p block-type="Text">
   For further information on this or any other Decawave product, please refer to our website
   <a href="http://www.decawave.com/">
    www.decawave.com
   </a>
  </p>
 </body>
</html>
